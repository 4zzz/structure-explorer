{"version":3,"sources":["graph_view/DiagramSystem.module.css","parser/grammar.js","serviceWorker.ts","redux/actions/index.js","constants/index.js","buttons/HelpButton.js","buttons/LockButton.js","buttons/TableButton.js","buttons/DatabaseButton.js","math_view/components_parts/TextInput.js","math_view/components_parts/TextComponent.js","buttons/ComponentLockButton.js","math_view/components/Language.js","redux/containers/LanguageContainer.js","math_view/components/VariablesValue.js","redux/containers/VariablesValueContainer.js","math_view/components_parts/Domain.js","math_view/components_parts/ConstantInterpretation.js","math_view/components/RelationalTable.js","math_view/components_parts/SelectComponent.js","math_view/components_parts/DatabasePredicate.js","math_view/components_parts/PredicateInterpretation.js","math_view/components_parts/DatabaseFunction.js","math_view/components_parts/FunctionInterpretation.js","math_view/components/Structure.js","model/Structure.js","model/Language.js","redux/selectors/languageObject.js","redux/selectors/structureObject.js","redux/containers/StructureContainer.js","buttons/AddButton.js","buttons/HenkinHintikkaGameButton.js","expressions_view/GameMessageBubble.js","expressions_view/Container.js","expressions_view/MessageAreaContainer.js","constants/gameMessages.js","expressions_view/UserMessageBubble.js","model/Expression.js","model/formula/Formula.js","model/formula/Formula.PredicateAtom.js","constants/gameConstants.js","model/formula/Formula.Implication.js","expressions_view/HenkinHintikkaGame.js","redux/containers/HenkinHintikkaGameContainer.js","expressions_view/Expressions.js","redux/containers/ExpressionsContainer.js","math_view/MathSystem.js","redux/containers/MathSystemContainer.js","buttons/DownloadButton.js","math_view/components_parts/ModalComponent.js","buttons/HelpGraphButton.js","buttons/ButtonToolbarComponent.js","buttons/HelpGraphCollapse.js","graph_view/components/TrayWidget.tsx","graph_view/components/TrayItemWidget.tsx","graph_view/components/MainCanvasWidget.tsx","graph_view/nodes/ConstantNames.tsx","graph_view/nodes/functions.ts","constants/parser_start_rules.js","graph_view/labels/binary/BinaryLabelModel.tsx","graph_view/nodes/NaryRelationPortModel.ts","graph_view/nodes/constant/ConstantPortModel.ts","graph_view/nodes/constant/ConstantNodeModel.ts","graph_view/nodes/BaseNodeModel.ts","graph_view/nodes/ternary/TernaryNodeModel.ts","graph_view/nodes/quaternary/QuaternaryNodeModel.ts","graph_view/links/binary/BinaryLinkModel.ts","graph_view/nodes/unbinary/UnBinaryPortModel.ts","graph_view/nodes/unbinary/UnBinaryNodeModel.ts","graph_view/nodes/unbinary/UnBinaryPortLabelWidget.tsx","graph_view/nodes/DropDownMenuWidget.tsx","graph_view/labels/binary/BinaryLabelWidget.tsx","graph_view/nodes/unbinary/UnBinaryNodeWidget.tsx","graph_view/nodes/constant/ConstantNodeWidget.tsx","graph_view/nodes/NaryListWidget.tsx","graph_view/nodes/ternary/TernaryNodeWidget.tsx","graph_view/nodes/quaternary/QuaternaryNodeWidget.tsx","graph_view/components/TrayItemWidgetIcon.js","graph_view/components/BodyWidget.tsx","redux/containers/DiagramModelContainer.js","graph_view/DiagramSystem.js","stateToJSON.ts","App.tsx","redux/containers/AppContainer.js","redux/reducers/functions/validation.js","constants/messages.js","model/term/Term.js","model/term/Term.Variable.js","model/term/Term.Constant.js","model/term/Term.FunctionTerm.js","model/formula/Formula.EqualityAtom.js","model/formula/Formula.Negation.js","model/formula/Formula.Conjunction.js","model/formula/Formula.Disjunction.js","model/formula/Formula.ExistentialQuant.js","model/formula/Formula.UniversalQuant.js","model/formula/Formula.Equivalence.js","redux/reducers/functions/parsers.js","redux/reducers/language.js","redux/actions/action_types.js","redux/reducers/structure.js","redux/selectors/valuationObject.js","redux/reducers/expressions.js","redux/reducers/teacherMode.ts","graph_view/nodes/unbinary/UnBinaryNodeFactory.tsx","graph_view/nodes/constant/ConstantNodeFactory.tsx","graph_view/labels/binary/BinaryLabelFactory.tsx","graph_view/nodes/SimplePortFactory.ts","graph_view/links/binary/BinaryLinkPointWidget.tsx","graph_view/links/binary/BinaryLinkSegmentWidget.tsx","graph_view/links/binary/BinaryLinkWidget.tsx","graph_view/links/binary/BinaryLinkFactory.tsx","graph_view/nodes/quaternary/QuaternaryNodeFactory.tsx","graph_view/nodes/ternary/TernaryNodeFactory.tsx","graph_view/DiagramAplication.ts","redux/reducers/diagram.js","redux/reducers/index.ts","index.tsx"],"names":["module","exports","peg$SyntaxError","message","expected","found","location","this","name","Error","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","i","escapedParts","parts","length","Array","classEscape","inverted","any","end","other","description","hex","ch","charCodeAt","toString","toUpperCase","s","replace","j","descriptions","type","sort","slice","join","describeExpected","describeFound","SyntaxError","parse","input","options","peg$result","peg$FAILED","peg$startRuleFunctions","formula","peg$parseformula","term","peg$parseterm","constants","s0","s1","s2","s3","s4","s5","s6","s8","peg$currPos","peg$parsespaces","peg$parseIdentifier","peg$silentFails","peg$fail","peg$c26","peg$savedPos","peg$c100","push","concat","predicates","peg$parselanguage_predicate","peg$c102","functions","peg$parselanguage_function","peg$c104","domain","peg$parseDomainIdentifier","peg$c114","peg$c115","tuples","peg$parsetuple","peg$c116","peg$c117","e_tuples","peg$parsee_tuple","peg$startRuleFunction","peg$c3","peg$literalExpectation","peg$c5","peg$c21","Structure","language","hasPredicate","peg$c27","t","t1","peg$c29","peg$otherExpectation","peg$c30","peg$c31","peg$classExpectation","peg$c33","peg$c35","peg$c37","peg$c39","peg$c41","peg$c43","peg$c45","peg$c47","peg$c49","peg$c51","peg$c53","peg$c55","peg$c57","peg$c59","peg$c61","peg$c63","peg$c65","peg$c67","peg$c69","peg$c71","peg$c73","peg$c75","peg$c77","peg$c79","peg$c81","peg$c83","peg$c85","peg$c87","peg$c89","peg$c91","peg$c93","peg$c95","peg$c97","peg$c99","c1","c2","p1","p2","f1","f2","peg$c106","peg$c107","peg$c108","peg$c109","peg$c111","i1","i2","l","t2","peg$c120","peg$c121","peg$c122","peg$c124","peg$c127","peg$c129","peg$c131","peg$c133","peg$c134","peg$c135","peg$c136","peg$c137","peg$c138","peg$c139","peg$c140","peg$c141","peg$c142","peg$c143","peg$c144","peg$c145","peg$c146","peg$c147","peg$c148","peg$c149","peg$c150","peg$c151","peg$c152","peg$c153","peg$c154","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","startRule","error","peg$buildSimpleError","peg$computeLocation","ignoreCase","peg$computePosDetails","pos","p","details","startPos","endPos","startPosDetails","endPosDetails","start","offset","peg$buildStructuredError","s7","substr","peg$parserequired_space","peg$parseconjunction_symbol","Conjunction","peg$parsedisjunction_symbol","left","right","Disjunction","peg$c7","peg$parseimplication_symbol","Implication","peg$c8","peg$parseequality_symbol","EqualityAtom","peg$parsenon_equality_symbol","Negation","peg$c10","peg$parseexists_symbol","peg$parsevariable_symbol","ExistentialQuant","peg$parseuni_symbol","v","f","UniversalQuant","peg$c12","peg$parsenegation_symbol","peg$c13","peg$parseterms","checkPredicateArity","peg$c23","peg$parsepredicate_symbol","peg$parseformula_cases","hasFunction","ts","peg$c20","peg$parsefunction_symbol","FunctionTerm","hasConstant","substring","peg$parseconstant_symbol","Constant","Variable","peg$parseterm_cases","test","charAt","peg$parsepredicate_arity","arity","peg$parsefunction_arity","s9","peg$parseIdentifierStart","peg$parseIdentifierPart","peg$parseIdentifierName","peg$parseLu","peg$parseLl","peg$parseLt","peg$parseLm","peg$parseLo","peg$parseNl","peg$parseUnicodeLetter","peg$parseMn","peg$parseMc","peg$parseUnicodeCombiningMark","peg$parseNd","peg$parseUnicodeDigit","conjunction","disjunction","implication","existentialQuant","universalQuant","negation","constant","variable","functionTerm","Predicate","predicate","equalityAtom","structure","id","terms","getPredicate","Boolean","window","hostname","match","setConstantValue","value","constantName","setPredicateValueText","predicateName","setPredicateValueTable","checked","setFunctionValueText","functionName","setFunctionValueTable","lockDomain","lockConstantValue","lockPredicateValue","lockFunctionValue","toggleTable","itemType","toggleDatabase","importDiagramState","state","focusOnBodyFunc","FUNCTION","PREDICATE","FORMULA","TERM","EXPRESSION_LABEL","HelpButton","onClick","Button","style","padding","variant","size","title","data-toggle","LockButton","lockFn","locked","className","TableButton","enabled","DatabaseButton","TextInput","onChange","onLock","textData","label","teacherMode","databaseEnabled","tableEnabled","errorProperty","InputGroup","Prepend","Text","Form","Control","isInvalid","e","disabled","Append","Feedback","TextComponent","labelText","onChangeSetFunction","onLockFunction","textInputLabel","idName","Row","Col","lg","Group","Label","target","ComponentLockButton","help","Language","props","useState","showHelp","setShowHelp","Card","Header","as","lockLanguageComponent","lockedComponent","Body","Collapse","in","parsed","errorMessage","setConstants","lockConstants","constantComponent","map","tuple","setPredicates","lockPredicates","predicateComponent","setFunctions","lockFunctions","functionComponent","mapDispatchToProps","LanguageContainer","connect","common","VariablesValue","variables","onInputChange","lockInput","mapDispatchOnProps","VariablesValueContainer","Domain","setDomain","ConstantInterpretation","structureObject","Object","keys","key","item","RelationalTable","inputComponent","findIndex","JSON","stringify","functionValues","params","renderFunctionValueSelect","arity1","arity2","item1","item2","Table","bordered","responsive","parseInt","SelectComponent","handleChange","bind","setState","index","selectionElement","array","fill","addIntoFunctionTable","React","Component","DatabasePredicate","undefined","assign","predicateArrayElements","newSelectionElement","headElements","x","count","isArray","onePredicateArray","domainElement","predicateValues","changeValue","renderPredicateValueSelect","PredicateInterpretation","lengthOfCol","split","get","iPredicate","has","DatabaseFunction","domainValueArray","values","mainElement","permutateWithRepetitions","permutationOptions","permutationLength","permutationOption","permutations","smallerPermutations","forEach","currentOption","smallerPermutation","arrayValues","symbol","FunctionInterpretation","iFunction","textAlign","parsedDomain","Set","iConstant","Map","add","c","set","parsedConstants","parsedFunctions","parsedPredicates","nonLogicalSymbols","isConstant","isFunction","isPredicate","isVariable","args","ee","a","hasInSet","elementName","givenSet","splited","isNaN","getLanguageObject","createSelector","getStructureObject","StructureContainer","diagramModel","AddButton","onClickAddFunction","addType","HenkinHintikkaGameButton","GameMessageBubble","styled","div","Container","MessageArea","MessageAreaContainer","children","EVALUATED_PREDICATE_IN","formulaName","EVALUATED_PREDICATE_NOT_IN","EVALUATED_EQUALITY","term1","term2","EVALUATED_INEQUALITY","UserMessage","UserMessageBubble","entered","onMouseEnter","onMouseLeave","renderReturnButton","Expression","_structure","_e","_from","_to","_bound","Formula","commitment","PredicateAtom","translatedTerms","eval","res","createCopy","from","to","bound","substitute","flatMap","getVariables","subLeft","subRight","HenkinHintikkaGame","formulaIndex","goBack","gameHistory","variableIndex","lastItemIndex","lastHistoryItem","gameMessageBubble","itemIndex","messageIndex","userMessageBubble","historyItem","gameMessages","userMessages","generateMessage","getChoice","toggleVariables","entry","showVariables","gameVariables","writeOrHide","messages","setGameCommitment","leftCommitment","rightCommitment","leftStringCommitment","getCommitmentText","rightStringCommitment","leftUserMessage","currentFormula","rightUserMessage","setGameNextFormula","writeVariables","varName","DropdownButton","alignRight","ButtonGroup","Dropdown","Item","eventKey","setGameDomainChoice","leftImplication","rightImplication","continueGame","endGame","gameCommitment","chooseCommitment","getType","chooseEndGame","subFormulasCommitment","getSubFormulasCommitment","chooseFormula","chooseDomainValue","chooseOk","truth","subFormulas","getSubFormulas","initial","result","WIN_1","getWinningEvaluatedFormula","WIN_2","LOSS","getLoosingEvaluatedFormula","COULD_WON","COULD_NOT_WON","FIRST_FORMULA_OPTION","SECOND_FORMULA_OPTION","OPERATOR_ANSWER","nextMove","form","subFormula","variableName","QUANTIFIER_QUESTION","QUANTIFIER_ANSWER_1","vaValue","QUANTIFIER_ANSWER_2","getEvaluatedPredicateFormula","Math","floor","random","randomNumbers","historyIndex","HenkinHintikkaGameContainer","helpFormula","helpTerm","prepareExpressions","formulas","items","expressionType","answers","Fragment","panelTitle","getTermAnswers","Expressions","expression","k","toLowerCase","create","inputLocked","onFocus","clearSelection","removeExpression","lockExpressionValue","xs","sm","md","answerValue","setExpressionAnswer","answerLocked","lockExpressionAnswer","expressionValue","initiateGame","gameEnabled","addExpression","answer","expressionIndex","ExpressionContainer","expressions","MathSystem","width","innerWidth","updateDimensions","syncMathState","addEventListener","removeEventListener","allowResize","ExpressionsContainer","MathSystemContainer","DownloadButton","loading","fileData","_onGenerate","_donePreparing","_onDownload","genFile","async","blob","Blob","contents","mime","uri","filename","link","document","createElement","download","body","appendChild","href","click","removeChild","saveAs","URL","createObjectURL","onDownloaded","cls","downloadTitle","loadingTitle","generateTitle","defaultProps","ModalComponent","modalShowState","setModalShowState","setExerciseNameState","exportState","Modal","dialogClassName","show","onHide","Title","htmlFor","placeholder","Footer","HelpGraphButton","setCollapseHelpGraphButton","collapseHelpGraphButton","aria-controls","aria-expanded","ButtonToolbarComponent","clearGraphSelection","diagramToggledState","setDiagramToggledState","teacherModeState","setModelShowState","importState","setTeacherModeState","ButtonToolbar","getElementById","hidden","display","HelpGraphCollapse","collapsed","Tray","TrayWidget","BasicTray","ItemWidgetIcon","color","draggable","onDragStart","event","dataTransfer","setData","model","clickFunction","element","reduxProps","MainCanvasWidget","background","ADDPORT","ADDPORTSELECTED","TO","parser","require","canUseNameForGivenArityAndType","elementArity","languageObject","getState","finalSet","entries","langaugeElementName","languageElementArity","functionIsAlreadyDefinedForGivenFunction","functionParameters","functionValue","functionInterpretation","funcParameters","funcValue","selectOnlyCurrentGraphElement","currentModel","engine","getModel","setSelected","repaintCanvas","parseText","setNodeBadName","canUseNameForNode","oldName","newName","nodeType","diagramState","setNodeBadNameIfStateContainsNodeWithSameName","domainNodes","constantNodes","setDomainBadNameIfRegexViolated","setConstantsBadNameIfRegexViolated","getAvailableLanguageElementForGivenArity","modelSet","languageElementSet","languageElement","elementValue","getMaxLengthForGivenLanguageElementWithArity","maxLength","getWidestElement","isDropDownMenu","inputElementTestLength","predicateArity","functionArity","predicateWidth","getReduxProps","functionWidth","BinaryLabelModel","offsetY","editable","changeCounter","registerEvents","registerListener","entityRemoved","removeLabelFromMathView","getParent","getSourcePort","getNode","getTargetPort","getSourceDomainNode","getNodeName","getTargetDomainNode","getPredicates","clear","getFunctions","direction","bool","setLocked","getOptions","addBinaryPredicateToSet","addUnaryFunctionToSet","alreadyDefinedInFromDirection","getNodeParameters","getFunctionValue","alreadyDefinedInToDirection","setLanguageElementDirection","increaseChangeCounter","delete","removeUnaryFunctionFromSet","removeBinaryPredicateFromSet","currentDirection","changeDirection","currDirection","data","LabelModel","NaryRelationPortModel","alignment","PortModelAlignment","LEFT","getMaximumLinks","BinaryLinkModel","port","UnBinaryNodeModel","getName","PortModel","ConstantPortModel","BOTTOM","getParentCanvasModel","_","getLinks","ConstantNodeModel","previousName","mainPort","setUpConstantPort","addPort","getMainPort","remove","domainNodeName","node","setCallReduxFunc","removeNodeFromMathView","ports","setParent","NodeModel","BaseNodeModel","parameterPorts","parameterPortsArray","appendPort","getNumberOfPorts","registerParameterPorts","registerAppendPort","directions","RIGHT","TOP","portValue","getNodeNameCombination","valueNode","numberOfPorts","date","removeNodeFromGraphView","addPredicateToSet","addElementToMathView","addFunctionToSet","removeElementFromMathView","removePredicateFromSet","removeFunctionFromSet","func","functionsToDelete","setMaximumLinks","TernaryNodeModel","QuaternaryNodeModel","canCallReduxFunc","selectedColor","curvyness","callReduxFunc","removeLinkIfCondition","linkObject","existNodeWithSameCombination","nodeCombination","naryNode","getNodes","targetPortChanged","sourceNode","targetNode","canSelectNode","addLabel","constantNode","unbinaryNode","constantPort","isCallReduxFunc","setConstantValueInMathView","naryPort","previousCombination","setValueToPort","naryNodeCombination","representNodeInMathView","removeValueFromPort","num","points","curve","BezierCurve","setSource","getFirstPoint","getPosition","setTarget","getLastPoint","setSourceControl","clone","setTargetControl","sourcePort","getSourceControl","translate","calculateControlOffset","targetPort","getTargetControl","getSVGCurve","labels","labelOb","setLabel","fireEvent","removeLink","LinkModel","UnBinaryPortModel","links","getID","unaryPredicates","addTemplatePorts","addUnaryPredicate","addUnaryPredicateToSet","removeUnaryPredicateFromSet","unaryPredicate","PortLabel","Port","height","DropDownModel","pointerEvents","cursor","DropDownPorts","DropDownTitleName","DropDownContainer","DropDownInputElement","DropDownRowContainer","DropDownLanguageElement","DropDownMenuWidget","textInput","generateAvailableLanguageElement","alreadyDefined","addPredicate","addFunction","generatePredicateComponent","generateFunctionComponent","setStateBadNameForLanguageElement","clearTextInput","badNameForLanguageElement","canAddAsFunction","canAddAsPredicate","inputTitle","predicateButtonTitle","functionButtonTitle","setBadName","elementObject","setLockedParent","setStateBadNameForPredFunc","funcArity","isEditable","elName","setStateInputElementTextLength","setCanUseForGivenType","ref","setLockedParentIfNeeded","onBlur","onKeyDown","closeDropDown","addGivenInputElement","widthOfInputElement","border","ElementsNode","Element","Elements","ElementContainer","ElementRowContainer","TitleName","BinaryLabelWidget","sourceNodeName","targetNodeName","generateElementType","changeDirectionOfBinaryRelation","removePredicate","removeFunction","badNameForNewPredicate","inputElementTextLength","setInputElementTextLength","setIsDropDownMenuAccordingBehaviour","isSelected","compareWidth","Node","selected","Ports","PortsContainer","UnBinaryNodeWidget","generatePredicate","removeUnaryPredicate","renameActive","titleChanged","nodeName","badName","setBadNodeNameState","renameDomainNode","renameNode","data-basic-node-name","flexGrow","onDoubleClick","autoFocus","cancelRenameNode","getUnaryPredicates","getAppendPort","modelName","ConstantNodeWidget","renameConstantNode","NaryListWidget","NaryNodeList","NodeWidget","strokeMiterlimit","strokeWidth","stroke","TernaryNodeWidget","top","marginLeft","position","getPortByIndex","marginRight","QuaternaryNodeWidget","UnbinaryIcon","ConstantIcon","TernaryIcon","QuaternaryIcon","Content","Layer","ModeElement","getAvailableCount","nodeCount","ternaryNodes","quaternaryNodes","createNode","point","clicked","nodesCount","getData","addDomainNode","addConstantNode","addTernaryNode","addQuaternaryNode","diagramEngine","canvasWidth","getCanvas","clientWidth","canvasHeight","clientHeight","y","getRelativeMousePoint","setPosition","addNode","forceUpdate","BodyWidget","focusOnBodyElement","removeDomainNode","removeConstantNode","removeTernaryNode","removeQuaternaryNode","addUnaryFunction","addBinaryPredicate","addBinaryFunction","addTernaryPredicate","addTernaryFunction","addQuaternaryPredicate","removeUnaryFunction","removeBinaryPredicate","removeBinaryFunction","removeTernaryPredicate","removeTernaryFunction","removeQuaternaryPredicate","setConstantValueFromLink","editableNodes","store","imported","dispatch","syncDiagram","focus","editableNodesFunction","toggleEditableNodes","tabIndex","onKeyPress","includes","tagName","getSelectedEntities","preventDefault","onDrop","onDragOver","nodeObject","constantNodeName","languageElementName","langType","DiagramModelContainer","ownProps","DiagramSystem","styles","reactDiagram","makeCordNodes","nodeState","nodesCoords","mapName","hasOwnProperty","nodeNameInObject","App","modalShow","diagramToggled","exerciseName","json","diagramCordState","stateToJSON","DEFAULT_FILE_NAME","file","files","fr","FileReader","onload","content","readAsText","toggleTeacherMode","AppContainer","validateLanguageConstants","some","filter","validateLanguagePredicates","validateLanguageFunctions","Term","interpretedParams","eCopy","Equivalence","parseLanguage","parseConstants","parsePredicates","parseFunctions","parseStructure","wholeState","parseDomain","parseTuples","parseValuation","getLanguage","parseExpression","termFactories","getTermFactories","parseTerm","formulaFactories","predicateAtom","predSymbol","lhs","rhs","equivalence","getFormulaFactories","parseFormulaWithPrecedence","functionApplication","funSymbol","checkFunctionArity","addPredicateLanguageElement","pred","validatePredicates","addFunctionLanguageElement","validateFunctions","validateAndParseConstants","validateConstants","validateAndParsePredicates","validateAndParseFunctions","languageReducer","produce","action","returnParsedConstValues","returnParsedPredValues","returnParsedFuncValues","predicateDefaultInput","buildTupleArray","nodeNames","insertNewInputs","arrayNodeNames","arraysEqual","parsedToValue","checkPredicateValue","checkFunctionValue","removePredicateLanguageElement","sNodeNames","removeFunctionLanguageElement","setConstantsValues","setPredicatesValues","setFunctionsValues","syncLanguageWithStructure","deleteUnusedInputs","setVariables","d","ITEM_NOT_IN_DOMAIN","domainValues","validateStructureConstants","console","illegalItems","validateStructurePredicates","usedParams","stringParams","FUNCTION_ALREADY_DEFINED","pow","validateStructureFunctions","parsedValues","array1","array2","every","elem","structureReducer","newStateConstantObject","newKey","removePredicateLanguageElementInGivenDirection","removeFunctionLanguageElementInGivenDirection","splice","oldNodeName","newNodeName","changePredicatesValues","getValuationObject","valuations","syncExpressionsValue","evalExpression","addToHistory","nextFormula","gameEntry","getNextStepForGame","variableObject","subFormulasEval","randomFormula","log","setValidVariableIndex","variablesInFormula","expressionsReducer","variablesObject","ans","expressionText","validSyntax","checkExpressionSyntax","lastEntry","game","teacherModeReducer","UnBinaryNodeFactory","AbstractReactFactory","ConstantNodeFactory","BinaryLabelFactory","SimplePortFactory","cb","initialConfig","AbstractModelFactory","PointTop","circle","BinaryLinkPointWidget","cx","cy","r","colorSelected","data-id","data-linkid","getLink","opacity","BinaryLinkSegmentWidget","Bottom","factory","generateLinkSegment","path","forwardRef","Top","strokeLinecap","onSelection","extras","strokeOpacity","onContextMenu","isLocked","preventBinary","BinaryLinkWidget","refPaths","setRenderedLinkPath","selectedElements","graphObject","clearAllWithoutCurrentModel","setRenderedPaths","current","shiftKey","getPoints","getMaxNumberPointsPerLink","PointModel","addPoint","persist","stopPropagation","getActionEventBus","fireAction","extraProps","getFactoryForLink","paths","generateLink","getSVGPath","onMouseDown","addPointToLink","generatePoint","LinkWidget","generateLinePath","data-binary-link-test","testName","Keyframes","keyframes","css","Path","BinaryLinkFactory","QuaternaryNodeFactory","TernaryNodeFactory","DiagramApplication","activeModel","createEngine","setModel","getPortFactories","registerFactory","config","getNodeFactories","getLinkFactories","getLabelFactories","getStateMachine","getCurrentState","DefaultDiagramState","dragNewLink","allowLooseLinks","defaultState","DiagramModel","changeEditableState","boolValue","nodeArray","linkArray","labelArray","getLabels","syncLabels","nodeSet","diagramCanvas","addNodeState","createLink","setSourcePort","setTargetPort","addAll","syncConstants","constantObjects","constantState","domainState","removeNodeState","removeWholeNode","nodeProperties","interruptCallingReduxFunc","removeAllLinks","syncLanguageElementType","elementInterpretationMap","portMap","keyWithoutArity","arityWithoutKey","portMapArity","addToPredicatePortMap","addToFunctionPortMap","currentNodeValue","currNodeValueParsed","syncPredicates","currentNodeName","currentNodeObject","setOfUnaryPredicatesForNode","currentNodePredicates","clearPredicates","syncUnaryPredicates","syncBinaryLinkElement","syncNaryLanguageElements","typeElement","nodes","nodesOfType","nodeValue","clearFunctions","nodePortMapCombination","nodePortMapCombinationSet","createLinksForNaryNodes","diagramStateNodesOfType","syncFunctions","addLanguageElementToBinaryLinks","nodeCombinationKey","reversedNodeCombinationKey","addBinaryPredicateToSetWithDirection","addUnaryFunctionToSetWithDirection","linksToRemove","existingLinksCombination","getLabel","labelLanguageSet","getNodeCombinationKey","getReversedNodeCombinationKey","linksToChange","combination","firstComb","secondComb","reversedComb","createBinaryLinks","syncDomain","existingDomainNodes","getPorts","portObject","removePort","removeNode","diagramReducer","clearLabels","deleteAllLabels","naryNodeMap","nodeTypeMap","cord","syncNodesCords","diagramDefaultState","checkImportedState","root","importedState","enableMapSet","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","Main","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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AU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SA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U,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,YAAY,GAAO,GACzlLmE,GAAW,uFACXC,GAAWpE,GAAqB,CAAC,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,WAAW,GAAO,GACjLqE,GAAW,s1HACXC,GAAWtE,GAAqB,CAAC,CAAC,IAAK,KAAM,CAAC,OAAQ,QAAS,CAAC,OAAQ,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,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SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,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","file":"static/js/main.9ee60853.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reactDiagram\":\"DiagramSystem_reactDiagram__3RoSQ\"};","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() {\n    this.constructor = child;\n  }\n\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function (expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function (expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    \"class\": function (expectation) {\n      var escapedParts = \"\",\n         i;\n\n      for (i = 0; i < expectation.parts.length; i++) {\n        escapedParts += expectation.parts[i] instanceof Array\n           ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n           : classEscape(expectation.parts[i]);\n      }\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function (expectation) {\n      return \"any character\";\n    },\n\n    end: function (expectation) {\n      return \"end of input\";\n    },\n\n    other: function (expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n       .replace(/\\\\/g, '\\\\\\\\')\n       .replace(/\"/g, '\\\\\"')\n       .replace(/\\0/g, '\\\\0')\n       .replace(/\\t/g, '\\\\t')\n       .replace(/\\n/g, '\\\\n')\n       .replace(/\\r/g, '\\\\r')\n       .replace(/[\\x00-\\x0F]/g, function (ch) {\n         return '\\\\x0' + hex(ch);\n       })\n       .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function (ch) {\n         return '\\\\x' + hex(ch);\n       });\n  }\n\n  function classEscape(s) {\n    return s\n       .replace(/\\\\/g, '\\\\\\\\')\n       .replace(/\\]/g, '\\\\]')\n       .replace(/\\^/g, '\\\\^')\n       .replace(/-/g, '\\\\-')\n       .replace(/\\0/g, '\\\\0')\n       .replace(/\\t/g, '\\\\t')\n       .replace(/\\n/g, '\\\\n')\n       .replace(/\\r/g, '\\\\r')\n       .replace(/[\\x00-\\x0F]/g, function (ch) {\n         return '\\\\x0' + hex(ch);\n       })\n       .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function (ch) {\n         return '\\\\x' + hex(ch);\n       });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n       i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n           + \", or \"\n           + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n     peg$startRuleFunctions = {\n       formula: peg$parseformula,\n       term: peg$parseterm,\n       constants: peg$parseconstants,\n       predicates: peg$parsepredicates,\n       functions: peg$parsefunctions,\n       domain: peg$parsedomain,\n       tuples: peg$parsetuples,\n       e_tuples: peg$parsee_tuples\n     },\n     peg$startRuleFunction = peg$parseformula,\n\n     peg$c0 = function (f) {\n       return f\n     },\n     peg$c1 = function (t) {\n       return t\n     },\n     peg$c2 = \"(\",\n     peg$c3 = peg$literalExpectation(\"(\", false),\n     peg$c4 = \")\",\n     peg$c5 = peg$literalExpectation(\")\", false),\n     peg$c6 = function (left, right) {\n       return new Conjunction(left, right)\n     },\n     peg$c7 = function (left, right) {\n       return new Disjunction(left, right)\n     },\n     peg$c8 = function (left, right) {\n       return new Implication(left, right)\n     },\n     peg$c9 = function (t1, t2) {\n       return new EqualityAtom(t1, t2)\n     },\n     peg$c10 = function (t1, t2) {\n       return new Negation(new EqualityAtom(t1, t2))\n     },\n     peg$c11 = function (v, f) {\n       return new ExistentialQuant(v, f)\n     },\n     peg$c12 = function (v, f) {\n       return new UniversalQuant(v, f)\n     },\n     peg$c13 = function (f) {\n       return new Negation(f)\n     },\n     peg$c14 = function (ps) {\n       return ps\n     },\n     peg$c15 = function (f) {\n       return new FunctionTerm(f[0], f[1])\n     },\n     peg$c16 = function (c) {\n       return new Constant(c)\n     },\n     peg$c17 = function (v) {\n       return new Variable(v)\n     },\n     peg$c18 = function (i) {\n       return Structure.language.hasConstant(i)\n     },\n     peg$c19 = function (i) {\n       return Structure.language.hasFunction(i)\n     },\n     peg$c20 = function (i, ts) {\n       return [i, ts]\n     },\n     peg$c21 = function (i) {\n       return Structure.language.hasPredicate(i)\n     },\n     peg$c22 = function (i, ts) {\n       return checkPredicateArity(i, ts)\n     },\n     peg$c23 = function (i) {\n       return checkPredicateArity(i, [])\n     },\n     peg$c24 = function (i) {\n       return (!Structure.language.hasPredicate(i) && !Structure.language.hasConstant(i) && !Structure.language.hasFunction(i))\n     },\n     peg$c25 = \",\",\n     peg$c26 = peg$literalExpectation(\",\", false),\n     peg$c27 = function (t, t1) {\n       return t1\n     },\n     peg$c28 = function (t, ts) {\n       return [t].concat(ts)\n     },\n     peg$c29 = peg$otherExpectation(\"spaces\"),\n     peg$c30 = /^[ \\t\\n\\r]/,\n     peg$c31 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false),\n     peg$c32 = \"\\\\wedge\",\n     peg$c33 = peg$literalExpectation(\"\\\\wedge\", false),\n     peg$c34 = \"\\\\land\",\n     peg$c35 = peg$literalExpectation(\"\\\\land\", false),\n     peg$c36 = \"&&\",\n     peg$c37 = peg$literalExpectation(\"&&\", false),\n     peg$c38 = \"&\",\n     peg$c39 = peg$literalExpectation(\"&\", false),\n     peg$c40 = \"\\u2227\",\n     peg$c41 = peg$literalExpectation(\"\\u2227\", false),\n     peg$c42 = \"/\\\\\",\n     peg$c43 = peg$literalExpectation(\"/\\\\\", false),\n     peg$c44 = \"||\",\n     peg$c45 = peg$literalExpectation(\"||\", false),\n     peg$c46 = \"|\",\n     peg$c47 = peg$literalExpectation(\"|\", false),\n     peg$c48 = \"\\\\vee\",\n     peg$c49 = peg$literalExpectation(\"\\\\vee\", false),\n     peg$c50 = \"\\u2228\",\n     peg$c51 = peg$literalExpectation(\"\\u2228\", false),\n     peg$c52 = \"\\\\/\",\n     peg$c53 = peg$literalExpectation(\"\\\\/\", false),\n     peg$c54 = \"\\\\lor\",\n     peg$c55 = peg$literalExpectation(\"\\\\lor\", false),\n     peg$c56 = \"->\",\n     peg$c57 = peg$literalExpectation(\"->\", false),\n     peg$c58 = \"\\\\to\",\n     peg$c59 = peg$literalExpectation(\"\\\\to\", false),\n     peg$c60 = \"\\u2192\",\n     peg$c61 = peg$literalExpectation(\"\\u2192\", false),\n     peg$c62 = \"\\u2203\",\n     peg$c63 = peg$literalExpectation(\"\\u2203\", false),\n     peg$c64 = \"\\\\exists\",\n     peg$c65 = peg$literalExpectation(\"\\\\exists\", false),\n     peg$c66 = \"\\\\e\",\n     peg$c67 = peg$literalExpectation(\"\\\\e\", false),\n     peg$c68 = \"\\\\E\",\n     peg$c69 = peg$literalExpectation(\"\\\\E\", false),\n     peg$c70 = \"\\u2200\",\n     peg$c71 = peg$literalExpectation(\"\\u2200\", false),\n     peg$c72 = \"\\\\forall\",\n     peg$c73 = peg$literalExpectation(\"\\\\forall\", false),\n     peg$c74 = \"\\\\a\",\n     peg$c75 = peg$literalExpectation(\"\\\\a\", false),\n     peg$c76 = \"\\\\A\",\n     peg$c77 = peg$literalExpectation(\"\\\\A\", false),\n     peg$c78 = \"-\",\n     peg$c79 = peg$literalExpectation(\"-\", false),\n     peg$c80 = \"!\",\n     peg$c81 = peg$literalExpectation(\"!\", false),\n     peg$c82 = \"~\",\n     peg$c83 = peg$literalExpectation(\"~\", false),\n     peg$c84 = \"\\\\neg\",\n     peg$c85 = peg$literalExpectation(\"\\\\neg\", false),\n     peg$c86 = \"\\xAC\",\n     peg$c87 = peg$literalExpectation(\"\\xAC\", false),\n     peg$c88 = \"\\\\lnot\",\n     peg$c89 = peg$literalExpectation(\"\\\\lnot\", false),\n     peg$c90 = \"=\",\n     peg$c91 = peg$literalExpectation(\"=\", false),\n     peg$c92 = \"!=\",\n     peg$c93 = peg$literalExpectation(\"!=\", false),\n     peg$c94 = \"<>\",\n     peg$c95 = peg$literalExpectation(\"<>\", false),\n     peg$c96 = \"/=\",\n     peg$c97 = peg$literalExpectation(\"/=\", false),\n     peg$c98 = \"\\u2260\",\n     peg$c99 = peg$literalExpectation(\"\\u2260\", false),\n     peg$c100 = function (c1, c2) {\n       return c2\n     },\n     peg$c101 = function (c1, l) {\n       return [c1].concat(l)\n     },\n     peg$c102 = function (p1, p2) {\n       return p2\n     },\n     peg$c103 = function (p1, l) {\n       return [p1].concat(l)\n     },\n     peg$c104 = function (f1, f2) {\n       return f2\n     },\n     peg$c105 = function (f1, l) {\n       return [f1].concat(l)\n     },\n     peg$c106 = /^[0-9]/,\n     peg$c107 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n     peg$c108 = /^[1-9]/,\n     peg$c109 = peg$classExpectation([[\"1\", \"9\"]], false, false),\n     peg$c110 = \"/\",\n     peg$c111 = peg$literalExpectation(\"/\", false),\n     peg$c112 = function (predicate, arity) {\n       return {name: predicate, arity: arity}\n     },\n     peg$c113 = function (f, arity) {\n       return {name: f, arity: arity}\n     },\n     peg$c114 = function (i1, i2) {\n       return i2\n     },\n     peg$c115 = function (i1, l) {\n       return [i1].concat(l)\n     },\n     peg$c116 = function (t1, t2) {\n       return t2\n     },\n     peg$c117 = function (t1, l) {\n       return [t1].concat(l)\n     },\n     peg$c118 = function (i) {\n       return [i]\n     },\n     peg$c119 = function (i1, i2) {\n       return [i1, i2]\n     },\n     peg$c120 = peg$otherExpectation(\"domain identifier\"),\n     peg$c121 = /^[^ \\t\\r\\n,()]/,\n     peg$c122 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\", \",\", \"(\", \")\"], true, false),\n     peg$c123 = function (name) {\n       return name;\n     },\n     peg$c124 = peg$otherExpectation(\"identifier\"),\n     peg$c125 = function (head, tail) {\n       return head + tail.join(\"\")\n     },\n     peg$c126 = \"$\",\n     peg$c127 = peg$literalExpectation(\"$\", false),\n     peg$c128 = \"_\",\n     peg$c129 = peg$literalExpectation(\"_\", false),\n     peg$c130 = \"\\u200C\",\n     peg$c131 = peg$literalExpectation(\"\\u200C\", false),\n     peg$c132 = \"\\u200D\",\n     peg$c133 = peg$literalExpectation(\"\\u200D\", false),\n     peg$c134 = peg$otherExpectation(\"letter\"),\n     peg$c135 = peg$otherExpectation(\"combining mark\"),\n     peg$c136 = peg$otherExpectation(\"digit\"),\n     peg$c137 = /^[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0529\\u052B\\u052D\\u052F\\u0561-\\u0587\\u13F8-\\u13FD\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA699\\uA69B\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793-\\uA795\\uA797\\uA799\\uA79B\\uA79D\\uA79F\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7B5\\uA7B7\\uA7FA\\uAB30-\\uAB5A\\uAB60-\\uAB65\\uAB70-\\uABBF\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]/,\n     peg$c138 = peg$classExpectation([[\"a\", \"z\"], \"\\xB5\", [\"\\xDF\", \"\\xF6\"], [\"\\xF8\", \"\\xFF\"], \"\\u0101\", \"\\u0103\", \"\\u0105\", \"\\u0107\", \"\\u0109\", \"\\u010B\", \"\\u010D\", \"\\u010F\", \"\\u0111\", \"\\u0113\", \"\\u0115\", \"\\u0117\", \"\\u0119\", \"\\u011B\", \"\\u011D\", \"\\u011F\", \"\\u0121\", \"\\u0123\", \"\\u0125\", \"\\u0127\", \"\\u0129\", \"\\u012B\", \"\\u012D\", \"\\u012F\", \"\\u0131\", \"\\u0133\", \"\\u0135\", [\"\\u0137\", \"\\u0138\"], \"\\u013A\", \"\\u013C\", \"\\u013E\", \"\\u0140\", \"\\u0142\", \"\\u0144\", \"\\u0146\", [\"\\u0148\", \"\\u0149\"], \"\\u014B\", \"\\u014D\", \"\\u014F\", \"\\u0151\", \"\\u0153\", \"\\u0155\", \"\\u0157\", \"\\u0159\", \"\\u015B\", \"\\u015D\", \"\\u015F\", \"\\u0161\", \"\\u0163\", \"\\u0165\", \"\\u0167\", \"\\u0169\", \"\\u016B\", \"\\u016D\", \"\\u016F\", \"\\u0171\", \"\\u0173\", \"\\u0175\", \"\\u0177\", \"\\u017A\", \"\\u017C\", [\"\\u017E\", \"\\u0180\"], \"\\u0183\", \"\\u0185\", \"\\u0188\", [\"\\u018C\", \"\\u018D\"], \"\\u0192\", \"\\u0195\", [\"\\u0199\", \"\\u019B\"], \"\\u019E\", \"\\u01A1\", \"\\u01A3\", \"\\u01A5\", \"\\u01A8\", [\"\\u01AA\", \"\\u01AB\"], \"\\u01AD\", \"\\u01B0\", \"\\u01B4\", \"\\u01B6\", [\"\\u01B9\", \"\\u01BA\"], [\"\\u01BD\", \"\\u01BF\"], \"\\u01C6\", \"\\u01C9\", \"\\u01CC\", \"\\u01CE\", \"\\u01D0\", \"\\u01D2\", \"\\u01D4\", \"\\u01D6\", \"\\u01D8\", \"\\u01DA\", [\"\\u01DC\", \"\\u01DD\"], \"\\u01DF\", \"\\u01E1\", \"\\u01E3\", \"\\u01E5\", \"\\u01E7\", \"\\u01E9\", \"\\u01EB\", \"\\u01ED\", [\"\\u01EF\", \"\\u01F0\"], \"\\u01F3\", \"\\u01F5\", \"\\u01F9\", \"\\u01FB\", \"\\u01FD\", \"\\u01FF\", \"\\u0201\", \"\\u0203\", \"\\u0205\", \"\\u0207\", \"\\u0209\", \"\\u020B\", \"\\u020D\", \"\\u020F\", \"\\u0211\", \"\\u0213\", \"\\u0215\", \"\\u0217\", \"\\u0219\", \"\\u021B\", \"\\u021D\", \"\\u021F\", \"\\u0221\", \"\\u0223\", \"\\u0225\", \"\\u0227\", \"\\u0229\", \"\\u022B\", \"\\u022D\", \"\\u022F\", \"\\u0231\", [\"\\u0233\", \"\\u0239\"], \"\\u023C\", [\"\\u023F\", \"\\u0240\"], \"\\u0242\", \"\\u0247\", \"\\u0249\", \"\\u024B\", \"\\u024D\", [\"\\u024F\", \"\\u0293\"], [\"\\u0295\", \"\\u02AF\"], \"\\u0371\", \"\\u0373\", \"\\u0377\", [\"\\u037B\", \"\\u037D\"], \"\\u0390\", [\"\\u03AC\", \"\\u03CE\"], [\"\\u03D0\", \"\\u03D1\"], [\"\\u03D5\", \"\\u03D7\"], \"\\u03D9\", \"\\u03DB\", \"\\u03DD\", \"\\u03DF\", \"\\u03E1\", \"\\u03E3\", \"\\u03E5\", \"\\u03E7\", \"\\u03E9\", \"\\u03EB\", \"\\u03ED\", [\"\\u03EF\", \"\\u03F3\"], \"\\u03F5\", \"\\u03F8\", [\"\\u03FB\", \"\\u03FC\"], [\"\\u0430\", \"\\u045F\"], \"\\u0461\", \"\\u0463\", \"\\u0465\", \"\\u0467\", \"\\u0469\", \"\\u046B\", \"\\u046D\", \"\\u046F\", \"\\u0471\", \"\\u0473\", \"\\u0475\", \"\\u0477\", \"\\u0479\", \"\\u047B\", \"\\u047D\", \"\\u047F\", \"\\u0481\", \"\\u048B\", \"\\u048D\", \"\\u048F\", \"\\u0491\", \"\\u0493\", \"\\u0495\", \"\\u0497\", \"\\u0499\", \"\\u049B\", \"\\u049D\", \"\\u049F\", \"\\u04A1\", \"\\u04A3\", \"\\u04A5\", \"\\u04A7\", \"\\u04A9\", \"\\u04AB\", \"\\u04AD\", \"\\u04AF\", \"\\u04B1\", \"\\u04B3\", \"\\u04B5\", \"\\u04B7\", \"\\u04B9\", \"\\u04BB\", \"\\u04BD\", \"\\u04BF\", \"\\u04C2\", \"\\u04C4\", \"\\u04C6\", \"\\u04C8\", \"\\u04CA\", \"\\u04CC\", [\"\\u04CE\", \"\\u04CF\"], \"\\u04D1\", \"\\u04D3\", \"\\u04D5\", \"\\u04D7\", \"\\u04D9\", \"\\u04DB\", \"\\u04DD\", \"\\u04DF\", \"\\u04E1\", \"\\u04E3\", \"\\u04E5\", \"\\u04E7\", \"\\u04E9\", \"\\u04EB\", \"\\u04ED\", \"\\u04EF\", \"\\u04F1\", \"\\u04F3\", \"\\u04F5\", \"\\u04F7\", \"\\u04F9\", \"\\u04FB\", \"\\u04FD\", \"\\u04FF\", \"\\u0501\", \"\\u0503\", \"\\u0505\", \"\\u0507\", \"\\u0509\", \"\\u050B\", \"\\u050D\", \"\\u050F\", \"\\u0511\", \"\\u0513\", \"\\u0515\", \"\\u0517\", \"\\u0519\", \"\\u051B\", \"\\u051D\", \"\\u051F\", \"\\u0521\", \"\\u0523\", \"\\u0525\", \"\\u0527\", \"\\u0529\", \"\\u052B\", \"\\u052D\", \"\\u052F\", [\"\\u0561\", \"\\u0587\"], [\"\\u13F8\", \"\\u13FD\"], [\"\\u1D00\", \"\\u1D2B\"], [\"\\u1D6B\", \"\\u1D77\"], [\"\\u1D79\", \"\\u1D9A\"], \"\\u1E01\", \"\\u1E03\", \"\\u1E05\", \"\\u1E07\", \"\\u1E09\", \"\\u1E0B\", \"\\u1E0D\", \"\\u1E0F\", \"\\u1E11\", \"\\u1E13\", \"\\u1E15\", \"\\u1E17\", \"\\u1E19\", \"\\u1E1B\", \"\\u1E1D\", \"\\u1E1F\", \"\\u1E21\", \"\\u1E23\", \"\\u1E25\", \"\\u1E27\", \"\\u1E29\", \"\\u1E2B\", \"\\u1E2D\", \"\\u1E2F\", \"\\u1E31\", \"\\u1E33\", \"\\u1E35\", \"\\u1E37\", \"\\u1E39\", \"\\u1E3B\", \"\\u1E3D\", \"\\u1E3F\", \"\\u1E41\", \"\\u1E43\", \"\\u1E45\", \"\\u1E47\", \"\\u1E49\", \"\\u1E4B\", \"\\u1E4D\", \"\\u1E4F\", \"\\u1E51\", \"\\u1E53\", \"\\u1E55\", \"\\u1E57\", \"\\u1E59\", \"\\u1E5B\", \"\\u1E5D\", \"\\u1E5F\", \"\\u1E61\", \"\\u1E63\", \"\\u1E65\", \"\\u1E67\", \"\\u1E69\", \"\\u1E6B\", \"\\u1E6D\", \"\\u1E6F\", \"\\u1E71\", \"\\u1E73\", \"\\u1E75\", \"\\u1E77\", \"\\u1E79\", \"\\u1E7B\", \"\\u1E7D\", \"\\u1E7F\", \"\\u1E81\", \"\\u1E83\", \"\\u1E85\", \"\\u1E87\", \"\\u1E89\", \"\\u1E8B\", \"\\u1E8D\", \"\\u1E8F\", \"\\u1E91\", \"\\u1E93\", [\"\\u1E95\", \"\\u1E9D\"], \"\\u1E9F\", \"\\u1EA1\", \"\\u1EA3\", \"\\u1EA5\", \"\\u1EA7\", \"\\u1EA9\", \"\\u1EAB\", \"\\u1EAD\", \"\\u1EAF\", \"\\u1EB1\", \"\\u1EB3\", \"\\u1EB5\", \"\\u1EB7\", \"\\u1EB9\", \"\\u1EBB\", \"\\u1EBD\", \"\\u1EBF\", \"\\u1EC1\", \"\\u1EC3\", \"\\u1EC5\", \"\\u1EC7\", \"\\u1EC9\", \"\\u1ECB\", \"\\u1ECD\", \"\\u1ECF\", \"\\u1ED1\", \"\\u1ED3\", \"\\u1ED5\", \"\\u1ED7\", \"\\u1ED9\", \"\\u1EDB\", \"\\u1EDD\", \"\\u1EDF\", \"\\u1EE1\", \"\\u1EE3\", \"\\u1EE5\", \"\\u1EE7\", \"\\u1EE9\", \"\\u1EEB\", \"\\u1EED\", \"\\u1EEF\", \"\\u1EF1\", \"\\u1EF3\", \"\\u1EF5\", \"\\u1EF7\", \"\\u1EF9\", \"\\u1EFB\", \"\\u1EFD\", [\"\\u1EFF\", \"\\u1F07\"], [\"\\u1F10\", \"\\u1F15\"], [\"\\u1F20\", \"\\u1F27\"], [\"\\u1F30\", \"\\u1F37\"], [\"\\u1F40\", \"\\u1F45\"], [\"\\u1F50\", \"\\u1F57\"], [\"\\u1F60\", \"\\u1F67\"], [\"\\u1F70\", \"\\u1F7D\"], [\"\\u1F80\", \"\\u1F87\"], [\"\\u1F90\", \"\\u1F97\"], [\"\\u1FA0\", \"\\u1FA7\"], [\"\\u1FB0\", \"\\u1FB4\"], [\"\\u1FB6\", \"\\u1FB7\"], \"\\u1FBE\", [\"\\u1FC2\", \"\\u1FC4\"], [\"\\u1FC6\", \"\\u1FC7\"], [\"\\u1FD0\", \"\\u1FD3\"], [\"\\u1FD6\", \"\\u1FD7\"], [\"\\u1FE0\", \"\\u1FE7\"], [\"\\u1FF2\", \"\\u1FF4\"], [\"\\u1FF6\", \"\\u1FF7\"], \"\\u210A\", [\"\\u210E\", \"\\u210F\"], \"\\u2113\", \"\\u212F\", \"\\u2134\", \"\\u2139\", [\"\\u213C\", \"\\u213D\"], [\"\\u2146\", \"\\u2149\"], \"\\u214E\", \"\\u2184\", [\"\\u2C30\", \"\\u2C5E\"], \"\\u2C61\", [\"\\u2C65\", \"\\u2C66\"], \"\\u2C68\", \"\\u2C6A\", \"\\u2C6C\", \"\\u2C71\", [\"\\u2C73\", \"\\u2C74\"], [\"\\u2C76\", \"\\u2C7B\"], \"\\u2C81\", \"\\u2C83\", \"\\u2C85\", \"\\u2C87\", \"\\u2C89\", \"\\u2C8B\", \"\\u2C8D\", \"\\u2C8F\", \"\\u2C91\", \"\\u2C93\", \"\\u2C95\", \"\\u2C97\", \"\\u2C99\", \"\\u2C9B\", \"\\u2C9D\", \"\\u2C9F\", \"\\u2CA1\", \"\\u2CA3\", \"\\u2CA5\", \"\\u2CA7\", \"\\u2CA9\", \"\\u2CAB\", \"\\u2CAD\", \"\\u2CAF\", \"\\u2CB1\", \"\\u2CB3\", \"\\u2CB5\", \"\\u2CB7\", \"\\u2CB9\", \"\\u2CBB\", \"\\u2CBD\", \"\\u2CBF\", \"\\u2CC1\", \"\\u2CC3\", \"\\u2CC5\", \"\\u2CC7\", \"\\u2CC9\", \"\\u2CCB\", \"\\u2CCD\", \"\\u2CCF\", \"\\u2CD1\", \"\\u2CD3\", \"\\u2CD5\", \"\\u2CD7\", \"\\u2CD9\", \"\\u2CDB\", \"\\u2CDD\", \"\\u2CDF\", \"\\u2CE1\", [\"\\u2CE3\", \"\\u2CE4\"], \"\\u2CEC\", \"\\u2CEE\", \"\\u2CF3\", [\"\\u2D00\", \"\\u2D25\"], \"\\u2D27\", \"\\u2D2D\", \"\\uA641\", \"\\uA643\", \"\\uA645\", \"\\uA647\", \"\\uA649\", \"\\uA64B\", \"\\uA64D\", \"\\uA64F\", \"\\uA651\", \"\\uA653\", \"\\uA655\", \"\\uA657\", \"\\uA659\", \"\\uA65B\", \"\\uA65D\", \"\\uA65F\", \"\\uA661\", \"\\uA663\", \"\\uA665\", \"\\uA667\", \"\\uA669\", \"\\uA66B\", \"\\uA66D\", \"\\uA681\", \"\\uA683\", \"\\uA685\", \"\\uA687\", \"\\uA689\", \"\\uA68B\", \"\\uA68D\", \"\\uA68F\", \"\\uA691\", \"\\uA693\", \"\\uA695\", \"\\uA697\", \"\\uA699\", \"\\uA69B\", \"\\uA723\", \"\\uA725\", \"\\uA727\", \"\\uA729\", \"\\uA72B\", \"\\uA72D\", [\"\\uA72F\", \"\\uA731\"], \"\\uA733\", \"\\uA735\", \"\\uA737\", \"\\uA739\", \"\\uA73B\", \"\\uA73D\", \"\\uA73F\", \"\\uA741\", \"\\uA743\", \"\\uA745\", \"\\uA747\", \"\\uA749\", \"\\uA74B\", \"\\uA74D\", \"\\uA74F\", \"\\uA751\", \"\\uA753\", \"\\uA755\", \"\\uA757\", \"\\uA759\", \"\\uA75B\", \"\\uA75D\", \"\\uA75F\", \"\\uA761\", \"\\uA763\", \"\\uA765\", \"\\uA767\", \"\\uA769\", \"\\uA76B\", \"\\uA76D\", \"\\uA76F\", [\"\\uA771\", \"\\uA778\"], \"\\uA77A\", \"\\uA77C\", \"\\uA77F\", \"\\uA781\", \"\\uA783\", \"\\uA785\", \"\\uA787\", \"\\uA78C\", \"\\uA78E\", \"\\uA791\", [\"\\uA793\", \"\\uA795\"], \"\\uA797\", \"\\uA799\", \"\\uA79B\", \"\\uA79D\", \"\\uA79F\", \"\\uA7A1\", \"\\uA7A3\", \"\\uA7A5\", \"\\uA7A7\", \"\\uA7A9\", \"\\uA7B5\", \"\\uA7B7\", \"\\uA7FA\", [\"\\uAB30\", \"\\uAB5A\"], [\"\\uAB60\", \"\\uAB65\"], [\"\\uAB70\", \"\\uABBF\"], [\"\\uFB00\", \"\\uFB06\"], [\"\\uFB13\", \"\\uFB17\"], [\"\\uFF41\", \"\\uFF5A\"]], false, false),\n     peg$c139 = /^[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA69C-\\uA69D\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uA9E6\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uAB5C-\\uAB5F\\uFF70\\uFF9E-\\uFF9F]/,\n     peg$c140 = peg$classExpectation([[\"\\u02B0\", \"\\u02C1\"], [\"\\u02C6\", \"\\u02D1\"], [\"\\u02E0\", \"\\u02E4\"], \"\\u02EC\", \"\\u02EE\", \"\\u0374\", \"\\u037A\", \"\\u0559\", \"\\u0640\", [\"\\u06E5\", \"\\u06E6\"], [\"\\u07F4\", \"\\u07F5\"], \"\\u07FA\", \"\\u081A\", \"\\u0824\", \"\\u0828\", \"\\u0971\", \"\\u0E46\", \"\\u0EC6\", \"\\u10FC\", \"\\u17D7\", \"\\u1843\", \"\\u1AA7\", [\"\\u1C78\", \"\\u1C7D\"], [\"\\u1D2C\", \"\\u1D6A\"], \"\\u1D78\", [\"\\u1D9B\", \"\\u1DBF\"], \"\\u2071\", \"\\u207F\", [\"\\u2090\", \"\\u209C\"], [\"\\u2C7C\", \"\\u2C7D\"], \"\\u2D6F\", \"\\u2E2F\", \"\\u3005\", [\"\\u3031\", \"\\u3035\"], \"\\u303B\", [\"\\u309D\", \"\\u309E\"], [\"\\u30FC\", \"\\u30FE\"], \"\\uA015\", [\"\\uA4F8\", \"\\uA4FD\"], \"\\uA60C\", \"\\uA67F\", [\"\\uA69C\", \"\\uA69D\"], [\"\\uA717\", \"\\uA71F\"], \"\\uA770\", \"\\uA788\", [\"\\uA7F8\", \"\\uA7F9\"], \"\\uA9CF\", \"\\uA9E6\", \"\\uAA70\", \"\\uAADD\", [\"\\uAAF3\", \"\\uAAF4\"], [\"\\uAB5C\", \"\\uAB5F\"], \"\\uFF70\", [\"\\uFF9E\", \"\\uFF9F\"]], false, false),\n     peg$c141 = /^[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0980\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA78F\\uA7F7\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9E0-\\uA9E4\\uA9E7-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n     peg$c142 = peg$classExpectation([\"\\xAA\", \"\\xBA\", \"\\u01BB\", [\"\\u01C0\", \"\\u01C3\"], \"\\u0294\", [\"\\u05D0\", \"\\u05EA\"], [\"\\u05F0\", \"\\u05F2\"], [\"\\u0620\", \"\\u063F\"], [\"\\u0641\", \"\\u064A\"], [\"\\u066E\", \"\\u066F\"], [\"\\u0671\", \"\\u06D3\"], \"\\u06D5\", [\"\\u06EE\", \"\\u06EF\"], [\"\\u06FA\", \"\\u06FC\"], \"\\u06FF\", \"\\u0710\", [\"\\u0712\", \"\\u072F\"], [\"\\u074D\", \"\\u07A5\"], \"\\u07B1\", [\"\\u07CA\", \"\\u07EA\"], [\"\\u0800\", \"\\u0815\"], [\"\\u0840\", \"\\u0858\"], [\"\\u08A0\", \"\\u08B4\"], [\"\\u0904\", \"\\u0939\"], \"\\u093D\", \"\\u0950\", [\"\\u0958\", \"\\u0961\"], [\"\\u0972\", \"\\u0980\"], [\"\\u0985\", \"\\u098C\"], [\"\\u098F\", \"\\u0990\"], [\"\\u0993\", \"\\u09A8\"], [\"\\u09AA\", \"\\u09B0\"], \"\\u09B2\", [\"\\u09B6\", \"\\u09B9\"], \"\\u09BD\", \"\\u09CE\", [\"\\u09DC\", \"\\u09DD\"], [\"\\u09DF\", \"\\u09E1\"], [\"\\u09F0\", \"\\u09F1\"], [\"\\u0A05\", \"\\u0A0A\"], [\"\\u0A0F\", \"\\u0A10\"], [\"\\u0A13\", \"\\u0A28\"], [\"\\u0A2A\", \"\\u0A30\"], [\"\\u0A32\", \"\\u0A33\"], [\"\\u0A35\", \"\\u0A36\"], [\"\\u0A38\", \"\\u0A39\"], [\"\\u0A59\", \"\\u0A5C\"], \"\\u0A5E\", [\"\\u0A72\", \"\\u0A74\"], [\"\\u0A85\", \"\\u0A8D\"], [\"\\u0A8F\", \"\\u0A91\"], [\"\\u0A93\", \"\\u0AA8\"], [\"\\u0AAA\", \"\\u0AB0\"], [\"\\u0AB2\", \"\\u0AB3\"], [\"\\u0AB5\", \"\\u0AB9\"], \"\\u0ABD\", \"\\u0AD0\", [\"\\u0AE0\", \"\\u0AE1\"], \"\\u0AF9\", [\"\\u0B05\", \"\\u0B0C\"], [\"\\u0B0F\", \"\\u0B10\"], [\"\\u0B13\", \"\\u0B28\"], [\"\\u0B2A\", \"\\u0B30\"], [\"\\u0B32\", \"\\u0B33\"], [\"\\u0B35\", \"\\u0B39\"], \"\\u0B3D\", [\"\\u0B5C\", \"\\u0B5D\"], [\"\\u0B5F\", \"\\u0B61\"], \"\\u0B71\", \"\\u0B83\", [\"\\u0B85\", \"\\u0B8A\"], [\"\\u0B8E\", \"\\u0B90\"], [\"\\u0B92\", \"\\u0B95\"], [\"\\u0B99\", \"\\u0B9A\"], \"\\u0B9C\", [\"\\u0B9E\", \"\\u0B9F\"], [\"\\u0BA3\", \"\\u0BA4\"], [\"\\u0BA8\", \"\\u0BAA\"], [\"\\u0BAE\", \"\\u0BB9\"], \"\\u0BD0\", [\"\\u0C05\", \"\\u0C0C\"], [\"\\u0C0E\", \"\\u0C10\"], [\"\\u0C12\", \"\\u0C28\"], [\"\\u0C2A\", \"\\u0C39\"], \"\\u0C3D\", [\"\\u0C58\", \"\\u0C5A\"], [\"\\u0C60\", \"\\u0C61\"], [\"\\u0C85\", \"\\u0C8C\"], [\"\\u0C8E\", \"\\u0C90\"], [\"\\u0C92\", \"\\u0CA8\"], [\"\\u0CAA\", \"\\u0CB3\"], [\"\\u0CB5\", \"\\u0CB9\"], \"\\u0CBD\", \"\\u0CDE\", [\"\\u0CE0\", \"\\u0CE1\"], [\"\\u0CF1\", \"\\u0CF2\"], [\"\\u0D05\", \"\\u0D0C\"], [\"\\u0D0E\", \"\\u0D10\"], [\"\\u0D12\", \"\\u0D3A\"], \"\\u0D3D\", \"\\u0D4E\", [\"\\u0D5F\", \"\\u0D61\"], [\"\\u0D7A\", \"\\u0D7F\"], [\"\\u0D85\", \"\\u0D96\"], [\"\\u0D9A\", \"\\u0DB1\"], [\"\\u0DB3\", \"\\u0DBB\"], \"\\u0DBD\", [\"\\u0DC0\", \"\\u0DC6\"], [\"\\u0E01\", \"\\u0E30\"], [\"\\u0E32\", \"\\u0E33\"], [\"\\u0E40\", \"\\u0E45\"], [\"\\u0E81\", \"\\u0E82\"], \"\\u0E84\", [\"\\u0E87\", \"\\u0E88\"], \"\\u0E8A\", \"\\u0E8D\", [\"\\u0E94\", \"\\u0E97\"], [\"\\u0E99\", \"\\u0E9F\"], [\"\\u0EA1\", \"\\u0EA3\"], \"\\u0EA5\", \"\\u0EA7\", [\"\\u0EAA\", \"\\u0EAB\"], [\"\\u0EAD\", \"\\u0EB0\"], [\"\\u0EB2\", \"\\u0EB3\"], \"\\u0EBD\", [\"\\u0EC0\", \"\\u0EC4\"], [\"\\u0EDC\", \"\\u0EDF\"], \"\\u0F00\", [\"\\u0F40\", \"\\u0F47\"], [\"\\u0F49\", \"\\u0F6C\"], [\"\\u0F88\", \"\\u0F8C\"], [\"\\u1000\", \"\\u102A\"], \"\\u103F\", [\"\\u1050\", \"\\u1055\"], [\"\\u105A\", \"\\u105D\"], \"\\u1061\", [\"\\u1065\", \"\\u1066\"], [\"\\u106E\", \"\\u1070\"], [\"\\u1075\", \"\\u1081\"], \"\\u108E\", [\"\\u10D0\", \"\\u10FA\"], [\"\\u10FD\", \"\\u1248\"], [\"\\u124A\", \"\\u124D\"], [\"\\u1250\", \"\\u1256\"], \"\\u1258\", [\"\\u125A\", \"\\u125D\"], [\"\\u1260\", \"\\u1288\"], [\"\\u128A\", \"\\u128D\"], [\"\\u1290\", \"\\u12B0\"], [\"\\u12B2\", \"\\u12B5\"], [\"\\u12B8\", \"\\u12BE\"], \"\\u12C0\", [\"\\u12C2\", \"\\u12C5\"], [\"\\u12C8\", \"\\u12D6\"], [\"\\u12D8\", \"\\u1310\"], [\"\\u1312\", \"\\u1315\"], [\"\\u1318\", \"\\u135A\"], [\"\\u1380\", \"\\u138F\"], [\"\\u1401\", \"\\u166C\"], [\"\\u166F\", \"\\u167F\"], [\"\\u1681\", \"\\u169A\"], [\"\\u16A0\", \"\\u16EA\"], [\"\\u16F1\", \"\\u16F8\"], [\"\\u1700\", \"\\u170C\"], [\"\\u170E\", \"\\u1711\"], [\"\\u1720\", \"\\u1731\"], [\"\\u1740\", \"\\u1751\"], [\"\\u1760\", \"\\u176C\"], [\"\\u176E\", \"\\u1770\"], [\"\\u1780\", \"\\u17B3\"], \"\\u17DC\", [\"\\u1820\", \"\\u1842\"], [\"\\u1844\", \"\\u1877\"], [\"\\u1880\", \"\\u18A8\"], \"\\u18AA\", [\"\\u18B0\", \"\\u18F5\"], [\"\\u1900\", \"\\u191E\"], [\"\\u1950\", \"\\u196D\"], [\"\\u1970\", \"\\u1974\"], [\"\\u1980\", \"\\u19AB\"], [\"\\u19B0\", \"\\u19C9\"], [\"\\u1A00\", \"\\u1A16\"], [\"\\u1A20\", \"\\u1A54\"], [\"\\u1B05\", \"\\u1B33\"], [\"\\u1B45\", \"\\u1B4B\"], [\"\\u1B83\", \"\\u1BA0\"], [\"\\u1BAE\", \"\\u1BAF\"], [\"\\u1BBA\", \"\\u1BE5\"], [\"\\u1C00\", \"\\u1C23\"], [\"\\u1C4D\", \"\\u1C4F\"], [\"\\u1C5A\", \"\\u1C77\"], [\"\\u1CE9\", \"\\u1CEC\"], [\"\\u1CEE\", \"\\u1CF1\"], [\"\\u1CF5\", \"\\u1CF6\"], [\"\\u2135\", \"\\u2138\"], [\"\\u2D30\", \"\\u2D67\"], [\"\\u2D80\", \"\\u2D96\"], [\"\\u2DA0\", \"\\u2DA6\"], [\"\\u2DA8\", \"\\u2DAE\"], [\"\\u2DB0\", \"\\u2DB6\"], [\"\\u2DB8\", \"\\u2DBE\"], [\"\\u2DC0\", \"\\u2DC6\"], [\"\\u2DC8\", \"\\u2DCE\"], [\"\\u2DD0\", \"\\u2DD6\"], [\"\\u2DD8\", \"\\u2DDE\"], \"\\u3006\", \"\\u303C\", [\"\\u3041\", \"\\u3096\"], \"\\u309F\", [\"\\u30A1\", \"\\u30FA\"], \"\\u30FF\", [\"\\u3105\", \"\\u312D\"], [\"\\u3131\", \"\\u318E\"], [\"\\u31A0\", \"\\u31BA\"], [\"\\u31F0\", \"\\u31FF\"], [\"\\u3400\", \"\\u4DB5\"], [\"\\u4E00\", \"\\u9FD5\"], [\"\\uA000\", \"\\uA014\"], [\"\\uA016\", \"\\uA48C\"], [\"\\uA4D0\", \"\\uA4F7\"], [\"\\uA500\", \"\\uA60B\"], [\"\\uA610\", \"\\uA61F\"], [\"\\uA62A\", \"\\uA62B\"], \"\\uA66E\", [\"\\uA6A0\", \"\\uA6E5\"], \"\\uA78F\", \"\\uA7F7\", [\"\\uA7FB\", \"\\uA801\"], [\"\\uA803\", \"\\uA805\"], [\"\\uA807\", \"\\uA80A\"], [\"\\uA80C\", \"\\uA822\"], [\"\\uA840\", \"\\uA873\"], [\"\\uA882\", \"\\uA8B3\"], [\"\\uA8F2\", \"\\uA8F7\"], \"\\uA8FB\", \"\\uA8FD\", [\"\\uA90A\", \"\\uA925\"], [\"\\uA930\", \"\\uA946\"], [\"\\uA960\", \"\\uA97C\"], [\"\\uA984\", \"\\uA9B2\"], [\"\\uA9E0\", \"\\uA9E4\"], [\"\\uA9E7\", \"\\uA9EF\"], [\"\\uA9FA\", \"\\uA9FE\"], [\"\\uAA00\", \"\\uAA28\"], [\"\\uAA40\", \"\\uAA42\"], [\"\\uAA44\", \"\\uAA4B\"], [\"\\uAA60\", \"\\uAA6F\"], [\"\\uAA71\", \"\\uAA76\"], \"\\uAA7A\", [\"\\uAA7E\", \"\\uAAAF\"], \"\\uAAB1\", [\"\\uAAB5\", \"\\uAAB6\"], [\"\\uAAB9\", \"\\uAABD\"], \"\\uAAC0\", \"\\uAAC2\", [\"\\uAADB\", \"\\uAADC\"], [\"\\uAAE0\", \"\\uAAEA\"], \"\\uAAF2\", [\"\\uAB01\", \"\\uAB06\"], [\"\\uAB09\", \"\\uAB0E\"], [\"\\uAB11\", \"\\uAB16\"], [\"\\uAB20\", \"\\uAB26\"], [\"\\uAB28\", \"\\uAB2E\"], [\"\\uABC0\", \"\\uABE2\"], [\"\\uAC00\", \"\\uD7A3\"], [\"\\uD7B0\", \"\\uD7C6\"], [\"\\uD7CB\", \"\\uD7FB\"], [\"\\uF900\", \"\\uFA6D\"], [\"\\uFA70\", \"\\uFAD9\"], \"\\uFB1D\", [\"\\uFB1F\", \"\\uFB28\"], [\"\\uFB2A\", \"\\uFB36\"], [\"\\uFB38\", \"\\uFB3C\"], \"\\uFB3E\", [\"\\uFB40\", \"\\uFB41\"], [\"\\uFB43\", \"\\uFB44\"], [\"\\uFB46\", \"\\uFBB1\"], [\"\\uFBD3\", \"\\uFD3D\"], [\"\\uFD50\", \"\\uFD8F\"], [\"\\uFD92\", \"\\uFDC7\"], [\"\\uFDF0\", \"\\uFDFB\"], [\"\\uFE70\", \"\\uFE74\"], [\"\\uFE76\", \"\\uFEFC\"], [\"\\uFF66\", \"\\uFF6F\"], [\"\\uFF71\", \"\\uFF9D\"], [\"\\uFFA0\", \"\\uFFBE\"], [\"\\uFFC2\", \"\\uFFC7\"], [\"\\uFFCA\", \"\\uFFCF\"], [\"\\uFFD2\", \"\\uFFD7\"], [\"\\uFFDA\", \"\\uFFDC\"]], false, false),\n     peg$c143 = /^[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]/,\n     peg$c144 = peg$classExpectation([\"\\u01C5\", \"\\u01C8\", \"\\u01CB\", \"\\u01F2\", [\"\\u1F88\", \"\\u1F8F\"], [\"\\u1F98\", \"\\u1F9F\"], [\"\\u1FA8\", \"\\u1FAF\"], \"\\u1FBC\", \"\\u1FCC\", \"\\u1FFC\"], false, false),\n     peg$c145 = /^[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AD\\uA7B0-\\uA7B4\\uA7B6\\uFF21-\\uFF3A]/,\n     peg$c146 = peg$classExpectation([[\"A\", \"Z\"], [\"\\xC0\", \"\\xD6\"], [\"\\xD8\", \"\\xDE\"], \"\\u0100\", \"\\u0102\", \"\\u0104\", \"\\u0106\", \"\\u0108\", \"\\u010A\", \"\\u010C\", \"\\u010E\", \"\\u0110\", \"\\u0112\", \"\\u0114\", \"\\u0116\", \"\\u0118\", \"\\u011A\", \"\\u011C\", \"\\u011E\", \"\\u0120\", \"\\u0122\", \"\\u0124\", \"\\u0126\", \"\\u0128\", \"\\u012A\", \"\\u012C\", \"\\u012E\", \"\\u0130\", \"\\u0132\", \"\\u0134\", \"\\u0136\", \"\\u0139\", \"\\u013B\", \"\\u013D\", \"\\u013F\", \"\\u0141\", \"\\u0143\", \"\\u0145\", \"\\u0147\", \"\\u014A\", \"\\u014C\", \"\\u014E\", \"\\u0150\", \"\\u0152\", \"\\u0154\", \"\\u0156\", \"\\u0158\", \"\\u015A\", \"\\u015C\", \"\\u015E\", \"\\u0160\", \"\\u0162\", \"\\u0164\", \"\\u0166\", \"\\u0168\", \"\\u016A\", \"\\u016C\", \"\\u016E\", \"\\u0170\", \"\\u0172\", \"\\u0174\", \"\\u0176\", [\"\\u0178\", \"\\u0179\"], \"\\u017B\", \"\\u017D\", [\"\\u0181\", \"\\u0182\"], \"\\u0184\", [\"\\u0186\", \"\\u0187\"], [\"\\u0189\", \"\\u018B\"], [\"\\u018E\", \"\\u0191\"], [\"\\u0193\", \"\\u0194\"], [\"\\u0196\", \"\\u0198\"], [\"\\u019C\", \"\\u019D\"], [\"\\u019F\", \"\\u01A0\"], \"\\u01A2\", \"\\u01A4\", [\"\\u01A6\", \"\\u01A7\"], \"\\u01A9\", \"\\u01AC\", [\"\\u01AE\", \"\\u01AF\"], [\"\\u01B1\", \"\\u01B3\"], \"\\u01B5\", [\"\\u01B7\", \"\\u01B8\"], \"\\u01BC\", \"\\u01C4\", \"\\u01C7\", \"\\u01CA\", \"\\u01CD\", \"\\u01CF\", \"\\u01D1\", \"\\u01D3\", \"\\u01D5\", \"\\u01D7\", \"\\u01D9\", \"\\u01DB\", \"\\u01DE\", \"\\u01E0\", \"\\u01E2\", \"\\u01E4\", \"\\u01E6\", \"\\u01E8\", \"\\u01EA\", \"\\u01EC\", \"\\u01EE\", \"\\u01F1\", \"\\u01F4\", [\"\\u01F6\", \"\\u01F8\"], \"\\u01FA\", \"\\u01FC\", \"\\u01FE\", \"\\u0200\", \"\\u0202\", \"\\u0204\", \"\\u0206\", \"\\u0208\", \"\\u020A\", \"\\u020C\", \"\\u020E\", \"\\u0210\", \"\\u0212\", \"\\u0214\", \"\\u0216\", \"\\u0218\", \"\\u021A\", \"\\u021C\", \"\\u021E\", \"\\u0220\", \"\\u0222\", \"\\u0224\", \"\\u0226\", \"\\u0228\", \"\\u022A\", \"\\u022C\", \"\\u022E\", \"\\u0230\", \"\\u0232\", [\"\\u023A\", \"\\u023B\"], [\"\\u023D\", \"\\u023E\"], \"\\u0241\", [\"\\u0243\", \"\\u0246\"], \"\\u0248\", \"\\u024A\", \"\\u024C\", \"\\u024E\", \"\\u0370\", \"\\u0372\", \"\\u0376\", \"\\u037F\", \"\\u0386\", [\"\\u0388\", \"\\u038A\"], \"\\u038C\", [\"\\u038E\", \"\\u038F\"], [\"\\u0391\", \"\\u03A1\"], [\"\\u03A3\", \"\\u03AB\"], \"\\u03CF\", [\"\\u03D2\", \"\\u03D4\"], \"\\u03D8\", \"\\u03DA\", \"\\u03DC\", \"\\u03DE\", \"\\u03E0\", \"\\u03E2\", \"\\u03E4\", \"\\u03E6\", \"\\u03E8\", \"\\u03EA\", \"\\u03EC\", \"\\u03EE\", \"\\u03F4\", \"\\u03F7\", [\"\\u03F9\", \"\\u03FA\"], [\"\\u03FD\", \"\\u042F\"], \"\\u0460\", \"\\u0462\", \"\\u0464\", \"\\u0466\", \"\\u0468\", \"\\u046A\", \"\\u046C\", \"\\u046E\", \"\\u0470\", \"\\u0472\", \"\\u0474\", \"\\u0476\", \"\\u0478\", \"\\u047A\", \"\\u047C\", \"\\u047E\", \"\\u0480\", \"\\u048A\", \"\\u048C\", \"\\u048E\", \"\\u0490\", \"\\u0492\", \"\\u0494\", \"\\u0496\", \"\\u0498\", \"\\u049A\", \"\\u049C\", \"\\u049E\", \"\\u04A0\", \"\\u04A2\", \"\\u04A4\", \"\\u04A6\", \"\\u04A8\", \"\\u04AA\", \"\\u04AC\", \"\\u04AE\", \"\\u04B0\", \"\\u04B2\", \"\\u04B4\", \"\\u04B6\", \"\\u04B8\", \"\\u04BA\", \"\\u04BC\", \"\\u04BE\", [\"\\u04C0\", \"\\u04C1\"], \"\\u04C3\", \"\\u04C5\", \"\\u04C7\", \"\\u04C9\", \"\\u04CB\", \"\\u04CD\", \"\\u04D0\", \"\\u04D2\", \"\\u04D4\", \"\\u04D6\", \"\\u04D8\", \"\\u04DA\", \"\\u04DC\", \"\\u04DE\", \"\\u04E0\", \"\\u04E2\", \"\\u04E4\", \"\\u04E6\", \"\\u04E8\", \"\\u04EA\", \"\\u04EC\", \"\\u04EE\", \"\\u04F0\", \"\\u04F2\", \"\\u04F4\", \"\\u04F6\", \"\\u04F8\", \"\\u04FA\", \"\\u04FC\", \"\\u04FE\", \"\\u0500\", \"\\u0502\", \"\\u0504\", \"\\u0506\", \"\\u0508\", \"\\u050A\", \"\\u050C\", \"\\u050E\", \"\\u0510\", \"\\u0512\", \"\\u0514\", \"\\u0516\", \"\\u0518\", \"\\u051A\", \"\\u051C\", \"\\u051E\", \"\\u0520\", \"\\u0522\", \"\\u0524\", \"\\u0526\", \"\\u0528\", \"\\u052A\", \"\\u052C\", \"\\u052E\", [\"\\u0531\", \"\\u0556\"], [\"\\u10A0\", \"\\u10C5\"], \"\\u10C7\", \"\\u10CD\", [\"\\u13A0\", \"\\u13F5\"], \"\\u1E00\", \"\\u1E02\", \"\\u1E04\", \"\\u1E06\", \"\\u1E08\", \"\\u1E0A\", \"\\u1E0C\", \"\\u1E0E\", \"\\u1E10\", \"\\u1E12\", \"\\u1E14\", \"\\u1E16\", \"\\u1E18\", \"\\u1E1A\", \"\\u1E1C\", \"\\u1E1E\", \"\\u1E20\", \"\\u1E22\", \"\\u1E24\", \"\\u1E26\", \"\\u1E28\", \"\\u1E2A\", \"\\u1E2C\", \"\\u1E2E\", \"\\u1E30\", \"\\u1E32\", \"\\u1E34\", \"\\u1E36\", \"\\u1E38\", \"\\u1E3A\", \"\\u1E3C\", \"\\u1E3E\", \"\\u1E40\", \"\\u1E42\", \"\\u1E44\", \"\\u1E46\", \"\\u1E48\", \"\\u1E4A\", \"\\u1E4C\", \"\\u1E4E\", \"\\u1E50\", \"\\u1E52\", \"\\u1E54\", \"\\u1E56\", \"\\u1E58\", \"\\u1E5A\", \"\\u1E5C\", \"\\u1E5E\", \"\\u1E60\", \"\\u1E62\", \"\\u1E64\", \"\\u1E66\", \"\\u1E68\", \"\\u1E6A\", \"\\u1E6C\", \"\\u1E6E\", \"\\u1E70\", \"\\u1E72\", \"\\u1E74\", \"\\u1E76\", \"\\u1E78\", \"\\u1E7A\", \"\\u1E7C\", \"\\u1E7E\", \"\\u1E80\", \"\\u1E82\", \"\\u1E84\", \"\\u1E86\", \"\\u1E88\", \"\\u1E8A\", \"\\u1E8C\", \"\\u1E8E\", \"\\u1E90\", \"\\u1E92\", \"\\u1E94\", \"\\u1E9E\", \"\\u1EA0\", \"\\u1EA2\", \"\\u1EA4\", \"\\u1EA6\", \"\\u1EA8\", \"\\u1EAA\", \"\\u1EAC\", \"\\u1EAE\", \"\\u1EB0\", \"\\u1EB2\", \"\\u1EB4\", \"\\u1EB6\", \"\\u1EB8\", \"\\u1EBA\", \"\\u1EBC\", \"\\u1EBE\", \"\\u1EC0\", \"\\u1EC2\", \"\\u1EC4\", \"\\u1EC6\", \"\\u1EC8\", \"\\u1ECA\", \"\\u1ECC\", \"\\u1ECE\", \"\\u1ED0\", \"\\u1ED2\", \"\\u1ED4\", \"\\u1ED6\", \"\\u1ED8\", \"\\u1EDA\", \"\\u1EDC\", \"\\u1EDE\", \"\\u1EE0\", \"\\u1EE2\", \"\\u1EE4\", \"\\u1EE6\", \"\\u1EE8\", \"\\u1EEA\", \"\\u1EEC\", \"\\u1EEE\", \"\\u1EF0\", \"\\u1EF2\", \"\\u1EF4\", \"\\u1EF6\", \"\\u1EF8\", \"\\u1EFA\", \"\\u1EFC\", \"\\u1EFE\", [\"\\u1F08\", \"\\u1F0F\"], [\"\\u1F18\", \"\\u1F1D\"], [\"\\u1F28\", \"\\u1F2F\"], [\"\\u1F38\", \"\\u1F3F\"], [\"\\u1F48\", \"\\u1F4D\"], \"\\u1F59\", \"\\u1F5B\", \"\\u1F5D\", \"\\u1F5F\", [\"\\u1F68\", \"\\u1F6F\"], [\"\\u1FB8\", \"\\u1FBB\"], [\"\\u1FC8\", \"\\u1FCB\"], [\"\\u1FD8\", \"\\u1FDB\"], [\"\\u1FE8\", \"\\u1FEC\"], [\"\\u1FF8\", \"\\u1FFB\"], \"\\u2102\", \"\\u2107\", [\"\\u210B\", \"\\u210D\"], [\"\\u2110\", \"\\u2112\"], \"\\u2115\", [\"\\u2119\", \"\\u211D\"], \"\\u2124\", \"\\u2126\", \"\\u2128\", [\"\\u212A\", \"\\u212D\"], [\"\\u2130\", \"\\u2133\"], [\"\\u213E\", \"\\u213F\"], \"\\u2145\", \"\\u2183\", [\"\\u2C00\", \"\\u2C2E\"], \"\\u2C60\", [\"\\u2C62\", \"\\u2C64\"], \"\\u2C67\", \"\\u2C69\", \"\\u2C6B\", [\"\\u2C6D\", \"\\u2C70\"], \"\\u2C72\", \"\\u2C75\", [\"\\u2C7E\", \"\\u2C80\"], \"\\u2C82\", \"\\u2C84\", \"\\u2C86\", \"\\u2C88\", \"\\u2C8A\", \"\\u2C8C\", \"\\u2C8E\", \"\\u2C90\", \"\\u2C92\", \"\\u2C94\", \"\\u2C96\", \"\\u2C98\", \"\\u2C9A\", \"\\u2C9C\", \"\\u2C9E\", \"\\u2CA0\", \"\\u2CA2\", \"\\u2CA4\", \"\\u2CA6\", \"\\u2CA8\", \"\\u2CAA\", \"\\u2CAC\", \"\\u2CAE\", \"\\u2CB0\", \"\\u2CB2\", \"\\u2CB4\", \"\\u2CB6\", \"\\u2CB8\", \"\\u2CBA\", \"\\u2CBC\", \"\\u2CBE\", \"\\u2CC0\", \"\\u2CC2\", \"\\u2CC4\", \"\\u2CC6\", \"\\u2CC8\", \"\\u2CCA\", \"\\u2CCC\", \"\\u2CCE\", \"\\u2CD0\", \"\\u2CD2\", \"\\u2CD4\", \"\\u2CD6\", \"\\u2CD8\", \"\\u2CDA\", \"\\u2CDC\", \"\\u2CDE\", \"\\u2CE0\", \"\\u2CE2\", \"\\u2CEB\", \"\\u2CED\", \"\\u2CF2\", \"\\uA640\", \"\\uA642\", \"\\uA644\", \"\\uA646\", \"\\uA648\", \"\\uA64A\", \"\\uA64C\", \"\\uA64E\", \"\\uA650\", \"\\uA652\", \"\\uA654\", \"\\uA656\", \"\\uA658\", \"\\uA65A\", \"\\uA65C\", \"\\uA65E\", \"\\uA660\", \"\\uA662\", \"\\uA664\", \"\\uA666\", \"\\uA668\", \"\\uA66A\", \"\\uA66C\", \"\\uA680\", \"\\uA682\", \"\\uA684\", \"\\uA686\", \"\\uA688\", \"\\uA68A\", \"\\uA68C\", \"\\uA68E\", \"\\uA690\", \"\\uA692\", \"\\uA694\", \"\\uA696\", \"\\uA698\", \"\\uA69A\", \"\\uA722\", \"\\uA724\", \"\\uA726\", \"\\uA728\", \"\\uA72A\", \"\\uA72C\", \"\\uA72E\", \"\\uA732\", \"\\uA734\", \"\\uA736\", \"\\uA738\", \"\\uA73A\", \"\\uA73C\", \"\\uA73E\", \"\\uA740\", \"\\uA742\", \"\\uA744\", \"\\uA746\", \"\\uA748\", \"\\uA74A\", \"\\uA74C\", \"\\uA74E\", \"\\uA750\", \"\\uA752\", \"\\uA754\", \"\\uA756\", \"\\uA758\", \"\\uA75A\", \"\\uA75C\", \"\\uA75E\", \"\\uA760\", \"\\uA762\", \"\\uA764\", \"\\uA766\", \"\\uA768\", \"\\uA76A\", \"\\uA76C\", \"\\uA76E\", \"\\uA779\", \"\\uA77B\", [\"\\uA77D\", \"\\uA77E\"], \"\\uA780\", \"\\uA782\", \"\\uA784\", \"\\uA786\", \"\\uA78B\", \"\\uA78D\", \"\\uA790\", \"\\uA792\", \"\\uA796\", \"\\uA798\", \"\\uA79A\", \"\\uA79C\", \"\\uA79E\", \"\\uA7A0\", \"\\uA7A2\", \"\\uA7A4\", \"\\uA7A6\", \"\\uA7A8\", [\"\\uA7AA\", \"\\uA7AD\"], [\"\\uA7B0\", \"\\uA7B4\"], \"\\uA7B6\", [\"\\uFF21\", \"\\uFF3A\"]], false, false),\n     peg$c147 = /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAA7D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]/,\n     peg$c148 = peg$classExpectation([\"\\u0903\", \"\\u093B\", [\"\\u093E\", \"\\u0940\"], [\"\\u0949\", \"\\u094C\"], [\"\\u094E\", \"\\u094F\"], [\"\\u0982\", \"\\u0983\"], [\"\\u09BE\", \"\\u09C0\"], [\"\\u09C7\", \"\\u09C8\"], [\"\\u09CB\", \"\\u09CC\"], \"\\u09D7\", \"\\u0A03\", [\"\\u0A3E\", \"\\u0A40\"], \"\\u0A83\", [\"\\u0ABE\", \"\\u0AC0\"], \"\\u0AC9\", [\"\\u0ACB\", \"\\u0ACC\"], [\"\\u0B02\", \"\\u0B03\"], \"\\u0B3E\", \"\\u0B40\", [\"\\u0B47\", \"\\u0B48\"], [\"\\u0B4B\", \"\\u0B4C\"], \"\\u0B57\", [\"\\u0BBE\", \"\\u0BBF\"], [\"\\u0BC1\", \"\\u0BC2\"], [\"\\u0BC6\", \"\\u0BC8\"], [\"\\u0BCA\", \"\\u0BCC\"], \"\\u0BD7\", [\"\\u0C01\", \"\\u0C03\"], [\"\\u0C41\", \"\\u0C44\"], [\"\\u0C82\", \"\\u0C83\"], \"\\u0CBE\", [\"\\u0CC0\", \"\\u0CC4\"], [\"\\u0CC7\", \"\\u0CC8\"], [\"\\u0CCA\", \"\\u0CCB\"], [\"\\u0CD5\", \"\\u0CD6\"], [\"\\u0D02\", \"\\u0D03\"], [\"\\u0D3E\", \"\\u0D40\"], [\"\\u0D46\", \"\\u0D48\"], [\"\\u0D4A\", \"\\u0D4C\"], \"\\u0D57\", [\"\\u0D82\", \"\\u0D83\"], [\"\\u0DCF\", \"\\u0DD1\"], [\"\\u0DD8\", \"\\u0DDF\"], [\"\\u0DF2\", \"\\u0DF3\"], [\"\\u0F3E\", \"\\u0F3F\"], \"\\u0F7F\", [\"\\u102B\", \"\\u102C\"], \"\\u1031\", \"\\u1038\", [\"\\u103B\", \"\\u103C\"], [\"\\u1056\", \"\\u1057\"], [\"\\u1062\", \"\\u1064\"], [\"\\u1067\", \"\\u106D\"], [\"\\u1083\", \"\\u1084\"], [\"\\u1087\", \"\\u108C\"], \"\\u108F\", [\"\\u109A\", \"\\u109C\"], \"\\u17B6\", [\"\\u17BE\", \"\\u17C5\"], [\"\\u17C7\", \"\\u17C8\"], [\"\\u1923\", \"\\u1926\"], [\"\\u1929\", \"\\u192B\"], [\"\\u1930\", \"\\u1931\"], [\"\\u1933\", \"\\u1938\"], [\"\\u1A19\", \"\\u1A1A\"], \"\\u1A55\", \"\\u1A57\", \"\\u1A61\", [\"\\u1A63\", \"\\u1A64\"], [\"\\u1A6D\", \"\\u1A72\"], \"\\u1B04\", \"\\u1B35\", \"\\u1B3B\", [\"\\u1B3D\", \"\\u1B41\"], [\"\\u1B43\", \"\\u1B44\"], \"\\u1B82\", \"\\u1BA1\", [\"\\u1BA6\", \"\\u1BA7\"], \"\\u1BAA\", \"\\u1BE7\", [\"\\u1BEA\", \"\\u1BEC\"], \"\\u1BEE\", [\"\\u1BF2\", \"\\u1BF3\"], [\"\\u1C24\", \"\\u1C2B\"], [\"\\u1C34\", \"\\u1C35\"], \"\\u1CE1\", [\"\\u1CF2\", \"\\u1CF3\"], [\"\\u302E\", \"\\u302F\"], [\"\\uA823\", \"\\uA824\"], \"\\uA827\", [\"\\uA880\", \"\\uA881\"], [\"\\uA8B4\", \"\\uA8C3\"], [\"\\uA952\", \"\\uA953\"], \"\\uA983\", [\"\\uA9B4\", \"\\uA9B5\"], [\"\\uA9BA\", \"\\uA9BB\"], [\"\\uA9BD\", \"\\uA9C0\"], [\"\\uAA2F\", \"\\uAA30\"], [\"\\uAA33\", \"\\uAA34\"], \"\\uAA4D\", \"\\uAA7B\", \"\\uAA7D\", \"\\uAAEB\", [\"\\uAAEE\", \"\\uAAEF\"], \"\\uAAF5\", [\"\\uABE3\", \"\\uABE4\"], [\"\\uABE6\", \"\\uABE7\"], [\"\\uABE9\", \"\\uABEA\"], \"\\uABEC\"], false, false),\n     peg$c149 = /^[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C00\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D01\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1ABD\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8-\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69E-\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9E5\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/,\n     peg$c150 = peg$classExpectation([[\"\\u0300\", \"\\u036F\"], [\"\\u0483\", \"\\u0487\"], [\"\\u0591\", \"\\u05BD\"], \"\\u05BF\", [\"\\u05C1\", \"\\u05C2\"], [\"\\u05C4\", \"\\u05C5\"], \"\\u05C7\", [\"\\u0610\", \"\\u061A\"], [\"\\u064B\", \"\\u065F\"], \"\\u0670\", [\"\\u06D6\", \"\\u06DC\"], [\"\\u06DF\", \"\\u06E4\"], [\"\\u06E7\", \"\\u06E8\"], [\"\\u06EA\", \"\\u06ED\"], \"\\u0711\", [\"\\u0730\", \"\\u074A\"], [\"\\u07A6\", \"\\u07B0\"], [\"\\u07EB\", \"\\u07F3\"], [\"\\u0816\", \"\\u0819\"], [\"\\u081B\", \"\\u0823\"], [\"\\u0825\", \"\\u0827\"], [\"\\u0829\", \"\\u082D\"], [\"\\u0859\", \"\\u085B\"], [\"\\u08E3\", \"\\u0902\"], \"\\u093A\", \"\\u093C\", [\"\\u0941\", \"\\u0948\"], \"\\u094D\", [\"\\u0951\", \"\\u0957\"], [\"\\u0962\", \"\\u0963\"], \"\\u0981\", \"\\u09BC\", [\"\\u09C1\", \"\\u09C4\"], \"\\u09CD\", [\"\\u09E2\", \"\\u09E3\"], [\"\\u0A01\", \"\\u0A02\"], \"\\u0A3C\", [\"\\u0A41\", \"\\u0A42\"], [\"\\u0A47\", \"\\u0A48\"], [\"\\u0A4B\", \"\\u0A4D\"], \"\\u0A51\", [\"\\u0A70\", \"\\u0A71\"], \"\\u0A75\", [\"\\u0A81\", \"\\u0A82\"], \"\\u0ABC\", [\"\\u0AC1\", \"\\u0AC5\"], [\"\\u0AC7\", \"\\u0AC8\"], \"\\u0ACD\", [\"\\u0AE2\", \"\\u0AE3\"], \"\\u0B01\", \"\\u0B3C\", \"\\u0B3F\", [\"\\u0B41\", \"\\u0B44\"], \"\\u0B4D\", \"\\u0B56\", [\"\\u0B62\", \"\\u0B63\"], \"\\u0B82\", \"\\u0BC0\", \"\\u0BCD\", \"\\u0C00\", [\"\\u0C3E\", \"\\u0C40\"], [\"\\u0C46\", \"\\u0C48\"], [\"\\u0C4A\", \"\\u0C4D\"], [\"\\u0C55\", \"\\u0C56\"], [\"\\u0C62\", \"\\u0C63\"], \"\\u0C81\", \"\\u0CBC\", \"\\u0CBF\", \"\\u0CC6\", [\"\\u0CCC\", \"\\u0CCD\"], [\"\\u0CE2\", \"\\u0CE3\"], \"\\u0D01\", [\"\\u0D41\", \"\\u0D44\"], \"\\u0D4D\", [\"\\u0D62\", \"\\u0D63\"], \"\\u0DCA\", [\"\\u0DD2\", \"\\u0DD4\"], \"\\u0DD6\", \"\\u0E31\", [\"\\u0E34\", \"\\u0E3A\"], [\"\\u0E47\", \"\\u0E4E\"], \"\\u0EB1\", [\"\\u0EB4\", \"\\u0EB9\"], [\"\\u0EBB\", \"\\u0EBC\"], [\"\\u0EC8\", \"\\u0ECD\"], [\"\\u0F18\", \"\\u0F19\"], \"\\u0F35\", \"\\u0F37\", \"\\u0F39\", [\"\\u0F71\", \"\\u0F7E\"], [\"\\u0F80\", \"\\u0F84\"], [\"\\u0F86\", \"\\u0F87\"], [\"\\u0F8D\", \"\\u0F97\"], [\"\\u0F99\", \"\\u0FBC\"], \"\\u0FC6\", [\"\\u102D\", \"\\u1030\"], [\"\\u1032\", \"\\u1037\"], [\"\\u1039\", \"\\u103A\"], [\"\\u103D\", \"\\u103E\"], [\"\\u1058\", \"\\u1059\"], [\"\\u105E\", \"\\u1060\"], [\"\\u1071\", \"\\u1074\"], \"\\u1082\", [\"\\u1085\", \"\\u1086\"], \"\\u108D\", \"\\u109D\", [\"\\u135D\", \"\\u135F\"], [\"\\u1712\", \"\\u1714\"], [\"\\u1732\", \"\\u1734\"], [\"\\u1752\", \"\\u1753\"], [\"\\u1772\", \"\\u1773\"], [\"\\u17B4\", \"\\u17B5\"], [\"\\u17B7\", \"\\u17BD\"], \"\\u17C6\", [\"\\u17C9\", \"\\u17D3\"], \"\\u17DD\", [\"\\u180B\", \"\\u180D\"], \"\\u18A9\", [\"\\u1920\", \"\\u1922\"], [\"\\u1927\", \"\\u1928\"], \"\\u1932\", [\"\\u1939\", \"\\u193B\"], [\"\\u1A17\", \"\\u1A18\"], \"\\u1A1B\", \"\\u1A56\", [\"\\u1A58\", \"\\u1A5E\"], \"\\u1A60\", \"\\u1A62\", [\"\\u1A65\", \"\\u1A6C\"], [\"\\u1A73\", \"\\u1A7C\"], \"\\u1A7F\", [\"\\u1AB0\", \"\\u1ABD\"], [\"\\u1B00\", \"\\u1B03\"], \"\\u1B34\", [\"\\u1B36\", \"\\u1B3A\"], \"\\u1B3C\", \"\\u1B42\", [\"\\u1B6B\", \"\\u1B73\"], [\"\\u1B80\", \"\\u1B81\"], [\"\\u1BA2\", \"\\u1BA5\"], [\"\\u1BA8\", \"\\u1BA9\"], [\"\\u1BAB\", \"\\u1BAD\"], \"\\u1BE6\", [\"\\u1BE8\", \"\\u1BE9\"], \"\\u1BED\", [\"\\u1BEF\", \"\\u1BF1\"], [\"\\u1C2C\", \"\\u1C33\"], [\"\\u1C36\", \"\\u1C37\"], [\"\\u1CD0\", \"\\u1CD2\"], [\"\\u1CD4\", \"\\u1CE0\"], [\"\\u1CE2\", \"\\u1CE8\"], \"\\u1CED\", \"\\u1CF4\", [\"\\u1CF8\", \"\\u1CF9\"], [\"\\u1DC0\", \"\\u1DF5\"], [\"\\u1DFC\", \"\\u1DFF\"], [\"\\u20D0\", \"\\u20DC\"], \"\\u20E1\", [\"\\u20E5\", \"\\u20F0\"], [\"\\u2CEF\", \"\\u2CF1\"], \"\\u2D7F\", [\"\\u2DE0\", \"\\u2DFF\"], [\"\\u302A\", \"\\u302D\"], [\"\\u3099\", \"\\u309A\"], \"\\uA66F\", [\"\\uA674\", \"\\uA67D\"], [\"\\uA69E\", \"\\uA69F\"], [\"\\uA6F0\", \"\\uA6F1\"], \"\\uA802\", \"\\uA806\", \"\\uA80B\", [\"\\uA825\", \"\\uA826\"], \"\\uA8C4\", [\"\\uA8E0\", \"\\uA8F1\"], [\"\\uA926\", \"\\uA92D\"], [\"\\uA947\", \"\\uA951\"], [\"\\uA980\", \"\\uA982\"], \"\\uA9B3\", [\"\\uA9B6\", \"\\uA9B9\"], \"\\uA9BC\", \"\\uA9E5\", [\"\\uAA29\", \"\\uAA2E\"], [\"\\uAA31\", \"\\uAA32\"], [\"\\uAA35\", \"\\uAA36\"], \"\\uAA43\", \"\\uAA4C\", \"\\uAA7C\", \"\\uAAB0\", [\"\\uAAB2\", \"\\uAAB4\"], [\"\\uAAB7\", \"\\uAAB8\"], [\"\\uAABE\", \"\\uAABF\"], \"\\uAAC1\", [\"\\uAAEC\", \"\\uAAED\"], \"\\uAAF6\", \"\\uABE5\", \"\\uABE8\", \"\\uABED\", \"\\uFB1E\", [\"\\uFE00\", \"\\uFE0F\"], [\"\\uFE20\", \"\\uFE2F\"]], false, false),\n     peg$c151 = /^[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]/,\n     peg$c152 = peg$classExpectation([[\"0\", \"9\"], [\"\\u0660\", \"\\u0669\"], [\"\\u06F0\", \"\\u06F9\"], [\"\\u07C0\", \"\\u07C9\"], [\"\\u0966\", \"\\u096F\"], [\"\\u09E6\", \"\\u09EF\"], [\"\\u0A66\", \"\\u0A6F\"], [\"\\u0AE6\", \"\\u0AEF\"], [\"\\u0B66\", \"\\u0B6F\"], [\"\\u0BE6\", \"\\u0BEF\"], [\"\\u0C66\", \"\\u0C6F\"], [\"\\u0CE6\", \"\\u0CEF\"], [\"\\u0D66\", \"\\u0D6F\"], [\"\\u0DE6\", \"\\u0DEF\"], [\"\\u0E50\", \"\\u0E59\"], [\"\\u0ED0\", \"\\u0ED9\"], [\"\\u0F20\", \"\\u0F29\"], [\"\\u1040\", \"\\u1049\"], [\"\\u1090\", \"\\u1099\"], [\"\\u17E0\", \"\\u17E9\"], [\"\\u1810\", \"\\u1819\"], [\"\\u1946\", \"\\u194F\"], [\"\\u19D0\", \"\\u19D9\"], [\"\\u1A80\", \"\\u1A89\"], [\"\\u1A90\", \"\\u1A99\"], [\"\\u1B50\", \"\\u1B59\"], [\"\\u1BB0\", \"\\u1BB9\"], [\"\\u1C40\", \"\\u1C49\"], [\"\\u1C50\", \"\\u1C59\"], [\"\\uA620\", \"\\uA629\"], [\"\\uA8D0\", \"\\uA8D9\"], [\"\\uA900\", \"\\uA909\"], [\"\\uA9D0\", \"\\uA9D9\"], [\"\\uA9F0\", \"\\uA9F9\"], [\"\\uAA50\", \"\\uAA59\"], [\"\\uABF0\", \"\\uABF9\"], [\"\\uFF10\", \"\\uFF19\"]], false, false),\n     peg$c153 = /^[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]/,\n     peg$c154 = peg$classExpectation([[\"\\u16EE\", \"\\u16F0\"], [\"\\u2160\", \"\\u2182\"], [\"\\u2185\", \"\\u2188\"], \"\\u3007\", [\"\\u3021\", \"\\u3029\"], [\"\\u3038\", \"\\u303A\"], [\"\\uA6E6\", \"\\uA6EF\"]], false, false),\n     peg$c155 = /^[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]/,\n     peg$c156 = peg$classExpectation([\"_\", [\"\\u203F\", \"\\u2040\"], \"\\u2054\", [\"\\uFE33\", \"\\uFE34\"], [\"\\uFE4D\", \"\\uFE4F\"], \"\\uFF3F\"], false, false),\n     peg$c157 = /^[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/,\n     peg$c158 = peg$classExpectation([\" \", \"\\xA0\", \"\\u1680\", [\"\\u2000\", \"\\u200A\"], \"\\u202F\", \"\\u205F\", \"\\u3000\"], false, false),\n\n     peg$currPos = 0,\n     peg$savedPos = 0,\n     peg$posDetailsCache = [{line: 1, column: 1}],\n     peg$maxFailPos = 0,\n     peg$maxFailExpected = [],\n     peg$silentFails = 0,\n\n     peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n       [peg$otherExpectation(description)],\n       input.substring(peg$savedPos, peg$currPos),\n       location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return {type: \"literal\", text: text, ignoreCase: ignoreCase};\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return {type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase};\n  }\n\n  function peg$anyExpectation() {\n    return {type: \"any\"};\n  }\n\n  function peg$endExpectation() {\n    return {type: \"end\"};\n  }\n\n  function peg$otherExpectation(description) {\n    return {type: \"other\", description: description};\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n       endPosDetails = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) {\n      return;\n    }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n       peg$SyntaxError.buildMessage(expected, found),\n       expected,\n       found,\n       location\n    );\n  }\n\n  function peg$parseformula() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseformula_cases();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsespaces();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c0(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseterm() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseterm_cases();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsespaces();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c1(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseformula_cases() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c2;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c3);\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseformula();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsespaces();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseconjunction_symbol();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsespaces();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseformula();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 41) {\n                  s7 = peg$c4;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) {\n                    peg$fail(peg$c5);\n                  }\n                }\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c6(s2, s6);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s1 = peg$c2;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c3);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseformula();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsespaces();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsedisjunction_symbol();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsespaces();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parseformula();\n                if (s6 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 41) {\n                    s7 = peg$c4;\n                    peg$currPos++;\n                  } else {\n                    s7 = peg$FAILED;\n                    if (peg$silentFails === 0) {\n                      peg$fail(peg$c5);\n                    }\n                  }\n                  if (s7 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c7(s2, s6);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 40) {\n          s1 = peg$c2;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c3);\n          }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseformula();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsespaces();\n            if (s3 !== peg$FAILED) {\n              s4 = peg$parseimplication_symbol();\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parsespaces();\n                if (s5 !== peg$FAILED) {\n                  s6 = peg$parseformula();\n                  if (s6 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 41) {\n                      s7 = peg$c4;\n                      peg$currPos++;\n                    } else {\n                      s7 = peg$FAILED;\n                      if (peg$silentFails === 0) {\n                        peg$fail(peg$c5);\n                      }\n                    }\n                    if (s7 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c8(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parseterm();\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parsespaces();\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parseequality_symbol();\n              if (s3 !== peg$FAILED) {\n                s4 = peg$parsespaces();\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parseterm();\n                  if (s5 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c9(s1, s5);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parseterm();\n            if (s1 !== peg$FAILED) {\n              s2 = peg$parsespaces();\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parsenon_equality_symbol();\n                if (s3 !== peg$FAILED) {\n                  s4 = peg$parsespaces();\n                  if (s4 !== peg$FAILED) {\n                    s5 = peg$parseterm();\n                    if (s5 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c10(s1, s5);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              s1 = peg$parseexists_symbol();\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parsespaces();\n                if (s2 !== peg$FAILED) {\n                  s3 = peg$parsevariable_symbol();\n                  if (s3 !== peg$FAILED) {\n                    s4 = peg$parsespaces();\n                    if (s4 !== peg$FAILED) {\n                      s5 = peg$parseformula();\n                      if (s5 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c11(s3, s5);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                s1 = peg$parseuni_symbol();\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$parsespaces();\n                  if (s2 !== peg$FAILED) {\n                    s3 = peg$parsevariable_symbol();\n                    if (s3 !== peg$FAILED) {\n                      s4 = peg$parsespaces();\n                      if (s4 !== peg$FAILED) {\n                        s5 = peg$parseformula();\n                        if (s5 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c12(s3, s5);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  s1 = peg$parsenegation_symbol();\n                  if (s1 !== peg$FAILED) {\n                    s2 = peg$parseformula();\n                    if (s2 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c13(s2);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    s1 = peg$parsepredicate_symbol();\n                    if (s1 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c14(s1);\n                    }\n                    s0 = s1;\n                    if (s0 === peg$FAILED) {\n                      s0 = peg$currPos;\n                      if (input.charCodeAt(peg$currPos) === 40) {\n                        s1 = peg$c2;\n                        peg$currPos++;\n                      } else {\n                        s1 = peg$FAILED;\n                        if (peg$silentFails === 0) {\n                          peg$fail(peg$c3);\n                        }\n                      }\n                      if (s1 !== peg$FAILED) {\n                        s2 = peg$parseformula();\n                        if (s2 !== peg$FAILED) {\n                          if (input.charCodeAt(peg$currPos) === 41) {\n                            s3 = peg$c4;\n                            peg$currPos++;\n                          } else {\n                            s3 = peg$FAILED;\n                            if (peg$silentFails === 0) {\n                              peg$fail(peg$c5);\n                            }\n                          }\n                          if (s3 !== peg$FAILED) {\n                            peg$savedPos = s0;\n                            s1 = peg$c0(s2);\n                            s0 = s1;\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseterm_cases() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefunction_symbol();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c15(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parseconstant_symbol();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsevariable_symbol();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c17(s1);\n        }\n        s0 = s1;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseconstant_symbol() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parseIdentifier();\n    if (s2 !== peg$FAILED) {\n      peg$savedPos = peg$currPos;\n      s3 = peg$c18(s2);\n      if (s3) {\n        s3 = void 0;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunction_symbol() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = peg$currPos;\n      s2 = peg$c19(s1);\n      if (s2) {\n        s2 = void 0;\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsespaces();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 40) {\n            s4 = peg$c2;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c3);\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseterms();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s6 = peg$c4;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c5);\n                }\n              }\n              if (s6 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c20(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepredicate_symbol() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifier();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = peg$currPos;\n      s2 = peg$c21(s1);\n      if (s2) {\n        s2 = void 0;\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsespaces();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 40) {\n            s4 = peg$c2;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c3);\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseterms();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s6 = peg$c4;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c5);\n                }\n              }\n              if (s6 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c22(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parseIdentifier();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = peg$currPos;\n        s2 = peg$c21(s1);\n        if (s2) {\n          s2 = void 0;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c23(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsevariable_symbol() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parseIdentifier();\n    if (s2 !== peg$FAILED) {\n      peg$savedPos = peg$currPos;\n      s3 = peg$c24(s2);\n      if (s3) {\n        s3 = void 0;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parseterms() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseterm();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsespaces();\n      if (s4 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s5 = peg$c25;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c26);\n          }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsespaces();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parseterm();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s3;\n              s4 = peg$c27(s1, s7);\n              s3 = s4;\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsespaces();\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s5 = peg$c25;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parsespaces();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseterm();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s3;\n                s4 = peg$c27(s1, s7);\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c28(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsespaces() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c30.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c31);\n      }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c30.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c31);\n        }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c29);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parserequired_space() {\n    var s0, s1;\n\n    s0 = [];\n    if (peg$c30.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c31);\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c30.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c31);\n          }\n        }\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseconjunction_symbol() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c32) {\n      s1 = peg$c32;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c33);\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parserequired_space();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c34) {\n        s1 = peg$c34;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c35);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parserequired_space();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c36) {\n          s0 = peg$c36;\n          peg$currPos += 2;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c37);\n          }\n        }\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 38) {\n            s0 = peg$c38;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c39);\n            }\n          }\n          if (s0 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 8743) {\n              s0 = peg$c40;\n              peg$currPos++;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c41);\n              }\n            }\n            if (s0 === peg$FAILED) {\n              if (input.substr(peg$currPos, 2) === peg$c42) {\n                s0 = peg$c42;\n                peg$currPos += 2;\n              } else {\n                s0 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c43);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedisjunction_symbol() {\n    var s0, s1, s2;\n\n    if (input.substr(peg$currPos, 2) === peg$c44) {\n      s0 = peg$c44;\n      peg$currPos += 2;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c45);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 124) {\n        s0 = peg$c46;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c47);\n        }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 4) === peg$c48) {\n          s1 = peg$c48;\n          peg$currPos += 4;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c49);\n          }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parserequired_space();\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 8744) {\n            s0 = peg$c50;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c51);\n            }\n          }\n          if (s0 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c52) {\n              s0 = peg$c52;\n              peg$currPos += 2;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c53);\n              }\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 4) === peg$c54) {\n                s1 = peg$c54;\n                peg$currPos += 4;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c55);\n                }\n              }\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parserequired_space();\n                if (s2 !== peg$FAILED) {\n                  s1 = [s1, s2];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseimplication_symbol() {\n    var s0, s1, s2;\n\n    if (input.substr(peg$currPos, 2) === peg$c56) {\n      s0 = peg$c56;\n      peg$currPos += 2;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c57);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 3) === peg$c58) {\n        s1 = peg$c58;\n        peg$currPos += 3;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c59);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parserequired_space();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 8594) {\n          s0 = peg$c60;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c61);\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexists_symbol() {\n    var s0, s1, s2;\n\n    if (input.charCodeAt(peg$currPos) === 8707) {\n      s0 = peg$c62;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c63);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 7) === peg$c64) {\n        s1 = peg$c64;\n        peg$currPos += 7;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c65);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parserequired_space();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c66) {\n          s1 = peg$c66;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c67);\n          }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parserequired_space();\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c68) {\n            s1 = peg$c68;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c69);\n            }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parserequired_space();\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseuni_symbol() {\n    var s0, s1, s2;\n\n    if (input.charCodeAt(peg$currPos) === 8704) {\n      s0 = peg$c70;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c71);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 7) === peg$c72) {\n        s1 = peg$c72;\n        peg$currPos += 7;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c73);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parserequired_space();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c74) {\n          s1 = peg$c74;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c75);\n          }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parserequired_space();\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c76) {\n            s1 = peg$c76;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c77);\n            }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parserequired_space();\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsenegation_symbol() {\n    var s0, s1, s2;\n\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s0 = peg$c78;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c79);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 33) {\n        s0 = peg$c80;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c81);\n        }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 126) {\n          s0 = peg$c82;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c83);\n          }\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 4) === peg$c84) {\n            s1 = peg$c84;\n            peg$currPos += 4;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c85);\n            }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = peg$parserequired_space();\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 172) {\n              s0 = peg$c86;\n              peg$currPos++;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c87);\n              }\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 5) === peg$c88) {\n                s1 = peg$c88;\n                peg$currPos += 5;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c89);\n                }\n              }\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parserequired_space();\n                if (s2 !== peg$FAILED) {\n                  s1 = [s1, s2];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseequality_symbol() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 61) {\n      s0 = peg$c90;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c91);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsenon_equality_symbol() {\n    var s0;\n\n    if (input.substr(peg$currPos, 2) === peg$c92) {\n      s0 = peg$c92;\n      peg$currPos += 2;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c93);\n      }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.substr(peg$currPos, 2) === peg$c94) {\n        s0 = peg$c94;\n        peg$currPos += 2;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c95);\n        }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c96) {\n          s0 = peg$c96;\n          peg$currPos += 2;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c97);\n          }\n        }\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 8800) {\n            s0 = peg$c98;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c99);\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseconstants() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseIdentifier();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parseIdentifier();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c100(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parseIdentifier();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c100(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c101(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepredicates() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parselanguage_predicate();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parselanguage_predicate();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c102(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parselanguage_predicate();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c102(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c103(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunctions() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parselanguage_function();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parselanguage_function();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c104(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parselanguage_function();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c104(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c105(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepredicate_arity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c106.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c107);\n      }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c106.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c107);\n          }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunction_arity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c108.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c109);\n      }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c108.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c109);\n          }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parselanguage_predicate() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseIdentifier();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 47) {\n          s3 = peg$c110;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c111);\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsepredicate_arity();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsespaces();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c112(s2, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parselanguage_function() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseIdentifier();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 47) {\n          s3 = peg$c110;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c111);\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsefunction_arity();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsespaces();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c113(s2, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedomain() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseDomainIdentifier();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parseDomainIdentifier();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c114(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parseDomainIdentifier();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c114(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c115(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetuples() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsetuple();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsetuple();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c116(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parsetuple();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c116(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c117(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsee_tuples() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    s1 = peg$parsespaces();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsee_tuple();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        s5 = peg$parsespaces();\n        if (s5 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s6 = peg$c25;\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c26);\n            }\n          }\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsespaces();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsee_tuple();\n              if (s8 !== peg$FAILED) {\n                peg$savedPos = s4;\n                s5 = peg$c116(s2, s8);\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          s5 = peg$parsespaces();\n          if (s5 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s6 = peg$c25;\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsespaces();\n              if (s7 !== peg$FAILED) {\n                s8 = peg$parsee_tuple();\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s4;\n                  s5 = peg$c116(s2, s8);\n                  s4 = s5;\n                } else {\n                  peg$currPos = s4;\n                  s4 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s4;\n                s4 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c117(s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetuple() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c2;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c3);\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsespaces();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseDomainIdentifier();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsespaces();\n          if (s6 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s7 = peg$c25;\n              peg$currPos++;\n            } else {\n              s7 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsespaces();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parseDomainIdentifier();\n                if (s9 !== peg$FAILED) {\n                  peg$savedPos = s5;\n                  s6 = peg$c114(s3, s9);\n                  s5 = s6;\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$currPos;\n              s6 = peg$parsespaces();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 44) {\n                  s7 = peg$c25;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) {\n                    peg$fail(peg$c26);\n                  }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parsespaces();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseDomainIdentifier();\n                    if (s9 !== peg$FAILED) {\n                      peg$savedPos = s5;\n                      s6 = peg$c114(s3, s9);\n                      s5 = s6;\n                    } else {\n                      peg$currPos = s5;\n                      s5 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s5;\n                    s5 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsespaces();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 41) {\n                s6 = peg$c4;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c5);\n                }\n              }\n              if (s6 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c115(s3, s4);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsespaces();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseDomainIdentifier();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsespaces();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c118(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsee_tuple() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c2;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c3);\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsespaces();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseIdentifier();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsespaces();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c25;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c26);\n              }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsespaces();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseDomainIdentifier();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parsespaces();\n                  if (s8 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 41) {\n                      s9 = peg$c4;\n                      peg$currPos++;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) {\n                        peg$fail(peg$c5);\n                      }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c119(s3, s7);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseDomainIdentifier() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c121.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c122);\n      }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c121.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c122);\n          }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c120);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifier() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifierName();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c123(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseIdentifierName() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parseIdentifierStart();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseIdentifierPart();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parseIdentifierPart();\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c125(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c124);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifierStart() {\n    var s0;\n\n    s0 = peg$parseUnicodeLetter();\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 36) {\n        s0 = peg$c126;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c127);\n        }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 95) {\n          s0 = peg$c128;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c129);\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseIdentifierPart() {\n    var s0;\n\n    s0 = peg$parseIdentifierStart();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseUnicodeCombiningMark();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseUnicodeDigit();\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 8204) {\n            s0 = peg$c130;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c131);\n            }\n          }\n          if (s0 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 8205) {\n              s0 = peg$c132;\n              peg$currPos++;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c133);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnicodeLetter() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$parseLu();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseLl();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseLt();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseLm();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseLo();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseNl();\n            }\n          }\n        }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c134);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnicodeCombiningMark() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$parseMn();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseMc();\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c135);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseUnicodeDigit() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$parseNd();\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c136);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLl() {\n    var s0;\n\n    if (peg$c137.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c138);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLm() {\n    var s0;\n\n    if (peg$c139.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c140);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLo() {\n    var s0;\n\n    if (peg$c141.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c142);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLt() {\n    var s0;\n\n    if (peg$c143.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c144);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLu() {\n    var s0;\n\n    if (peg$c145.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c146);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMc() {\n    var s0;\n\n    if (peg$c147.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c148);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMn() {\n    var s0;\n\n    if (peg$c149.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c150);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseNd() {\n    var s0;\n\n    if (peg$c151.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c152);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseNl() {\n    var s0;\n\n    if (peg$c153.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c154);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsePc() {\n    var s0;\n\n    if (peg$c155.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c156);\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseZs() {\n    var s0;\n\n    if (peg$c157.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) {\n        peg$fail(peg$c158);\n      }\n    }\n\n    return s0;\n  }\n\n\n  const Conjunction = options.conjunction;\n  const Disjunction = options.disjunction;\n  const Implication = options.implication;\n  const ExistentialQuant = options.existentialQuant;\n  const UniversalQuant = options.universalQuant;\n  const Negation = options.negation;\n  const Constant = options.constant;\n  const Variable = options.variable;\n  const Language = options.language;\n  const FunctionTerm = options.functionTerm;\n  const Predicate = options.predicate;\n  const EqualityAtom = options.equalityAtom;\n  const Structure = options.structure;\n\n  function checkPredicateArity(id, terms) {\n    if (Structure.language.getPredicate(id) == terms.length) {\n      return new Predicate(id, terms);\n    } else {\n      error(\"Predicate \" + id + \" has arity \" + Structure.language.getPredicate(id))\n    }\n  }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n       peg$maxFailExpected,\n       peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n       peg$maxFailPos < input.length\n          ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n          : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const setConstants = (value) => ({\n  type: 'SET_CONSTANTS',\n  value\n});\n\nexport const setPredicates = (value) => ({\n  type: 'SET_PREDICATES',\n  value\n});\n\nexport const setFunctions = (value) => ({\n  type: 'SET_FUNCTIONS',\n  value\n});\n\nexport const setDomain = (value) => ({\n  type: 'SET_DOMAIN',\n  value\n});\n\nexport const renameDomainNode = (oldName,newName) => ({\n  type: 'RENAME_DOMAIN_NODE',\n  oldName,\n  newName\n});\n\nexport const renameConstantNode = (oldName,newName) => ({\n  type: 'RENAME_CONSTANT_NODE',\n  oldName,\n  newName\n});\n\nexport const setConstantValueFromLink = (constantNodeName,domainNodeName) => ({\n  type: 'SET_CONSTANT_VALUE_FROM_LINK',\n  constantNodeName,\n  domainNodeName\n});\n\nexport const syncMathState = () => ({\n  type: 'SYNC_MATH_STATE'\n});\n\nexport const syncDiagram = (value,focusOnBodyFunc) => ({\n  type: 'SYNC_DIAGRAM',\n  value,\n  focusOnBodyFunc\n});\n\nexport const removeConstantNode = (nodeName) => ({\n  type: 'REMOVE_CONSTANT_NODE',\n  nodeName\n});\n\nexport const removeDomainNode = (nodeName) => ({\n  type: 'REMOVE_DOMAIN_NODE',\n  nodeName\n});\n\nexport const addConstantNode = (nodeName,nodeObject) => ({\n  type: 'ADD_CONSTANT_NODE',\n  nodeName,\n  nodeObject\n});\n\nexport const addDomainNode = (nodeName,nodeObject) => ({\n  type: 'ADD_DOMAIN_NODE',\n  nodeName,\n  nodeObject\n});\n\nexport const addTernaryNode = (nodeName,nodeObject) => ({\n  type: 'ADD_TERNARY_NODE',\n  nodeName,\n  nodeObject\n});\n\nexport const addQuaternaryNode = (nodeName,nodeObject) => ({\n  type: 'ADD_QUATERNARY_NODE',\n  nodeName,\n  nodeObject\n});\n\nexport const removeTernaryNode = (nodeName) => ({\n  type: 'REMOVE_TERNARY_NODE',\n  nodeName\n});\n\nexport const removeQuaternaryNode = (nodeName) => ({\n  type: 'REMOVE_QUATERNARY_NODE',\n  nodeName\n});\n\nexport const addUnaryPredicate = (predicateName,nodeName) => ({\n  type: 'ADD_UNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const removeUnaryPredicate = (predicateName,nodeName) => ({\n  type: 'REMOVE_UNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const addBinaryPredicate = (predicateName,sourceNodeName,targetNodeName,direction) => ({\n  type: 'ADD_BINARY_PREDICATE',\n  predicateName,\n  sourceNodeName,\n  targetNodeName,\n  direction\n});\n\nexport const addTernaryPredicate = (predicateName,nodeName) => ({\n  type: 'ADD_TERNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const addQuaternaryPredicate = (predicateName,nodeName) => ({\n  type: 'ADD_QUATERNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const addUnaryFunction = (functionName,sourceNodeName,targetNodeName,direction) => ({\n  type: 'ADD_UNARY_FUNCTION',\n  functionName,\n  sourceNodeName,\n  targetNodeName,\n  direction\n});\n\nexport const addBinaryFunction = (functionName,nodeName) => ({\n  type: 'ADD_BINARY_FUNCTION',\n  functionName,\n  nodeName\n});\n\nexport const addTernaryFunction = (functionName,nodeName) => ({\n  type: 'ADD_TERNARY_FUNCTION',\n  functionName,\n  nodeName\n});\n\nexport const removeUnaryFunction = (functionName,sourceNodeName,targetNodeName,direction) => ({\n  type: 'REMOVE_UNARY_FUNCTION',\n  functionName,\n  sourceNodeName,\n  targetNodeName,\n  direction\n});\n\nexport const removeBinaryPredicate = (predicateName,sourceNodeName,targetNodeName,direction) => ({\n  type: 'REMOVE_BINARY_PREDICATE',\n  predicateName,\n  sourceNodeName,\n  targetNodeName,\n  direction\n});\n\nexport const removeBinaryFunction = (functionName,nodeName) => ({\n  type: 'REMOVE_BINARY_FUNCTION',\n  functionName,\n  nodeName\n});\n\nexport const removeTernaryFunction = (functionName,nodeName) => ({\n  type: 'REMOVE_TERNARY_FUNCTION',\n  functionName,\n  nodeName\n});\n\nexport const removeTernaryPredicate = (predicateName,nodeName) => ({\n  type: 'REMOVE_TERNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const removeQuaternaryPredicate = (predicateName,nodeName) => ({\n  type: 'REMOVE_QUATERNARY_PREDICATE',\n  predicateName,\n  nodeName\n});\n\nexport const changeDirectionOfBinaryRelation = (languageElementName,sourceNodeName,targetNodeName,direction,langType) => ({\n  type: 'CHANGE_DIRECTION_OF_BINARY_RELATION',\n  languageElementName,\n  sourceNodeName,\n  targetNodeName,\n  direction,\n  langType\n});\n\nexport const setConstantValue = (value, constantName) => ({\n  type: 'SET_CONSTANT_VALUE',\n  constantName,\n  value,\n});\n\nexport const setPredicateValueText = (value, predicateName) => ({\n  type: 'SET_PREDICATE_VALUE_TEXT',\n  value,\n  predicateName\n});\n\nexport const setPredicateValueTable = (value, predicateName, checked) => ({\n  type: 'SET_PREDICATE_VALUE_TABLE',\n  value,\n  predicateName,\n  checked\n});\n\nexport const setFunctionValueText = (value, functionName) => ({\n  type: 'SET_FUNCTION_VALUE_TEXT',\n  value,\n  functionName\n});\n\nexport const clearGraphSelection = () => ({\n  type: 'CLEAR_GRAPH_SELECTION'\n});\n\nexport const setDiagramModel = (model) => ({\n  type: 'SET_MODEL',\n  model\n});\n\nexport const setFunctionValueTable = (value, functionName) => ({\n  type: 'SET_FUNCTION_VALUE_TABLE',\n  value,\n  functionName\n});\n\nexport const checkExpressionSyntax = (value, index, expressionType) => ({\n  type: 'CHECK_SYNTAX',\n  value,\n  index,\n  expressionType\n});\n\nexport const addExpression = (expressionType) => ({\n  type: 'ADD_EXPRESSION',\n  expressionType\n});\n\nexport const resetDiagramState = () => ({\n  type: 'RESET_DIAGRAM_STATE'\n});\n\nexport const removeExpression = (expressionType, index) => ({\n  type: 'REMOVE_EXPRESSION',\n  expressionType,\n  index\n});\n\nexport const setExpressionAnswer = (expressionType, answer, index) => ({\n  type: 'SET_EXPRESSION_ANSWER',\n  expressionType,\n  answer,\n  index\n});\n\nexport const lockExpressionValue = (expressionType, expressionIndex) => ({\n  type: 'LOCK_EXPRESSION_VALUE',\n  expressionType,\n  expressionIndex\n});\n\nexport const lockExpressionAnswer = (expressionType, expressionIndex) => ({\n  type: 'LOCK_EXPRESSION_ANSWER',\n  expressionType,\n  expressionIndex\n});\n\nexport const lockConstants = () => ({\n  type: 'LOCK_CONSTANTS'\n});\n\nexport const lockPredicates = () => ({\n  type: 'LOCK_PREDICATES'\n});\n\nexport const lockFunctions = () => ({\n  type: 'LOCK_FUNCTIONS'\n});\n\nexport const lockLanguageComponent = () => ({\n  type: 'LOCK_LANGUAGE_COMPONENT'\n});\n\nexport const lockDomain = () => ({\n  type: 'LOCK_DOMAIN'\n});\n\nexport const lockConstantValue = (constantName) => ({\n  type: 'LOCK_CONSTANT_VALUE',\n  constantName\n});\n\nexport const lockPredicateValue = (predicateName) => ({\n  type: 'LOCK_PREDICATE_VALUE',\n  predicateName\n});\n\nexport const lockFunctionValue = (functionName) => ({\n  type: 'LOCK_FUNCTION_VALUE',\n  functionName\n});\n\nexport const lockVariables = () => ({\n  type: 'LOCK_VARIABLES'\n});\n\nexport const toggleTable = (itemType, name) => ({\n  type: 'TOGGLE_EDIT_TABLE',\n  itemType,\n  name\n});\n\nexport const toggleDatabase = (itemType, name) => ({\n  type: 'TOGGLE_EDIT_DATABASE',\n  itemType,\n  name\n});\n\nexport const setVariablesValue = (value) => ({\n  type: 'SET_VARIABLES_VALUE',\n  value\n});\n\nexport const toggleTeacherMode = () => ({\n  type: 'TOGGLE_TEACHER_MODE'\n});\n\nexport const importAppState = (content,diagramState) => ({\n  type: 'IMPORT_APP',\n  content,\n  diagramState\n});\n\nexport const importDiagramState = (state,focusOnBodyFunc) => ({\n  type: 'IMPORT_DIAGRAM_STATE',\n  state,\n  focusOnBodyFunc\n});\nexport const toggleEditableNodes = (value) => ({\n  type: 'TOGGLE_EDITABLE_NODES',\n  value\n});\nexport const initiateGame = (index) => ({\n  type: 'INITIATE_GAME',\n  index\n});\nexport const setGameCommitment = (index, commitment, gameMessages, userMessages) => ({\n  type: 'SET_GAME_COMMITMENT',\n  index,\n  commitment,\n  gameMessages,\n  userMessages\n});\nexport const continueGame = (index, gameMessages, userMessages, randomNumbers) => ({\n  type: 'CONTINUE_GAME',\n  index,\n  gameMessages,\n  userMessages\n});\nexport const setGameDomainChoice = (index, value, gameMessages, userMessages) => ({\n  type: 'SET_GAME_DOMAIN_CHOICE',\n  index,\n  value,\n  gameMessages,\n  userMessages\n});\nexport const endGame = (index) => ({\n  type: 'END_GAME',\n  index\n});\nexport const setGameNextFormula = (index, formula, commitment, gameMessages, userMessages) => ({\n  type: 'SET_GAME_NEXT_FORMULA',\n  index,\n  formula,\n  commitment,\n  gameMessages,\n  userMessages\n});\nexport const goBack = (index, historyIndex) => ({\n  type: 'GO_BACK',\n  index,\n  historyIndex\n});\nexport const getVariables = (index) => ({\n  type: 'GET_VARIABLES',\n  index\n});","export const STUDENT_MODE = 'STUDENT';\n\nexport const CONSTANT = 'CONSTANT';\nexport const FUNCTION = 'FUNCTION';\nexport const PREDICATE = 'PREDICATE';\nexport const DOMAIN = 'DOMAIN';\nexport const VARIABLE = 'VARIABLE';\n\n\n\nexport const FORMULA = 'FORMULA';\nexport const TERM = 'TERM';\n\nexport const EXPRESSION_LABEL = {\n  FORMULA: '𝝋',\n  TERM: '𝝉'\n};\n\nexport const defaultInputData = () => ({value: '', locked: false, errorMessage: '', parsed: []});\nexport const defaultExpressionData = () => ({\n  value: '',\n  expressionValue: null,\n  answerValue: '',\n  errorMessage: '',\n  inputLocked: false,\n  answerLocked: false,\n  parsed: null\n});\n\nexport const DEFAULT_FILE_NAME = 'struktura';","import React from 'react';\nimport {Button} from \"react-bootstrap\";\nimport FontAwesome from \"react-fontawesome\";\n\nconst HelpButton = ({onClick}) => (\n    <Button onClick={onClick} style={{padding:\"0.2rem 0.4rem\"}} variant={'secondary'} size={\"sm\"} title='Pomoc' data-toggle='collapse'>\n        <FontAwesome name='fas fa-question'/>\n    </Button>\n);\n\nexport default HelpButton;\n","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button} from \"react-bootstrap\";\n\nconst LockButton = ({lockFn, locked}) => (\n   <Button variant={'outline-secondary'} className={locked?'active':''} onClick={() => lockFn()}>\n     <FontAwesome name={locked ? 'unlock' : 'lock'}/>\n   </Button>\n);\n\nexport default LockButton;","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button} from \"react-bootstrap\";\n\nconst TableButton = ({onClick,enabled}) => (\n   <Button onClick={() => onClick()} variant={\"outline-secondary\"} className={\"btn-with-border \"+(enabled?\"active\":\"\")}>\n     <FontAwesome name='fas fa-table'/>\n   </Button>\n);\nexport default TableButton;","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button} from \"react-bootstrap\";\n\nconst DatabaseButton = ({onClick,enabled}) => (\n    <Button onClick={() => onClick()} variant={\"outline-secondary\"} className={\"btn-with-border \"+(enabled?'active':'')}>\n        <FontAwesome name='fas fa-server'/>\n    </Button>\n);\n\nexport default DatabaseButton;","import React from 'react';\nimport {InputGroup, Form} from 'react-bootstrap';\nimport LockButton from \"../../buttons/LockButton\";\nimport TableButton from \"../../buttons/TableButton\";\nimport DatabaseButton from \"../../buttons/DatabaseButton\";\n\nconst TextInput = ({onChange, onLock, textData, label, teacherMode, id, toggleTable, toggleDatabase, arity, domain,databaseEnabled,tableEnabled,errorProperty}) => (\n    <InputGroup size='sm' >\n        <InputGroup.Prepend>\n            <InputGroup.Text>{label}</InputGroup.Text>\n        </InputGroup.Prepend>\n\n            <Form.Control\n                isInvalid={(errorProperty && errorProperty.length > 0)}\n                id={id}\n                type='text'\n                onChange={(e) => onChange(e)}\n                value={textData.value}\n                disabled={textData.locked}\n            />\n     <InputGroup.Append>\n         <InputGroup.Text>&#125;</InputGroup.Text>\n         {toggleTable ? (\n             (arity === 0 || arity > 2 || domain.size === 0) ? null : (\n                     <TableButton onClick={() => toggleTable()} enabled={tableEnabled}/>\n             )\n         ):null}\n\n         {toggleDatabase?(\n             (arity < 1 || domain.size === 0)? null :(\n                     <DatabaseButton onClick={() => toggleDatabase()} enabled={databaseEnabled}/>\n             )\n         ) : null}\n\n         {teacherMode ? (\n         <LockButton lockFn={() => onLock()} locked={textData.locked}/>\n         ) : null}\n     </InputGroup.Append>\n        <Form.Control.Feedback type={\"invalid\"}>{errorProperty}</Form.Control.Feedback>\n   </InputGroup>\n\n);\n\nexport default TextInput;","import {Col, Form, Row} from \"react-bootstrap\";\nimport TextInput from \"./TextInput\";\nimport React from \"react\";\n\nfunction TextComponent({labelText,onChangeSetFunction,onLockFunction,textData,textInputLabel,idName,errorProperty,teacherMode}){\n    return(\n        <Row>\n            <Col lg={12}>\n                    <Form.Group>\n                        <Form.Label>{labelText}</Form.Label>\n                        <TextInput\n                            errorProperty={errorProperty}\n                            onChange={(e) => onChangeSetFunction(e.target.value)}\n                                   onLock={() => onLockFunction()}\n                                   textData={textData}\n                                   label={textInputLabel}\n                                   teacherMode={teacherMode}\n                                   id={idName}/>\n                    </Form.Group>\n            </Col>\n        </Row>\n    )\n}\n\nexport default TextComponent;","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button} from \"react-bootstrap\";\n\nconst ComponentLockButton = ({lockFn, locked}) => (\n    <Button style={{padding:\"0.2rem 0.4rem\"}} variant={'secondary'} size={\"sm\"} title='ReadOnly' className={(locked?'active':'') + ' mr-2'} onClick={() => lockFn()}>\n        <FontAwesome name={locked ? 'fas fa-edit' : 'far fa-check'}/>\n        <span>&nbsp;{locked ? 'Editovať' : 'Hotovo'}</span>\n    </Button>\n);\n\nexport default ComponentLockButton;","import React, { useState } from 'react';\nimport Card from \"react-bootstrap/Card\";\nimport HelpButton from \"../../buttons/HelpButton\";\nimport TextComponent from \"../components_parts/TextComponent\";\nimport ComponentLockButton from \"../../buttons/ComponentLockButton\";\nimport {Collapse} from \"react-bootstrap\";\n\nconst help = (\n  <div className=\"well\">\n    Tu sa definuje jazyk. <strong>Symboly konštánt</strong> sa definujú oddelene\n    čiarkou. <strong>Symboly predikátov</strong> sa definujú oddelené čiarkami, vo\n    formáte <code>predikat/arita</code>. <strong>Symboly funkcií</strong> sa definujú oddelené čiarkami, vo\n    formáte <code>funkcia/arita</code>.\n  </div>\n);\n\nfunction constantComponent(props) {\n    if(props.language.lockedComponent){\n        return (\n            <p><span>𝓒<sub>𝓛</sub> = &#123;</span> {props.language.constants.parsed.join(', ')} &#125;</p>\n        );\n    } else {\n        return(\n            <TextComponent labelText={\"Indivíduové konštanty\"}\n                           errorProperty={props.language.constants.errorMessage}\n                           onChangeSetFunction={props.setConstants}\n                           onLockFunction={props.lockConstants}\n                           textData={props.language.constants}\n                           textInputLabel={<span>𝓒<sub>𝓛</sub> = &#123;</span>}\n                           teacherMode={props.teacherMode}\n                           idName={'language-editor-constants'}\n            />\n        );\n    }\n}\n\nfunction predicateComponent(props) {\n    if(props.language.lockedComponent){\n        return (\n            <p><span>𝓟<sub>𝓛</sub> = &#123;</span> {props.language.predicates.parsed.map(tuple => tuple.name + '/' + tuple.arity).join(', ')} &#125;</p>\n        );\n    } else {\n        return(\n            <TextComponent labelText={\"Predikátové symboly\"}\n                           errorProperty={props.language.predicates.errorMessage}\n                           onChangeSetFunction={props.setPredicates}\n                           onLockFunction={props.lockPredicates}\n                           textData={props.language.predicates}\n                           textInputLabel={<span>𝓟<sub>𝓛</sub> = &#123;</span>}\n                           teacherMode={props.teacherMode}\n                           idName={'language-editor-predicates'}\n            />\n        );\n    }\n}\n\nfunction functionComponent(props) {\n    if(props.language.lockedComponent){\n        return (\n            <p><span>𝓕<sub>𝓛</sub> = &#123;</span> {props.language.functions.parsed.map(tuple => tuple.name + '/' + tuple.arity).join(', ')} &#125;</p>\n        );\n    } else {\n        return(\n            <TextComponent labelText={\"Funkčné symboly\"}\n                           errorProperty={props.language.functions.errorMessage}\n                           onChangeSetFunction={props.setFunctions}\n                           onLockFunction={props.lockFunctions}\n                           textData={props.language.functions}\n                           textInputLabel={<span>𝓕<sub>𝓛</sub> = &#123;</span>}\n                           teacherMode={props.teacherMode}\n                           idName={'language-editor-functions'}\n            />\n        );\n    }\n}\n\nconst Language = (props) => {\n  const [showHelp, setShowHelp] = useState(false);\n\n  return (\n    <Card className={\"no-border-radius\"}>\n      <Card.Header as=\"h5\" className={\"d-flex justify-content-between\"}>\n          <span>Jazyk 𝓛</span>\n          <div className={\"d-flex justify-content-left\"}>\n            <ComponentLockButton lockFn={() => props.lockLanguageComponent()} locked={props.language.lockedComponent}/>\n            <HelpButton onClick={() => setShowHelp(p => !p)} />\n          </div>\n      </Card.Header>\n      <Card.Body>\n        <Collapse in={showHelp}>\n          {help}\n        </Collapse>\n        {constantComponent(props)}\n        {predicateComponent(props)}\n        {functionComponent(props)}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default Language;","import {connect} from 'react-redux';\nimport {lockLanguageComponent, setConstants, setFunctions, setPredicates} from \"../actions\";\nimport Language from '../../math_view/components/Language';\nimport {lockConstants, lockFunctions, lockPredicates} from \"../actions\";\n\nconst mapStateToProps = (state) => ({\n  language: state.language,\n  teacherMode: state.common.teacherMode\n});\n\nconst mapDispatchToProps = {\n  setConstants: setConstants,\n  setPredicates: setPredicates,\n  setFunctions: setFunctions,\n  lockConstants: lockConstants,\n  lockPredicates: lockPredicates,\n  lockFunctions: lockFunctions,\n  lockLanguageComponent: lockLanguageComponent\n};\n\nconst LanguageContainer = connect(\n   mapStateToProps,\n   mapDispatchToProps\n)(Language);\n\nexport default LanguageContainer;","import React, { useState } from 'react';\nimport {Col, Form, Row} from \"react-bootstrap\";\nimport Card from \"react-bootstrap/Card\";\nimport TextInput from \"../components_parts/TextInput\";\nimport HelpButton from \"../../buttons/HelpButton\";\nimport {Collapse} from \"react-bootstrap\";\n\nconst help = (\n  <div className=\"well\">\n    Tu sa definujú hodnoty premenných. Za premennú sa považuje každý symbol, ktorý nie je v jazyku. Syntax\n    zapisovania má formát <code>(premenná, hodnota)</code>.\n  </div>\n);\n\nconst VariablesValue = (props) => {\n  const [showHelp, setShowHelp] = useState(false);\n  return (\n    <Card className={\"mt-3\"}>\n      <Card.Header as=\"h5\" className={\"d-flex justify-content-between\"}>\n        <span>Ohodnotenie premenných</span>\n        <HelpButton onClick={() => setShowHelp(p => !p)}/>\n      </Card.Header>\n      <Card.Body>\n        <Collapse in={showHelp}>\n          {help}\n        </Collapse>\n          <Row>\n              <Col lg={12}>\n                  <Form.Group>\n                      <Form.Label>Ohodnotenie premenných</Form.Label>\n                      <TextInput\n                          errorProperty={props.variables.errorMessage}\n                          onChange={(e) => props.onInputChange(e.target.value)}\n                          onLock={() => props.lockInput()}\n                          textData={props.variables}\n                          label={<span><var>e</var> = &#123;</span>}\n                          teacherMode={props.teacherMode}\n                          id='editor-variables'/>\n                  </Form.Group>\n              </Col>\n          </Row>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default VariablesValue;","import {lockVariablesComponent, setVariablesValue} from \"../actions\";\nimport {connect} from 'react-redux';\nimport VariablesValue from \"../../math_view/components/VariablesValue\";\nimport {lockVariables} from \"../actions\";\n\nconst mapStateToProps = (state) => ({\n  teacherMode: state.common.teacherMode,\n  variables: state.structure.variables\n});\n\nconst mapDispatchOnProps = {\n  onInputChange: setVariablesValue,\n  lockInput: lockVariables\n};\n\nconst VariablesValueContainer = connect(\n   mapStateToProps,\n   mapDispatchOnProps\n)(VariablesValue);\n\nexport default VariablesValueContainer;","import {Col} from \"react-bootstrap\";\nimport React from \"react\";\nimport TextComponent from \"./TextComponent\";\n\nfunction Domain({structure,setDomain,lockDomain,teacherMode}) {\n    return (\n        <Col>\n        <TextComponent onChangeSetFunction={setDomain}\n                       errorProperty={structure.domain.errorMessage} textInputLabel={<span><var>D</var> = &#123;</span>} onLockFunction={lockDomain} textData={structure.domain} teacherMode={teacherMode} idName={'language-editor-domain'} labelText={\"Doména\"}>\n        </TextComponent>\n        </Col>\n    )\n}\n\nexport default Domain;","import {Col, Form, InputGroup} from \"react-bootstrap\";\nimport LockButton from \"../../buttons/LockButton\";\nimport React from \"react\";\n\nexport function ConstantInterpretation({structure,setConstantValue,structureObject,teacherMode,lockConstantValue}){\n    return(\n    <Col lg={12}>\n        <Form>\n            <Form.Label>Interpretácia indivíduových konštánt</Form.Label>\n            {Object.keys(structure.constants).map((constant) =>\n                <Form.Group key={constant} >\n                    <InputGroup size='sm'>\n                        <InputGroup.Prepend>\n                            <InputGroup.Text id={'constant-' + constant}><var>i</var>({constant}) = </InputGroup.Text>\n                        </InputGroup.Prepend>\n\n                        <Form.Control as=\"select\" value={structure.constants[constant].value}\n                                      id={'constant-' + constant}\n                                      onChange={(e) => setConstantValue(e.target.value, constant)}\n                                      disabled={structure.constants[constant].locked}\n                                      isInvalid={structure.constants[constant].errorMessage.length > 0}\n                                      className=\"custom-select\">\n                            <option key={''} value={''}>Vyber hodnotu ...</option>\n                            {[...structureObject.domain].map((item) =>\n                                <option key={item} value={item}>{item}</option>\n                            )}\n                        </Form.Control>\n                        {teacherMode ? (\n                            <InputGroup.Append>\n                                <LockButton lockFn={() => lockConstantValue(constant)}\n                                            locked={structure.constants[constant].locked}/>\n                            </InputGroup.Append>\n                        ) : null}\n                        <Form.Control.Feedback type={\"invalid\"}>{structure.constants[constant].errorMessage}</Form.Control.Feedback>\n                    </InputGroup>\n                </Form.Group>\n            )}\n        </Form>\n    </Col>\n    )\n}\n","import React from 'react';\nimport {Table} from 'react-bootstrap';\nimport {PREDICATE} from \"../../constants\";\n\nfunction renderFunctionValueSelect(functionName, functionValues, params, domain, onChange, disabled) {\n    let value = functionValues[JSON.stringify(params)];\n    if (!value) {\n        value = '';\n    }\n    return (\n        <select onChange={(e) => onChange(params.concat([e.target.value]), functionName)} value={value}>\n            <option value=''>{''}</option>\n            {domain.map(item =>\n                <option key={item} disabled={disabled} value={item}>{item}</option>\n            )}\n        </select>\n    )\n}\n\nexport function RelationalTable(props) {\n    let domain = [...props.domain];\n\n    let inputComponent = (item) => (\n        <td key={item} className=\"checkComponent\">\n            {props.type === PREDICATE ? (\n                <input type='checkbox'\n                       onChange={(e) => props.onInputChange(item, props.name, e.target.checked)}\n                       checked={props.value.findIndex((e) => JSON.stringify(e) === JSON.stringify(item)) > -1}\n                       disabled={props.disabled}/>\n            ) : (\n                renderFunctionValueSelect(props.name, props.value, item, domain, props.onInputChange, props.disabled)\n            )}\n        </td>\n    );\n\n    let arity1 = (\n        <tr>\n            <td>{''}</td>\n            {domain.map((item) =>\n                inputComponent([item])\n            )}\n        </tr>\n    );\n\n    let arity2 = domain.map((item1) =>\n        <tr key={item1}>\n            <th className=\"interpretationHead\">{item1}</th>\n            {domain.map((item2) =>\n                inputComponent([item1, item2])\n            )}\n        </tr>\n    );\n\n    return (\n        <Table bordered responsive>\n            <thead>\n            <tr>\n                <th className=\"interpretationHead\">{props.name}</th>\n                {domain.map(item =>\n                    <th key={item} className=\"interpretationHead\">{item}</th>\n                )}\n            </tr>\n            </thead>\n            <tbody>\n            {parseInt(props.arity) === 1 ? arity1 : arity2}\n            </tbody>\n        </Table>\n    )\n}","import React from 'react';\n\nexport class SelectComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState({value: e.target.value});\n        addIntoFunctionTable(this.props.index,e.target.value,this.props.props);\n    }\n\n    render() {\n        return(\n            <td>\n                {<select onChange={(e) => this.handleChange(e)}  value={this.props.props.selectionElement[this.props.index]}>\n                    <option value=''>{''}</option>\n                    {this.props.domain.map(item =>\n                        <option key={item} disabled={this.props.props.disabled} value={item}>{item}</option>\n                    )}\n                </select>}\n            </td>\n        )\n    }\n}\n\nfunction addIntoFunctionTable(index,value,props){\n    props.selectionElement[index]=value;\n\n    for(let i = 0;i<props.selectionElement.length;i++){\n        if(!props.selectionElement[i].length>0){\n            return;\n        }\n    }\n    let array = props.selectionElement.slice();\n    props.onInputChange(array,props.name,true);\n    props.selectionElement.fill(\"\");\n}\n\n","import React from 'react';\nimport {Table} from 'react-bootstrap';\nimport {SelectComponent} from \"./SelectComponent\";\n\nfunction renderPredicateValueSelect(predicateName, predicateValues, params, domain, onInputChange, disabled,value,index) {\n    return (\n        <select onChange={(e) => changeValue(onInputChange,e.target.value,params,index,predicateName)} value={value}>\n            <option value=''>{''}</option>\n            {domain.map(item =>\n                <option key={item} disabled={disabled} value={item}>{item}</option>\n            )}\n        </select>\n    )\n}\nfunction changeValue(onInputChange,value,params,index,predicateName){\n    if(value===params[index]){\n        return;\n    }\n    onInputChange(params,predicateName,false);\n    if(value!==''){\n        params[index]=value;\n        onInputChange(params,predicateName,true);\n    }\n}\n\nexport function DatabasePredicate(props) {\n    let domain = [...props.domain];\n\n    if(props.selectionElement===undefined){\n        props = Object.assign({selectionElement: Array(parseInt(props.arity))}, props);\n        props.selectionElement.fill(\"\");\n    }\n        let element = (predicateArrayElements) => (\n        <tbody>\n        {predicateArrayElements.map((onePredicateArray,count) =>\n        <tr key={'database-predicate-row'+count}>\n            {onePredicateArray.map((domainElement,index) =>\n                <td key={'database-predicate-column'+index}>\n                    {renderPredicateValueSelect(props.name, props.value, [...onePredicateArray], domain, props.onInputChange, props.disabled,domainElement,index)}\n\n                </td>\n            )}\n        </tr>\n        )}\n        {newSelectionElement()}\n        </tbody>\n    );\n\n    //ak je props.arity string tak to nevytvori pole danej velkost, teda to treba najprv parsnut\n    let newSelectionElement = () => (\n        <tr>\n            {props.selectionElement.map((value,index)=>\n                <SelectComponent key={'select-component'+index} domain={domain} index={index} props={props}/>\n            )}\n        </tr>\n    );\n\n\n    let headElements = () =>(\n        <thead>\n        <tr>\n            {[...Array(parseInt(props.arity))].map((x, count) =>\n                <th key={\"m\" + (count + 1)} className=\"interpretationHead\"><var>{\"m\"}</var><sub>{count + 1}</sub></th>\n\n            )}\n        </tr>\n        </thead>\n        );\n\n    if(Array.isArray(props.value)) {\n        return (\n            <Table bordered responsive>\n                {headElements()}\n                {element(props.value)}\n            </Table>\n        );\n   }\n    else{\n        return (\n            <Table bordered responsive>\n                {headElements()}\n                <tbody>\n                {newSelectionElement()}\n                </tbody>\n            </Table>\n        )\n    }\n}","import {Col, Form} from \"react-bootstrap\";\nimport {PREDICATE} from \"../../constants\";\nimport React from \"react\";\nimport {RelationalTable,DatabasePredicate} from './index'\nimport TextInput from \"./TextInput\";\n\nfunction PredicateInterpretation({structure,predicates,setPredicateValueText,lockPredicateValue,toggleTable,toggleDatabase,domain,setPredicateValueTable,structureObject,teacherMode,lengthOfCol}){\n    return(\n        <Col lg={lengthOfCol}>\n            <Form.Label>Interpretácia predikátových symbolov</Form.Label>\n                {predicates.map((name) =>\n                    <Form.Group key={name}>\n                        <TextInput\n                                   errorProperty={structure.predicates[name].errorMessage}\n                                   onChange={(e) => setPredicateValueText(e.target.value, name)}\n                                   onLock={() => lockPredicateValue(name)}\n                                   textData={structure.predicates[name]}\n                                   label={<span><var>i</var>({name.split('/')[0]}) = &#123;</span>}\n                                   teacherMode={teacherMode}\n                                   id={'predicate-' + name}\n                                   toggleTable={() => toggleTable(PREDICATE, name)}\n                                   toggleDatabase={() => toggleDatabase(PREDICATE, name)}\n                                   databaseEnabled={structure.predicates[name].databaseEnabled}\n                                   tableEnabled={structure.predicates[name].tableEnabled}\n                                   arity={parseInt(name.split('/')[1])}\n                                   domain={domain}/>\n                        {structure.predicates[name].tableEnabled && domain.size > 0 ? (\n                            <RelationalTable name={name} domain={structureObject.domain}\n                                             arity={structureObject.language.predicates.get(name.split('/')[0])}\n                                             value={structureObject.iPredicate.get(name) ? structureObject.iPredicate.get(name) : []}\n                                             onInputChange={setPredicateValueTable}\n                                             type={PREDICATE}\n                                             disabled={structure.predicates[name].locked}/>\n                        ) : null}\n                        {structure.predicates[name].databaseEnabled && domain.size > 0? (\n                            <DatabasePredicate name={name} domain={structureObject.domain}\n                                              arity={structureObject.language.predicates.get(name.split('/')[0])}\n                                              value={structureObject.iPredicate.has(name) ? structureObject.iPredicate.get(name) : {}}\n                                              onInputChange={setPredicateValueTable}\n                                              disabled={structure.predicates[name].locked}\n                                              type={PREDICATE}/>\n                        ) : null}\n                    </Form.Group>\n                )}\n        </Col>\n    )\n}\nexport default PredicateInterpretation;","import React from 'react';\nimport {Table} from 'react-bootstrap';\n\nfunction renderFunctionValueSelect(functionName, functionValues, params, domain, onChange, disabled) {\n    let value = functionValues[JSON.stringify(params)];\n    if (!value) {\n        value = '';\n    }\n    return (\n        <select onChange={(e) => onChange(params.concat([e.target.value]), functionName)} value={value}>\n            <option value=''>{''}</option>\n            {domain.map(item =>\n                <option key={item} disabled={disabled} value={item}>{item}</option>\n            )}\n        </select>\n    )\n}\n\n\nfunction permutateWithRepetitions(permutationOptions,permutationLength) {\n    if (permutationLength === 1) {\n        return permutationOptions.map(permutationOption => [permutationOption]);\n    }\n\n    // Init permutations array.\n    const permutations = [];\n\n    // Get smaller permutations.\n    const smallerPermutations = permutateWithRepetitions(\n        permutationOptions,\n        permutationLength - 1,\n    );\n\n    // Go through all options and join it to the smaller permutations.\n    permutationOptions.forEach((currentOption) => {\n        smallerPermutations.forEach((smallerPermutation) => {\n            permutations.push([currentOption].concat(smallerPermutation));\n        });\n    });\n    return permutations;\n}\n\n\nfunction DatabaseFunction(props) {\n    let domain = [...props.domain];\n    let domainValueArray = Object.values(domain);\n\n    let mainElement = (\n        <tbody>\n        {permutateWithRepetitions(domainValueArray,props.arity).map((arrayValues,count) =>\n            <tr key={\"database-function-row\"+count}>\n                {arrayValues.map((value,index) =>\n                    <td key={\"database-function-row-\"+count+\"-item-\"+index}>\n                        {value}\n                    </td>\n                )}\n                <td>\n                    {renderFunctionValueSelect(props.name, props.value, [...arrayValues], domain, props.onInputChange, props.disabled)}\n                </td>\n            </tr>\n                    )}\n        </tbody>\n        );\n\n    let headElements = (\n        <th>\n            {props.symbol+\"(\"}\n        {[...Array(props.arity-1)].map((x, count) =>\n            <span key={\"database-function-header-parameter-\"+count}><var>{\"m\"}</var><sub>{count+1}</sub>{\", \"}</span>\n         )}\n            <span key={\"database-function-header-parameter-last\"}><var>{\"m\"}</var><sub>{props.arity}</sub></span>\n            {\")\"}\n        </th>\n    );\n\n    return (\n        <Table bordered responsive>\n            <thead>\n            <tr>\n                {[...Array(props.arity)].map((x, count) =>\n                    <th key={\"database-function-header\"+count}><var>{\"m\"}</var><sub>{count+1}</sub></th>\n                )}\n                {headElements}\n            </tr>\n            </thead>\n            {mainElement}\n        </Table>\n    );\n}\nexport default DatabaseFunction;","import {Col, Form} from \"react-bootstrap\";\nimport TextInput from \"./TextInput\";\nimport {FUNCTION} from \"../../constants\";\nimport React from \"react\";\nimport DatabaseFunction from \"./DatabaseFunction\";\nimport {RelationalTable} from './index'\n\nfunction FunctionInterpretation({functions,structure,setFunctionValueText,lockFunctionValue,toggleTable,toggleDatabase,teacherMode,domain,structureObject,setFunctionValueTable,lengthOfCol}) {\n    return (\n        <Col lg={lengthOfCol}>\n            <Form.Label>Interpretácia funkčných symbolov</Form.Label>\n                {functions.map((name) =>\n                    <Form.Group key={name}>\n                        <TextInput\n                            errorProperty={structure.functions[name].errorMessage}\n                            onChange={(e) => setFunctionValueText(e.target.value, name)}\n                            onLock={() => lockFunctionValue(name)}\n                            textData={structure.functions[name]}\n                            label={<span><var>i</var>({name.split('/')[0]}) = &#123;</span>}\n                            teacherMode={teacherMode}\n                            id={'function-' + name}\n                            toggleTable={() => toggleTable(FUNCTION, name)}\n                            toggleDatabase={() => toggleDatabase(FUNCTION, name)}\n                            databaseEnabled={structure.functions[name].databaseEnabled}\n                            tableEnabled={structure.functions[name].tableEnabled}\n                            arity={parseInt(name.split('/')[1])}\n                            domain={domain}/>\n                        {structure.functions[name].tableEnabled && domain.size > 0 ? (\n                            <RelationalTable name={name} domain={structureObject.domain}\n                                             arity={structureObject.language.functions.get(name.split('/')[0])}\n                                             value={structureObject.iFunction.has(name) ? structureObject.iFunction.get(name) : {}}\n                                             onInputChange={setFunctionValueTable}\n                                             disabled={structure.functions[name].locked}\n                                             type={FUNCTION}/>\n                        ) : null}\n                        {structure.functions[name].databaseEnabled && domain.size > 0 ? (\n                            <DatabaseFunction name={name} domain={structureObject.domain}\n                                              arity={structureObject.language.functions.get(name.split('/')[0])}\n                                              symbol={name.split('/')[0]}\n                                              value={structureObject.iFunction.has(name) ? structureObject.iFunction.get(name) : {}}\n                                              onInputChange={setFunctionValueTable}\n                                              disabled={structure.functions[name].locked}\n                                              type={FUNCTION}/>\n                        ) : null}\n                    </Form.Group>\n                )}\n        </Col>\n    )\n}\nexport default FunctionInterpretation;","import React, { useState } from 'react';\nimport {\n  Row\n} from \"react-bootstrap\";\nimport Card from \"react-bootstrap/Card\";\n\nimport Domain from \"../components_parts/Domain\";\nimport {ConstantInterpretation} from \"../components_parts\";\nimport PredicateInterpretation from \"../components_parts/PredicateInterpretation\";\nimport FunctionInterpretation from \"../components_parts/FunctionInterpretation\";\nimport HelpButton from \"../../buttons/HelpButton\";\nimport {Collapse} from \"react-bootstrap\";\n\nconst help = (\n  <div style={{textAlign:\"justify\"}}>\n    Pomocou editoru štruktúry sa definuje štruktúra. Prvky <strong>domény</strong> sa oddeľujú čiarkami.\n    Pridaním nového symbolu do jazyka sa automaticky pridá vstup na zadanie interpretácie.\n    Interpretácia <strong>konštanty</strong> sa vyberá zo selectu, ktorý automaticky obsahuje prvky z\n    domény. Interpretácia <strong>predikátového symbolu</strong> s&nbsp;aritou&nbsp;<var>n</var> sa zapisuje vo\n    formáte <code>(prvok<sub>1</sub>, …, prvok<sub><var>n</var></sub>)</code>.\n    Interpretácia <strong>funkčného symbolu</strong> s&nbsp;aritou&nbsp;<var>n</var> sa zapisuje vo\n    formáte <code>(prvok<sub>1</sub>, …, prvok<sub><var>n</var></sub>, hodnota)</code>.\n  </div>\n);\n\nfunction Structure({structure,setDomain,lockDomain,teacherMode,setConstantValue,structureObject,lockConstantValue,setPredicateValueText,lockPredicateValue,toggleTable,toggleDatabase,domain,setPredicateValueTable,setFunctionValueText,lockFunctionValue,setFunctionValueTable}) {\n  let constants = Object.keys(structure.constants);\n  let predicates = Object.keys(structure.predicates);\n  let functions = Object.keys(structure.functions);\n\n  const [showHelp, setShowHelp] = useState(false);\n\n  return (\n     <Card className={\"mt-3\"}>\n       <Card.Header as={\"h5\"} className={\"d-flex justify-content-between\"}>\n           <span>Štruktúra 𝓜 = (<var>D</var>, <var>i</var>)</span>\n           <HelpButton onClick={() => setShowHelp(p => !p)}/>\n       </Card.Header>\n\n       <Card.Body>\n         <Collapse in={showHelp}>\n          {help}\n         </Collapse>\n           <Row>\n               <Domain structure={structure} setDomain={setDomain} lockDomain={lockDomain} teacherMode={teacherMode} lengthOfCol={12}/>\n           </Row>\n         {constants.length === 0 ? null : (\n            <Row>\n                <ConstantInterpretation structure={structure} teacherMode={teacherMode} constants={constants} lockConstantValue={lockConstantValue} setConstantValue={setConstantValue} structureObject={structureObject} lengthOfCol={12}/>\n            </Row>\n         )}\n         {predicates.length === 0 ? null : (\n            <Row>\n                <PredicateInterpretation structureObject={structureObject} structure={structure} toggleDatabase={toggleDatabase} teacherMode={teacherMode} domain={domain} lockPredicateValue={lockPredicateValue} predicates={predicates} setPredicateValueTable={setPredicateValueTable} setPredicateValueText={setPredicateValueText} toggleTable={toggleTable} lengthOfCol={12}/>\n            </Row>\n         )}\n         {functions.length === 0 ? null : (\n            <Row>\n                <FunctionInterpretation toggleTable={toggleTable} toggleDatabase={toggleDatabase} domain={domain} teacherMode={teacherMode} structure={structure} structureObject={structureObject} functions={functions} lockFunctionValue={lockFunctionValue} setFunctionValueTable={setFunctionValueTable} setFunctionValueText={setFunctionValueText} lengthOfCol={12}/>\n            </Row>\n         )}\n       </Card.Body>\n     </Card>\n  )\n}\n\nexport default Structure;","import {EMPTY_CONSTANT_VALUE} from \"../constants/messages\";\n\n/**\n * Represent components_parts\n * @author Milan Cifra\n * @class\n */\nclass Structure {\n\n  /**\n   *\n   * @param {Language} language\n   */\n\n  constructor(language, parsedDomain, constants,\n              predicates, functions) {\n    this.language = language;\n    this.domain = new Set();\n    this.iConstant = new Map();\n    this.iPredicate = new Map();\n    this.iFunction = new Map();\n    parsedDomain.forEach(i => {\n      this.domain.add(i);\n    });\n    this.language.constants.forEach(c => {\n      this.iConstant.set(c, constants[c].value);\n    });\n\n    this.language.functions.forEach((arity, name) => {\n      let functionName = name + \"/\" + arity;\n      this.iFunction.set(functionName, {});\n      if(functions[functionName] === undefined){\n        return;\n      }\n      functions[functionName].parsed.forEach(tuple => {\n        let params = tuple.slice(0, tuple.length - 1);\n        let value = tuple[tuple.length - 1];\n        this.iFunction.get(functionName)[JSON.stringify(params)] = value;\n      });\n    });\n\n    this.language.predicates.forEach((arity, name) => {\n      let predicateName = name + \"/\" + arity;\n      this.iPredicate.set(predicateName, []);\n      if(predicates[predicateName] === undefined){\n        return;\n      }\n      predicates[predicateName].parsed.forEach(tuple => {\n        this.iPredicate.get(predicateName).push(tuple);\n      });\n    });\n  }\n}\n\nexport default Structure;","import {CONSTANT_IN_LANGUAGE, FUNCTION_IN_LANGUAGE, PREDICATE_IN_LANGUAGE} from \"../constants/messages\";\n\n/**\n * Represent language of logic\n * @author Milan Cifra\n * @class\n */\nclass Language {\n    constructor(parsedConstants = [],\n                parsedFunctions = [],\n                parsedPredicates = []) {\n        this.constants = new Set(parsedConstants);\n        this.functions = new Map(parsedFunctions.map(({name, arity}) => [name, parseInt(arity)]));\n        this.predicates = new Map(parsedPredicates.map(({name, arity}) => [name, parseInt(arity)]));\n    }\n\n    /**\n     *\n     * These functions are temporarly here until the grammar changes\n     *\n     *\n     */\n\n    getLanguage(){\n        let nonLogicalSymbols = new Set([...this.constants, ...this.functions.keys(), ...this.predicates.keys()]);\n        return({\n            isConstant: (symbol) =>\n                this.constants.has(symbol),\n            isFunction: (symbol) =>\n                this.functions.has(symbol),\n            isPredicate: (symbol) =>\n                this.predicates.has(symbol),\n            isVariable: (symbol) =>\n                !nonLogicalSymbols.has(symbol),\n        })\n    }\n\n    checkFunctionArity(symbol, args, ee){\n        const a = this.functions.get(symbol);\n        if (args.length !== a) {\n            ee.expected(`${a} argument${(a == 1 ? '' : 's')} to ${symbol}`);\n        }\n    }\n\n    checkPredicateArity(symbol, args, ee){\n        const a = this.predicates.get(symbol);\n        if (args.length !== a) {\n            ee.expected(`${a} argument${(a == 1 ? '' : 's')} to ${symbol}`);\n        }\n    }\n\n    hasConstant(constantName) {\n        return this.constants.has(constantName);\n    }\n\n    hasPredicate(predicateName) {\n        return this.hasInSet(predicateName,this.predicates);\n    }\n\n    hasFunction(functionName) {\n        return this.hasInSet(functionName,this.functions);\n    }\n\n    hasInSet(elementName,givenSet){\n        let splited = elementName.split('/');\n        if (splited.length !== 2) {\n            return givenSet.has(splited[0]);\n        }\n        if (isNaN(parseInt(splited[1]))) {\n            return false;\n        }\n        return givenSet.has(splited[0]) && givenSet.get(splited[0]).toString() === splited[1].toString();\n    }\n\n    /**\n     * Return arity of the predicate\n     * @param {string} predicateName\n     * @return {int} arity of the predicate\n     */\n    getPredicate(predicateName) {\n        return parseInt(this.predicates.get(predicateName));\n    }\n\n}\n\nexport default Language;","import { createSelector } from 'reselect'\nimport Language from \"../../model/Language\";\n\nconst getConstants = state => state.language.constants.parsed\nconst getFunctions = state => state.language.functions.parsed\nconst getPredicates = state => state.language.predicates.parsed\n\nexport const getLanguageObject = createSelector(\n    [getConstants, getFunctions, getPredicates],\n    (constants, functions, predicates) => {\n        return new Language(constants, functions, predicates);\n    }\n)\n\n","import { createSelector } from 'reselect'\nimport Structure from \"../../model/Structure\";\nimport {getLanguageObject} from \"./languageObject\";\n\nconst getConstants = state => state.structure.constants\nconst getFunctions = state => state.structure.functions\nconst getPredicates = state => state.structure.predicates\nconst getParsedDomain = state => state.structure.domain.parsed\n\nexport const getStructureObject = createSelector(\n    [getLanguageObject, getConstants, getFunctions, getPredicates, getParsedDomain],\n    (language, constants, functions, predicates, parsedDomain) => {\n       return new Structure(language, parsedDomain, constants, predicates, functions);\n    }\n)\n\n","import {connect} from 'react-redux';\nimport {\n  setConstantValue,\n  setDomain,\n  setFunctionValueTable,\n  setFunctionValueText,\n  setPredicateValueTable,\n  setPredicateValueText, toggleDatabase,\n  toggleTable\n} from \"../actions\";\nimport Structure from '../../math_view/components/Structure';\nimport {lockConstantValue, lockDomain, lockFunctionValue, lockPredicateValue} from \"../actions\";\nimport {getStructureObject} from \"../selectors/structureObject\";\n\nconst mapStateToProps = (state) => ({\n  language: state.language,\n  structure: state.structure,\n  structureObject: getStructureObject(state),\n  teacherMode: state.common.teacherMode,\n  domain: getStructureObject(state).domain,\n  diagramModel:state.diagramModel\n});\n\nconst mapDispatchToProps = {\n  setDomain: setDomain,\n  setConstantValue: setConstantValue,\n  setPredicateValueText: setPredicateValueText,\n  setPredicateValueTable: setPredicateValueTable,\n  setFunctionValueText: setFunctionValueText,\n  setFunctionValueTable: setFunctionValueTable,\n  toggleTable: toggleTable,\n  toggleDatabase:toggleDatabase,\n  lockDomain: lockDomain,\n  lockConstantValue: lockConstantValue,\n  lockPredicateValue: lockPredicateValue,\n  lockFunctionValue: lockFunctionValue\n};\n\nconst StructureContainer = connect(\n   mapStateToProps,\n   mapDispatchToProps\n)(Structure);\n\nexport default StructureContainer;","import React from 'react';\nimport {Button} from \"react-bootstrap\";\nimport FontAwesome from \"react-fontawesome\";\n\nconst AddButton = ({onClickAddFunction,addType}) => (\n    <Button variant={\"success\"} title={\"Pridaj\"} onClick={() => onClickAddFunction(addType)}><FontAwesome\n        name='plus'/>\n        &nbsp;Pridať\n    </Button>\n);\n\nexport default AddButton;\n","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button} from \"react-bootstrap\";\n\nconst HenkinHintikkaGameButton = ({onClick,enabled}) => (\n    <Button size=\"sm\" onClick={() => onClick()} variant={\"outline-secondary\"} className={\"btn-with-border \"+(enabled?\"active\":\"\")}>\n        <FontAwesome name='fas fa-gamepad'/>\n    </Button>\n);\nexport default HenkinHintikkaGameButton;","import React from \"react\";\nimport styled from 'styled-components';\n\nexport const GameMessageBubble = styled.div`\n  padding: .5rem;\n  background: #eee;\n  width: max-content;\n  max-width: 500px;\n  display: inline-block;\n  border-radius: 0 15px 15px 15px;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  font-size: 0.875rem;\n  margin-bottom: 0.5rem;\n`;\n\nexport default GameMessageBubble;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  max-height: 100vh;\n  height: 500px;\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n  margin-top: 0;\n  margin-left: 0;\n  margin-right: 0;\n  border: 1px solid;\n`;\n\nexport default Container;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst MessageArea = styled.div`\n  height: 85%;\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column-reverse;\n  margin-bottom: 2%;\n  overflow: auto;\n`;\n\nconst MessageAreaContainer = props => (\n    <MessageArea>\n        <div className={\"d-inline-flex flex-column\"}>\n            {props.children}\n        </div>\n    </MessageArea>)\n\nexport default MessageAreaContainer;","import React from \"react\";\nexport const FIRST_QUESTION = (params) => `Čo predpokladáš o pravdivosti formuly ${params} v štruktúre ℳ pri ohodnotení e?`;\nexport const ENTRY_SENTENCE = (formula, truth) => `Predpokladáš, že formula ${formula} je ${truth}.`;\nexport const EVALUATED_PREDICATE_IN = (formula, formulaName) => `${formula} ∈ i(${formulaName})`;\nexport const EVALUATED_PREDICATE_NOT_IN = (formula, formulaName) => `${formula} ∉ i(${formulaName})`;\nexport const EVALUATED_EQUALITY = (term1, term2) => `(${term1}) = (${term2})`;\nexport const EVALUATED_INEQUALITY = (term1, term2) => `(${term1}) ≠ (${term2})`;\n\nexport const WIN_1 = (formula, commitment, result) =>\n    [\n        <strong key={0}>Vyhral/a si!</strong>,\n        ` 🎉 Formula ${formula} je naozaj ${commitment}, pretože ${result}.`\n    ];\nexport const WIN_2 = (formula, commitment) =>\n    `Tvoj úvodný predpoklad, že formula ${formula} je ${commitment}, bol správny.`\n\nexport const LOSS = (formula, commitment, result) =>\n    [\n        <strong key={0}>Prehral/a si!</strong>,\n        ` 😞 Formula ${formula} je ${commitment}, pretože ${result}.`\n    ];\nexport const COULD_WON = (formula, commitment) =>\n    [\n        <strong key={0}>Mohol/mohla si však vyhrať.</strong>,\n        ` 🤔 Tvoj úvodný predpoklad, že formula ${formula} je ${commitment}, je správny. Nájdi chybnú odpoveď a zmeň ju!`\n    ];\nexport const COULD_NOT_WON = (formula, commitment) =>\n    `Tvoj úvodný predpoklad, že formula ${formula} je ${commitment}, je chybný.`;\n\n\nexport const OPERATOR_QUESTION = () => `Ktorý z nasledujúcich prípadov nastáva?`;\nexport const FIRST_FORMULA_OPTION = (formula, commitment) => `1. Podformula ${formula} je ${commitment}.`;\nexport const SECOND_FORMULA_OPTION = (formula, commitment) => `2. Podformula ${formula} je ${commitment}.`;\n\nexport const OPERATOR_ANSWER = (formula, commitment) => `Potom ${formula} je ${commitment}.`;\n\nexport const QUANTIFIER_QUESTION = (varName, formula, commitment) =>\n    `Ktorý prvok z domény má premenná ${varName} označovať, aby bola formula ${formula} ${commitment}?`;\n\nexport const QUANTIFIER_ANSWER_1 = (commitment, formula) => `Potom je ${commitment} aj formula ${formula},`;\nexport const QUANTIFIER_ANSWER_2 = (varName, vaValue) => `keď premennou ${varName} označíme prvok ${vaValue}.`;","import React from \"react\";\nimport styled from 'styled-components';\nimport {Button} from \"react-bootstrap\";\n\nconst UserMessage = styled.div`\n  padding: .75rem;\n  align-self: flex-end;\n  width: max-content;\n  display: inline-block;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif;\n  font-size: 0.875rem;\n  margin-bottom: 0.5rem;\n  right: 0px;\n  background: #0066ff;\n  color: #fff;\n  float: right;\n  border-radius: 15px 0 15px 15px;\n  margin-right: .25rem;\n`;\n\nexport class UserMessageBubble extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {entered: false};\n    }\n\n    renderReturnButton(){\n        if(this.state.entered){\n            return (\n                <Button onClick={() => this.props.onClick()} size={\"sm\"} className={'text-primary bg-transparent border-0 mb-auto float-right mt-2'}>\n                    <strong>Zmeniť</strong>\n                </Button>\n            );\n        }\n    }\n\n    render(){\n        return(\n            <div onMouseEnter={() => this.setState({entered: true})} onMouseLeave={() => this.setState({entered: false})}>\n                <UserMessage>\n                    {this.props.children}\n                </UserMessage>\n                {this.renderReturnButton()}\n            </div>\n        );\n    }\n}","/**\n * Represent expression in logic\n * @author Milan Cifra\n * @class\n * @abstract\n */\nclass Expression {\n\n  /*constructor() {\n\n  }*/\n\n  toString() {\n\n  }\n\n  eval(_structure, _e) {\n    return null;\n  }\n\n  substitute(_from, _to, _bound) {\n    //nothing\n  }\n\n  getVariables(){\n    return [];\n  }\n}\n\nexport default Expression;","import Expression from \"../Expression\";\n\n/**\n * Represent simple formula\n * @author Milan Cifra\n * @class\n * @abstract\n * @extends Expression\n */\nclass Formula extends Expression {\n\n  /*constructor() {\n    super();\n  }*/\n\n  toString() {\n    return '';\n  }\n\n  createCopy() {\n    return new Formula();\n  }\n\n  getType(commitment) {\n    return '';\n  }\n\n  getSubFormulas() {\n    return [];\n  }\n\n  substitute(_from, _to, _bound) {\n    //nothing\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [];\n  };\n\n  getVariables(){\n    return [];\n  }\n}\n\n\n\nexport default Formula;","import Formula from \"./Formula\";\nimport {ATOM} from \"../../constants/gameConstants\";\n\n/**\n * Represent predicate symbol\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass PredicateAtom extends Formula {\n\n  /**\n   *\n   * @param {string} name\n   * @param {Term[]} terms\n   */\n  constructor(name, terms = []) {\n    super();\n    this.name = name;\n    this.terms = terms;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    let translatedTerms = [];\n    this.terms.forEach(term => {\n      translatedTerms.push(term.eval(structure, e));\n    });\n    let arity = structure.language.predicates.get(this.name);\n    if (structure.iPredicate.get(this.name + '/' + arity) === undefined) {\n      throw `Interpretácia predikátového symbolu ${this.name} nie je definovaná`;\n    }\n    let value = structure.iPredicate.get(this.name + '/' + arity);\n    return value.findIndex(e => JSON.stringify(e) === JSON.stringify(translatedTerms)) > -1;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    let res = this.name + '(';\n    for (let i = 0; i < this.terms.length; i++) {\n      if (i > 0) {\n        res += ', ';\n      }\n      res += this.terms[i].toString();\n    }\n    res += ')';\n    return res;\n  }\n\n  createCopy(){\n    return new PredicateAtom(this.name, this.terms.map( (term) => term.createCopy() ));\n  }\n\n  getType(commitment){\n    return ATOM;\n  }\n\n  getSubFormulas(){\n    return [];\n  }\n\n  substitute(from, to, bound){\n    return new PredicateAtom(this.name, this.terms.map( (term) => term.substitute(from, to, bound) ));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [];\n  }\n\n  getVariables(){\n    return this.terms.flatMap(term => term.getVariables());\n  }\n}\n\nexport default PredicateAtom;","export const PLAYER_QUANTIFIER = 'PLAYER_QUANTIFIER';\nexport const GAME_QUANTIFIER = 'GAME_QUANTIFIER';\nexport const PLAYER_OPERATOR = 'PLAYER_OPERATOR';\nexport const GAME_OPERATOR = 'GAME_OPERATOR';\nexport const NEGATION = 'NEGATION';\nexport const ATOM = 'ATOM';\n\nexport const defaultHintikkaGameData = () => ({\n    gameHistory: new Array(),\n    showVariables: false,\n    gameEnabled: false,\n    variableIndex: 1\n});\n\nexport const gameEntry = (gameCommitment, gameVariables, currentFormula, nextMove, gameMessages, userMessages) => ({\n    gameCommitment: gameCommitment,\n    currentFormula: currentFormula,\n    nextMove: nextMove,\n    gameVariables: gameVariables,\n    gameMessages: gameMessages,\n    userMessages: userMessages\n})","import Formula from \"./Formula\";\nimport {GAME_OPERATOR, PLAYER_OPERATOR} from \"../../constants/gameConstants\";\n\n/**\n * Represent implication\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass Implication extends Formula {\n\n  /**\n   *\n   * @param {Formula} subLeft\n   * @param {Formula} subRight\n   */\n  constructor(subLeft, subRight) {\n    super();\n    this.subLeft = subLeft;\n    this.subRight = subRight;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    const left = this.subLeft.eval(structure, e);\n    const right = this.subRight.eval(structure, e);\n    return !left || right ;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `(${this.subLeft.toString()} → ${this.subRight.toString()})`;\n  }\n\n  createCopy(){\n    let subLeft = this.subLeft.createCopy();\n    let subRight = this.subRight.createCopy();\n    return new Implication(subLeft, subRight);\n  }\n\n  getType(commitment){\n    return commitment ? PLAYER_OPERATOR : GAME_OPERATOR;\n  }\n\n  getSubFormulas(){\n    return [this.subLeft, this.subRight];\n  }\n\n  substitute(from, to, bound){\n    return new Implication(this.subLeft.substitute(from, to, bound), this.subRight.substitute(from, to, bound));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [!commitment, commitment];\n  }\n\n  getVariables(){\n    return this.subLeft.getVariables().concat(this.subRight.getVariables());\n  }\n}\n\nexport default Implication;","import React, { Fragment } from \"react\";\nimport GameMessageBubble from \"./GameMessageBubble\";\nimport Container from \"./Container\";\nimport MessageAreaContainer from \"./MessageAreaContainer\";\nimport {Form, Button, DropdownButton, ButtonGroup, Dropdown} from \"react-bootstrap\";\nimport {\n    ATOM,\n    GAME_OPERATOR,\n    GAME_QUANTIFIER,\n    PLAYER_OPERATOR,\n    PLAYER_QUANTIFIER\n} from \"../constants/gameConstants\";\nimport {\n    COULD_NOT_WON,\n    COULD_WON,\n    ENTRY_SENTENCE,\n    EVALUATED_EQUALITY,\n    EVALUATED_INEQUALITY,\n    EVALUATED_PREDICATE_IN,\n    EVALUATED_PREDICATE_NOT_IN,\n    FIRST_FORMULA_OPTION,\n    FIRST_QUESTION, LOSS,\n    OPERATOR_ANSWER, OPERATOR_QUESTION,\n    QUANTIFIER_ANSWER_1,\n    QUANTIFIER_ANSWER_2,\n    QUANTIFIER_QUESTION,\n    SECOND_FORMULA_OPTION, WIN_1, WIN_2\n} from \"../constants/gameMessages\";\nimport {UserMessageBubble} from \"./UserMessageBubble\";\nimport PredicateAtom from \"../model/formula/Formula.PredicateAtom\";\nimport Implication from \"../model/formula/Formula.Implication\";\n\nexport class HenkinHintikkaGame extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render(){\n        const { formula, index: formulaIndex, goBack } = this.props;\n        const { gameHistory, variableIndex } = formula;\n        const lastItemIndex = gameHistory.length - 1;\n        const lastHistoryItem = gameHistory[lastItemIndex];\n        const gameMessageBubble = (itemIndex) => (message, messageIndex) =>\n            <GameMessageBubble key={`${itemIndex}gmb${messageIndex}`}>\n                {message}\n            </GameMessageBubble>;\n        const userMessageBubble = (itemIndex) => (message, messageIndex) =>\n            <UserMessageBubble key={`${itemIndex}umb${messageIndex}`}\n                onClick={() => goBack(formulaIndex, itemIndex)}>\n                {message}\n            </UserMessageBubble>;\n        const historicMessages = (historyItem, itemIndex) =>\n            [\n                historyItem.gameMessages.map(gameMessageBubble(itemIndex)),\n                historyItem.userMessages.map(userMessageBubble(itemIndex))\n            ]\n        return(\n            <Container>\n                <MessageAreaContainer>\n                    {gameHistory.flatMap(historicMessages)}\n                    {this.generateMessage(lastHistoryItem, variableIndex)\n                        .map(gameMessageBubble(lastItemIndex))}\n                </MessageAreaContainer>\n                <Form.Group>\n                    {this.getChoice(lastHistoryItem, variableIndex)}\n                </Form.Group>\n                {this.toggleVariables(lastHistoryItem)}\n            </Container>\n        );\n    }\n\n    toggleVariables(entry){\n        if(this.props.formula.showVariables) {\n            if(entry.gameVariables.size == 0){\n                return (\n                    <p><var>e</var> = &#123;&#160;&#125;</p>\n                );\n            } else {\n                return (\n                    <p><var>e</var> = &#123; {Array.from(entry.gameVariables).map(([key, value]) => key + ' ↦ ' + value).join(', ')} &#125;</p>\n                );\n            }\n        } else {\n            return null;\n        }\n    }\n\n    writeVariables(){\n        let writeOrHide = 'Zobraziť'\n        if(this.props.formula.showVariables){\n            writeOrHide = 'Skryť';\n        }\n        return(\n            <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.getVariables(this.props.index)}>{writeOrHide} ohodnotenie premenných</Button>\n        );\n    }\n\n    chooseCommitment(messages) {\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameCommitment(this.props.index, true, messages, ['Pravdivá'])}>Pravdivá</Button>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameCommitment(this.props.index,false, messages, ['Nepravdivá'])}>Nepravdivá</Button>\n            </div>\n        );\n    }\n\n    chooseFormula(entry, leftCommitment, rightCommitment, messages) {\n        let leftStringCommitment = this.getCommitmentText(leftCommitment);\n        let rightStringCommitment = this.getCommitmentText(rightCommitment);\n        let leftUserMessage = [entry.currentFormula.subLeft.toString() + ' je ' + leftStringCommitment];\n        let rightUserMessage = [entry.currentFormula.subRight.toString() + ' je ' + rightStringCommitment];\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameNextFormula(this.props.index, entry.currentFormula.subLeft, leftCommitment, messages, leftUserMessage)}>\n                    {leftUserMessage}\n                </Button>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameNextFormula(this.props.index, entry.currentFormula.subRight, rightCommitment, messages, rightUserMessage)}>\n                    {rightUserMessage}\n                </Button>\n                {this.writeVariables()}\n            </div>\n        );\n    }\n\n    chooseDomainValue(entry, messages, variableIndex){\n        let varName = 'n' + variableIndex;\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <DropdownButton size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} alignRight as={ButtonGroup} title=\"Vyber prvok z domény\">\n                    {this.props.domain.map((value, index) =>\n                        <Dropdown.Item size='sm' key={index} eventKey={index} onClick={() => this.props.setGameDomainChoice(this.props.index, value, messages, [`Premenná ${varName} označuje prvok ${value}`])}>{value}</Dropdown.Item>\n                    )}\n                </DropdownButton>\n                {this.writeVariables()}\n            </div>\n        );\n    }\n\n    chooseImplication(messages, currentFormula, commitment){\n        let leftImplication = new Implication(currentFormula.subLeft, currentFormula.subRight);\n        let rightImplication = new Implication(currentFormula.subRight, currentFormula.subLeft);\n        let leftUserMessage = [leftImplication.toString() + ' je ' + this.getCommitmentText(commitment)];\n        let rightUserMessage = [rightImplication.toString() + ' je ' + this.getCommitmentText(commitment)];\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameNextFormula(this.props.index, leftImplication, commitment, messages, leftUserMessage)}>\n                    {leftUserMessage}\n                </Button>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.setGameNextFormula(this.props.index, rightImplication, commitment, messages, rightUserMessage)}>\n                    {rightUserMessage}\n                </Button>\n                {this.writeVariables()}\n            </div>\n        );\n    }\n\n    chooseOk(messages){\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.continueGame(this.props.index, messages, ['Pokračuj'])}>Pokračuj</Button>\n                {this.writeVariables()}\n            </div>\n        );\n    }\n\n    chooseEndGame(){\n        return (\n            <div className={\"d-flex justify-content-center\"}>\n                <Button size='sm' variant=\"outline-primary\" className={\"rounded mr-3\"} onClick={() => this.props.endGame(this.props.index)}>Ukončiť hru</Button>\n                {this.writeVariables()}\n            </div>\n        );\n    }\n\n    getChoice(entry, variableIndex){\n        const messages = this.generateMessage(entry, variableIndex);\n        if(entry.gameCommitment === null){\n            return this.chooseCommitment(messages);\n        } else {\n            switch(entry.currentFormula.getType(entry.gameCommitment)){\n                case ATOM:\n                    return this.chooseEndGame();\n                case PLAYER_OPERATOR:\n                    const subFormulasCommitment = entry.currentFormula.getSubFormulasCommitment(entry.gameCommitment);\n                    return this.chooseFormula(entry, subFormulasCommitment[0], subFormulasCommitment[1], messages);\n                case PLAYER_QUANTIFIER:\n                    return this.chooseDomainValue(entry, messages, variableIndex);\n                case GAME_OPERATOR:\n                case GAME_QUANTIFIER:\n                    return this.chooseOk(messages);\n            }\n        }\n    }\n\n    generateMessage(entry, variableIndex){\n        let varName = 'n' + variableIndex;\n        let messages = [];\n        if(entry.gameCommitment === null){\n            messages.push(FIRST_QUESTION(entry.currentFormula))\n            return messages;\n        } else {\n            const structure = this.props.structureObject;\n            const subFormulas = entry.currentFormula.getSubFormulas();\n            const subFormulasCommitment = entry.currentFormula.getSubFormulasCommitment(entry.gameCommitment);\n            messages.push(ENTRY_SENTENCE(entry.currentFormula.toString(), this.getCommitmentText(entry.gameCommitment)));\n            switch(entry.currentFormula.getType(entry.gameCommitment)){\n                case ATOM:\n                    const initial = this.props.formula.gameHistory[1];\n                    if(entry.gameCommitment === entry.currentFormula.eval(structure, entry.gameVariables)){\n                        messages.push(WIN_1(entry.currentFormula, this.getCommitmentText(entry.gameCommitment),\n                            this.getWinningEvaluatedFormula(entry.currentFormula, structure, entry.gameVariables, entry.gameCommitment)));\n                        messages.push(WIN_2(initial.currentFormula,this.getCommitmentText(initial.gameCommitment)));\n                    } else {\n                        messages.push(LOSS(entry.currentFormula,this.getCommitmentText(!entry.gameCommitment),\n                            this.getLoosingEvaluatedFormula(entry.currentFormula, structure, entry.gameVariables, entry.gameCommitment)));\n                        if(initial.currentFormula.eval(structure, initial.gameVariables) === initial.gameCommitment){\n                            messages.push(COULD_WON(initial.currentFormula, this.getCommitmentText(initial.gameCommitment)));\n                        } else {\n                            messages.push(COULD_NOT_WON(initial.currentFormula, this.getCommitmentText(initial.gameCommitment)));\n                        }\n                    }\n                    return messages;\n\n                case PLAYER_OPERATOR:\n                    messages.push(OPERATOR_QUESTION());\n                    messages.push(FIRST_FORMULA_OPTION(subFormulas[0], this.getCommitmentText(subFormulasCommitment[0])));\n                    messages.push(SECOND_FORMULA_OPTION(subFormulas[1], this.getCommitmentText(subFormulasCommitment[1])));\n                    return messages;\n\n                case GAME_OPERATOR:\n                    messages.push(OPERATOR_ANSWER(entry.nextMove.formula, this.getCommitmentText(entry.nextMove.commitment)));\n                    return messages;\n\n                case PLAYER_QUANTIFIER:\n                    const form = entry.currentFormula.subFormula.substitute(entry.currentFormula.variableName, varName);\n                    messages.push(QUANTIFIER_QUESTION(varName, form, this.getCommitmentText(entry.gameCommitment)));\n                    return messages;\n\n                case GAME_QUANTIFIER:\n                    messages.push(QUANTIFIER_ANSWER_1(this.getCommitmentText(entry.nextMove.commitment), entry.nextMove.formula));\n                    messages.push(QUANTIFIER_ANSWER_2(entry.nextMove.variables[0], entry.nextMove.variables[1]));\n                    return messages;\n            }\n        }\n    }\n\n    getWinningEvaluatedFormula(currentFormula, structure, variables, gameCommitment){\n        if(currentFormula instanceof PredicateAtom){\n            if(gameCommitment) {\n                return EVALUATED_PREDICATE_IN(this.getEvaluatedPredicateFormula(currentFormula, structure, variables), currentFormula.name);\n            } else {\n                return EVALUATED_PREDICATE_NOT_IN(this.getEvaluatedPredicateFormula(currentFormula, structure, variables), currentFormula.name);\n            }\n        } else {\n            if(gameCommitment) {\n                return EVALUATED_EQUALITY(currentFormula.subLeft.eval(structure, variables), currentFormula.subRight.eval(structure, variables));\n            } else {\n                return EVALUATED_INEQUALITY(currentFormula.subLeft.eval(structure, variables), currentFormula.subRight.eval(structure, variables));\n            }\n        }\n    }\n\n    getLoosingEvaluatedFormula(currentFormula, structure, variables, gameCommitment){\n        if(currentFormula instanceof PredicateAtom){\n            if(gameCommitment) {\n                return EVALUATED_PREDICATE_NOT_IN(this.getEvaluatedPredicateFormula(currentFormula, structure, variables), currentFormula.name);\n            } else {\n                return EVALUATED_PREDICATE_IN(this.getEvaluatedPredicateFormula(currentFormula, structure, variables), currentFormula.name);\n            }\n        } else {\n            if(gameCommitment) {\n                return EVALUATED_INEQUALITY(currentFormula.subLeft.eval(structure, variables), currentFormula.subRight.eval(structure, variables));\n            } else {\n                return EVALUATED_EQUALITY(currentFormula.subLeft.eval(structure, variables), currentFormula.subRight.eval(structure, variables));\n            }\n        }\n    }\n\n    getEvaluatedPredicateFormula(currentFormula, structure, variables){\n        const res = currentFormula.terms\n            .map(term => term.eval(structure, variables))\n            .join(', ');\n        if (currentFormula.terms.length > 1) {\n            return `(${res})`;\n        }\n        return res;\n    }\n\n    getCommitmentText(commitment){\n        return commitment ? 'pravdivá' : 'nepravdivá';\n    }\n\n    getRandom(size){\n        return Math.floor(Math.random() * size);\n    }\n}","import {HenkinHintikkaGame} from '../../expressions_view/HenkinHintikkaGame'\nimport {connect} from \"react-redux\";\nimport {\n    continueGame,\n    endGame,\n    getVariables,\n    goBack,\n    setGameCommitment,\n    setGameDomainChoice,\n    setGameNextFormula\n} from \"../actions\";\nimport {getStructureObject} from \"../selectors/structureObject\";\n\nconst mapStateToProps = (state,props) => ({\n    structureObject: getStructureObject(state)\n});\n\nconst mapDispatchToProps = {\n    setGameCommitment: setGameCommitment,\n    setGameDomainChoice: setGameDomainChoice,\n    continueGame: continueGame,\n    endGame: endGame,\n    setGameNextFormula: setGameNextFormula,\n    goBack: goBack,\n    getVariables: getVariables\n};\n\nconst HenkinHintikkaGameContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(HenkinHintikkaGame);\n\nexport default HenkinHintikkaGameContainer;","import React, { useState } from 'react';\nimport {\n    Button, Col,\n    Collapse,\n    Form,\n    InputGroup,\n    Row,\n} from \"react-bootstrap\";\nimport Card from \"react-bootstrap/Card\";\nimport {EXPRESSION_LABEL, FORMULA, TERM} from \"../constants\";\nimport FontAwesome from 'react-fontawesome';\nimport LockButton from '../buttons/LockButton';\nimport HelpButton from \"../buttons/HelpButton\";\nimport AddButton from \"../buttons/AddButton\";\nimport HenkinHintikkaGameButton from \"../buttons/HenkinHintikkaGameButton\";\nimport HenkinHintikkaGameContainer from \"../redux/containers/HenkinHintikkaGameContainer\";\n\nconst helpFormula = (\n  <div className=\"well\">\n    Tu je možné overiť, či ľubovoľná formula spĺňa vyššie definovanú štruktúru. Všetky termy a predikáty\n    musia byť definované v jazyku. Ak formula nie je zapísaná v správnej syntaxi, nevyhodnotí sa. Je potrebné\n    dodržiavať správne uzátvorkovanie podformúl. Napravo od\n    formuly sa vyberá možnosť splnenia alebo nesplnenia formuly v štruktúre. Sú povolené nasledujúce symboly\n    spojok, atómov a kvantifikátorov a žiadne iné:\n    <ul>\n      <li>Konjunkcia: \\wedge, \\land, &&, &, /\\, ∧</li>\n      <li>Disjunkcia: \\vee, \\lor, ||, |, \\/, ∨</li>\n      <li>Implikácia: \\to, →, -{'>'}</li>\n      <li>Existenčný kvantifikátor: \\exists, \\e, \\E, ∃</li>\n      <li>Všeobecný kvantifikátor: \\forall, \\a, \\A, ∀</li>\n      <li>Negácia: \\neg, \\lnot, -, !, ~, ¬</li>\n      <li>Rovnosť: =</li>\n      <li>Nerovnosť: !=, &#60;&#62;, /=, &#8800;</li>\n    </ul>\n  </div>\n);\n\nconst helpTerm = (\n  <div className=\"well\">\n    Tu sa pridávajú termy a je možné zistiť ich hodnotu na základe vyššie definovanej štruktúry. Všetky termy\n    musia byť definované v jazyku. Každý symbol premennej, symbol konštanty a funkčný symbol sa považuje za term.\n    Predikátový symbol nie je term.\n  </div>\n);\n\nconst getFormulaAnswers = () => (\n   <React.Fragment>\n     <option key={'-1'} value={'-1'}>⊨/⊭?</option>\n     <option key={'true'} value={'true'}>⊨</option>\n     <option key={'false'} value={'false'}>⊭</option>\n   </React.Fragment>\n);\n\nconst getTermAnswers = (domain) => (\n   <React.Fragment>\n     <option value={''}>Vyber hodnotu ...</option>\n     {domain.map(item =>\n        <option key={item} value={item}>{item}</option>\n     )}\n   </React.Fragment>\n);\n\nfunction prepareExpressions(formulas, terms) {\n  let f = {\n    items: formulas,\n    expressionType: FORMULA,\n    answers: () => getFormulaAnswers(),\n    help: helpFormula,\n    panelTitle: 'Pravdivosť formúl v štruktúre 𝓜'\n  };\n  let t = {\n    items: terms,\n    expressionType: TERM,\n    answers: (domain) => getTermAnswers(domain),\n    help: helpTerm,\n    panelTitle: 'Hodnoty termov v 𝓜'\n  };\n  return [f, t];\n}\n\nconst Expressions = (props) => {\n  const [showHelp, setShowHelp] = useState({});\n  return (\n    <React.Fragment>\n      {prepareExpressions(props.formulas, props.terms).map(expression =>\n        <Card className={expression.expressionType == TERM ? \"mt-3\" : \"\"} key={expression.expressionType}>\n          <Card.Header as={\"h5\"} className={\"d-flex justify-content-between\"}>\n            <span>{expression.panelTitle}</span>\n            <HelpButton onClick={() => setShowHelp(p => {const k = expression.expressionType.toLowerCase(); p[k] = (p[k] === undefined ? true : undefined); return Object.create(p)})}/>\n          </Card.Header>\n          <Card.Body>\n            <Collapse in={showHelp[expression.expressionType.toLowerCase()] === true}>\n              {expression.help}\n            </Collapse>\n            {expression.items.map((item, index) =>\n              <Form key={\"expression-form-\" + index}>\n                <Form.Group className=\"mb-1\">\n                  <InputGroup size='sm'>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text id={expression.expressionType.toLowerCase() + '-' + index}>{EXPRESSION_LABEL[expression.expressionType]}<sub>{index + 1}</sub></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control type='text' value={item.value}\n                      onChange={(e) => props.onInputChange(e.target.value, index, expression.expressionType)}\n                      id={expression.expressionType.toLowerCase() + '-' + index}\n                      disabled={item.inputLocked}\n                      isInvalid={item.errorMessage.length > 0}\n                      onFocus={() => {\n                        props.diagramModel.clearSelection();\n                      }}\n                    />\n                    <InputGroup.Append>\n                      <Button variant={\"outline-danger\"} onClick={() => props.removeExpression(expression.expressionType, index)}>\n                        <FontAwesome name='fas fa-trash' />\n                      </Button>\n                      {props.teacherMode ? (\n                        <LockButton\n                          lockFn={() => props.lockExpressionValue(expression.expressionType, index)}\n                          locked={item.inputLocked} />\n                      ) : null}\n                    </InputGroup.Append>\n                    <Form.Control.Feedback type={\"invalid\"}>{item.errorMessage}</Form.Control.Feedback>\n                  </InputGroup>\n                </Form.Group>\n                <Form.Row>\n                  <Col xs={true} sm={true} md={true} lg={true}>\n                    <Form.Group>\n                      <InputGroup size='sm'>\n                        <InputGroup.Prepend>\n                          <InputGroup.Text id={expression.expressionType.toLowerCase() + '-answer-' + index}>𝓜</InputGroup.Text>\n                        </InputGroup.Prepend>\n                        <Form.Control as=\"select\" value={item.answerValue}\n                          onChange={(e) => props.setExpressionAnswer(expression.expressionType, e.target.value, index)}\n                          id={expression.expressionType.toLowerCase() + '-answer-' + index}\n                          disabled={item.answerLocked}\n                          className=\"custom-select\">\n                          {expression.answers(props.domain)}\n                        </Form.Control>\n\n                        {expression.expressionType === TERM ? null : (\n                          <InputGroup.Append>\n                            <InputGroup.Text id={expression.expressionType.toLowerCase() + '-answer-' + index}>𝝋<sub>{index + 1}</sub>[e]</InputGroup.Text>\n                          </InputGroup.Append>\n                        )}\n                        {props.teacherMode ? (\n                          <InputGroup.Append>\n                            <LockButton\n                              lockFn={() => props.lockExpressionAnswer(expression.expressionType, index)}\n                              locked={item.answerLocked} />\n                          </InputGroup.Append>\n                        ) : null}\n                      </InputGroup>\n                    </Form.Group>\n                  </Col>\n\n                  <Col className={\"pt-1 no-padding-right\"}>\n                    {item.answerValue !== '' && item.answerValue !== '-1' ?\n                      (item.answerValue === item.expressionValue ?\n                        <strong className=\"text-success no-padding-right\"><FontAwesome\n                          name='check' /><span className={'hidden-on-medium-and-lower'}>&nbsp;Správne</span></strong> :\n                        <strong className=\"text-danger\"><FontAwesome\n                          name='times' /><span className={'hidden-on-medium-and-lower'}>&nbsp;Nesprávne</span></strong>\n                      ) : null}\n                  </Col>\n\n                  <Col xs={true} sm={true} md={true} lg={true} className={\"no-padding-right\"}>\n                    {expression.expressionType === FORMULA ?\n                      <HenkinHintikkaGameButton\n                        onClick={() => props.initiateGame(index)}\n                        enabled={item.gameEnabled} /> : null}\n                  </Col>\n                </Form.Row>\n                <Form.Row>\n                  {item.gameEnabled ? <HenkinHintikkaGameContainer formula={item} domain={props.domain} index={index} /> : null}\n                </Form.Row>\n              </Form>\n            )}\n            <AddButton onClickAddFunction={props.addExpression} addType={expression.expressionType} />\n          </Card.Body>\n        </Card>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Expressions;","import {connect} from 'react-redux';\nimport Expressions from \"../../expressions_view/Expressions\";\nimport {\n  addExpression,\n  checkExpressionSyntax,\n  lockExpressionAnswer,\n  lockExpressionValue,\n  removeExpression,\n  setExpressionAnswer,\n  initiateGame\n} from \"../actions\";\nimport {getStructureObject} from \"../selectors/structureObject\";\n\nconst mapStateToProps = (state,props) => ({\n  formulas: state.expressions.formulas,\n  terms: state.expressions.terms,\n  domain: [...getStructureObject(state).domain],\n  teacherMode: state.common.teacherMode,\n  diagramModel:props.diagramModel\n});\n\nconst mapDispatchToProps = {\n  onInputChange: checkExpressionSyntax,\n  addExpression: addExpression,\n  removeExpression: removeExpression,\n  setExpressionAnswer: setExpressionAnswer,\n  lockExpressionValue: lockExpressionValue,\n  lockExpressionAnswer: lockExpressionAnswer,\n  initiateGame: initiateGame\n};\n\nconst ExpressionContainer = connect(\n   mapStateToProps,\n   mapDispatchToProps\n)(Expressions);\n\nexport default ExpressionContainer;","import {Col, Row} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport LanguageContainer from \"../redux/containers/LanguageContainer\";\nimport VariablesValueContainer from \"../redux/containers/VariablesValueContainer\";\nimport StructureContainer from \"../redux/containers/StructureContainer\";\nimport ExpressionsContainer from \"../redux/containers/ExpressionsContainer\";\nimport SplitPane from 'react-split-pane';\n\nexport class MathSystem extends React.Component {\n\n    state = { width: window.innerWidth };\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.syncMathState();\n        window.addEventListener('resize', this.updateDimensions);\n    }\n\n    updateDimensions = () => {\n        this.setState({ width: window.innerWidth});\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateDimensions);\n    }\n\n    render(){\n        return(\n            <SplitPane split={this.state.width > 990 ? 'vertical' : 'horizontal'} allowResize={false}>\n                <div className=\"overflow-auto vh-pane-left\">\n                    <LanguageContainer/>\n                    <StructureContainer/>\n                    <VariablesValueContainer/>\n                </div>\n                <div className=\"overflow-auto vh-pane-right\">\n                    <ExpressionsContainer diagramModel={this.props.diagramModel}/>\n                </div>\n            </SplitPane>\n        )\n    }\n}\n","import {connect} from \"react-redux\";\nimport {MathSystem} from \"../../math_view/MathSystem\";\nimport {syncMathState} from \"../actions\";\n\nconst mapStateToProps = () => ({\n});\n\nconst mapDispatchOnProps = {\n    syncMathState:syncMathState\n};\n\nconst MathSystemContainer = connect(\n    mapStateToProps,\n    mapDispatchOnProps\n)(MathSystem);\n\nexport default MathSystemContainer;","// from https://github.com/notablemind/downloadbutton/issues/4\n\nimport React from 'react';\nimport FontAwesome from \"react-fontawesome\";\n\nfunction saveAs(uri, filename) {\n  var link = document.createElement('a');\n  if (typeof link.download === 'string') {\n    document.body.appendChild(link); //Firefox requires the link to be in the body\n    link.download = filename;\n    link.href = uri;\n    link.click();\n    document.body.removeChild(link); //remove the link when done\n  } else {\n    window.location.replace(uri);\n  }\n}\n\nclass DownloadButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      fileData: null,\n    };\n    this._onGenerate = this._onGenerate.bind(this);\n    this._donePreparing = this._donePreparing.bind(this);\n    this._onDownload = this._onDownload.bind(this);\n  }\n\n  _onGenerate() {\n    this.setState({loading: true, fileData: null});\n    this.props.genFile(this._donePreparing);\n  }\n\n  _donePreparing(fileData) {\n    this.setState({\n      loading: false,\n      fileData: fileData,\n    });\n  }\n\n  _onDownload() {\n    var fileData = (this.props.fileData || (this.props.async ? this.state.fileData : this.props.genFile()));\n    if (!fileData) {\n      return false;\n    }\n    var blob = new Blob([fileData.contents], {type: fileData.mime});\n    var url = URL.createObjectURL(blob);\n    saveAs(url, fileData.filename);\n    this.props.onDownloaded && this.props.onDownloaded();\n  }\n\n  render() {\n    // need one or the other\n    if (!this.props.genFile && !this.props.fileData) {\n      return (<em>Invalid configuration for download button</em>);\n    }\n    var style = this.props.style;\n    var cls = 'DownloadButton ' + (this.props.className || '');\n    if (this.props.fileData || !this.props.async || this.state.fileData) {\n      var title = this.props.downloadTitle;\n      if ('function' === typeof title) {\n        title = title(this.props.fileData || this.state.fileData)\n      }\n      return (\n         <button style={style}  title={this.props.title} onClick={this._onDownload} className={cls}>\n           <FontAwesome name='fas fa-save'/>\n           &nbsp;Uložiť\n         </button>\n      );\n    }\n    if (this.state.loading) {\n      return (<button style={style} className={cls + ' DownloadButton-loading'}>\n        {this.props.loadingTitle}\n      </button>);\n    }\n    return (<button style={style} onClick={this._onGenerate} className={cls + ' DownloadButton-generate'}>\n      {this.props.generateTitle}\n    </button>);\n  }\n}\n\n// DownloadButton.propTypes = {\n//     fileData: React.PropTypes.object,\n//     genFile: React.PropTypes.func,\n//     async: React.PropTypes.bool,\n//     generateTitle: React.PropTypes.string,\n//     downloadTitle: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.func]),\n//     loadingTitle: React.PropTypes.string,\n//     onDownloaded: React.PropTypes.func,\n// }\n\nDownloadButton.defaultProps = {\n  async: false,\n  downloadTitle: 'Download',\n  generateTitle: 'Generate file',\n  loadingTitle: 'Loading...',\n};\n\nexport default DownloadButton;","import React from 'react';\nimport {Button, Modal} from \"react-bootstrap\";\nimport DownloadButton from \"../../buttons/DownloadButton\";\nimport {DEFAULT_FILE_NAME} from \"../../constants\";\nimport FontAwesome from \"react-fontawesome\";\n\nconst ModalComponent = ({modalShowState,setModalShowState,setExerciseNameState,exportState}) => (\n    <Modal dialogClassName={\"no-border-radius\"} show={modalShowState} onHide={() => setModalShowState(false)}>\n        <Modal.Header>\n            <Modal.Title>Uložiť štruktúru</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <div className='form-inline'>\n                <div className='form-group'>\n                    <label htmlFor=\"exercise-name\">Názov cvičenia: </label>\n                    <input type=\"text\" className=\"form-control\" id=\"exercise-name\"\n                           placeholder={DEFAULT_FILE_NAME}\n                           onChange={(e) => setExerciseNameState(e.target.value)}/>\n                </div>\n            </div>\n        </Modal.Body>\n        <Modal.Footer>\n            <DownloadButton genFile={exportState} title={\"Uložiť\"}\n                            className='btn btn-success'>\n            </DownloadButton>\n\n            <Button variant={\"secondary\"} title='Zrušiť' onClick={() => setModalShowState(false)}>\n                <FontAwesome name='fas fa-window-close'/>\n                &nbsp;Zrušiť\n            </Button>\n\n        </Modal.Footer>\n    </Modal>\n);\n\nexport default ModalComponent;","import React from 'react';\nimport {Button} from \"react-bootstrap\";\nimport FontAwesome from \"react-fontawesome\";\n\nconst HelpGraphButton = ({setCollapseHelpGraphButton,collapseHelpGraphButton}) => (\n            <div>\n                <Button variant={'secondary'} title='Pomoc s grafom' size='md'\n                        onClick={() => setCollapseHelpGraphButton(!collapseHelpGraphButton)}\n                        aria-controls=\"help-graph\"\n                        aria-expanded={collapseHelpGraphButton}>\n                    <FontAwesome name='fas fa-question'/>\n                    <span className={'hidden-on-medium-and-lower'}>&nbsp;Pomoc s grafom</span>\n                </Button>\n            </div>\n);\n\nexport default HelpGraphButton;","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport {Button, ButtonGroup, ButtonToolbar} from 'react-bootstrap';\nimport ModalComponent from '../math_view/components_parts/ModalComponent';\nimport HelpGraphButton from \"./HelpGraphButton\";\n\nconst ButtonToolbarComponent = ({setCollapseHelpGraphButton,collapseHelpGraphButton,clearGraphSelection,exportState,setExerciseNameState,modalShowState,diagramToggledState,teacherModeState,setDiagramToggledState, setModelShowState, importState, setTeacherModeState}) => (\n    <ButtonToolbar>\n        <ButtonGroup className='mr-lg-2'>\n        <Button variant='outline-primary' title='Prepnúť na matematický pohľad' className={diagramToggledState?'':' active'} onClick={() => {\n            setDiagramToggledState(false);\n            setCollapseHelpGraphButton(false);\n        }}>\n            <strong>&#123;&nbsp;&#125;</strong>\n            <span className={'hidden-on-medium-and-lower'}>&nbsp;Množiny</span>\n        </Button>\n\n        <Button variant='outline-primary' title='Prepnúť na grafový pohľad' className={diagramToggledState?' active':''} onClick={() => setDiagramToggledState(true)}>\n            <FontAwesome name='fas fa-project-diagram'/>\n            <span className={'hidden-on-medium-and-lower'}>&nbsp;Graf</span>\n        </Button>\n        </ButtonGroup>\n\n        <ButtonGroup className='mr-lg-2'>\n        <Button size=\"md\" variant='secondary' title='Exportovať cvičenie' onClick={() => {setModelShowState(true);clearGraphSelection();}}>\n            <FontAwesome name='fas fa-file-export'/>\n            <span className={'hidden-on-medium-and-lower'}>&nbsp;Exportovať</span>\n        </Button>\n\n        <Button variant='secondary' title='Importovať cvičenie'\n                onClick={() => document.getElementById('uploadInput').click()}>\n            <FontAwesome name='fas fa-file-import'/>\n            <input id='uploadInput' type='file' name='jsonFile'\n                   onChange={(e) => {\n                       importState(e);\n                   }}\n                   hidden={true}\n                   style={{display: 'none'}}/>\n            <span className={'hidden-on-medium-and-lower'}>&nbsp;Importovať</span>\n        </Button>\n        </ButtonGroup>\n\n        {diagramToggledState ?\n            <ButtonGroup className='mr-lg-2'>\n                <HelpGraphButton collapseHelpGraphButton={collapseHelpGraphButton} setCollapseHelpGraphButton={setCollapseHelpGraphButton}/>\n            </ButtonGroup>: null\n        }\n\n        <ModalComponent exportState={exportState} modalShowState={modalShowState} setExerciseNameState={setExerciseNameState} setModalShowState={setModelShowState}/>\n\n        {/*<ButtonGroup>\n        <Button variant={'outline-success'} size='lg' title='Učiteľský mód' className={(teacherModeState?'active':'')} onClick={() => setTeacherModeState()}>\n            <FontAwesome name='fas fa-user-edit'/>\n            <span className={'hidden-on-medium-and-lower'}>&nbsp;Učiteľský mód</span>\n        </Button>\n        </ButtonGroup>*/}\n    </ButtonToolbar>\n);\n\nexport default ButtonToolbarComponent;","import React from \"react\";\nimport {Card, Collapse} from \"react-bootstrap\";\n\nconst HelpGraphCollapse = ({collapsed}) => (\n    <Collapse in={collapsed}>\n        <Card id=\"help-graph\" className=\"text-justify\">\n            <Card.Body>\n                <p>Vrcholy sa do grafu umiestňujú tahaním alebo klikaním na ikonu z panelu. Pri ťahaní je\n                    možné\n                    určiť presnú polohu vrcholu, pri kliknutí bude mať vrchol náhodnú pozíciu.\n                    V grafe je možné umiestniť 4 typy vrcholov.\n                    Prvý typ vrcholu predstavuje prvok domény.\n                    Druhý predstavuje konštantu.\n                    Tretí predstavuje ternárny (3) vzťah.\n                    Štvrtý predstavuje quaternárny (4) vzťah.</p>\n\n                <p>\n                    Graf sa ovláda dvomi režimami. Pohybovací režim (<code>P</code>) dovoľuje presúvať alebo\n                    mazať jednotlivé vrcholy. Pre ostatné akcie ako sú pridávanie predikátov a funkcií,\n                    zmena\n                    mien vrcholov alebo na vytváranie hrán slúži Editovací režim (<code>E</code>).\n                    Medzi týmito režimami sa dá meniť stlačením príslušných tlačidiel alebo stlačením\n                    kláves <code>P</code> a <code>E</code>. Okrem toho je možné využiť klávesu<code>;</code>,ktorou\n                    je možné prepínať medzi jednotlivými režimami. Nadídením myšou nad prvky grafu sa vám zobrazí\n                    nápoveda k ním (resp. hláška prečo nejde daná akcia vykonať).</p>\n\n                <p>\n                    Dvojklikom na názov vrcholu sa prepne názov na input okno. Do tohto okna je možné zadať\n                    nový názov.\n                    Nový názov musí splňať podmienky, teda nesmie obsahovať zakázané znaky. V prípade\n                    použitia zakázaných vzťahov sa input okno rozsvieti na červeno.\n                    Medzery v input okne sú ignorované a berie sa slovo beznich. Názov sa akceptuje vybratím\n                    iného prvky grafu alebo kliknutím do plátna. Okrem toho je možné meno akceptovať aj\n                    tlačidlom <code>ENTER</code>.\n                    V prípade ak používateľ chce zrušiť premenovanie a vrátiť pôvodné meno tak na to slúži\n                    tlačidlo <code>ESC</code>. To isté sa stane aj ked sa používateľ pokúsi uložiť zlé meno\n                    - vráti sa pôvodné meno.\n                </p>\n\n                <p>\n                    Konštanta smie mať maximálne jeden uzol. Ak používateľ sa pokúsi pripojiť novým uzlom\n                    iný vrchol predstavujúci prvok domény tak sa pôvodný uzol zmaže. Uzol konštanty je možné\n                    pripojiť iba do vrcholu, ktorý predstavuje prvok domény.\n                </p>\n                <p>\n                    Miesto, kde sa nachádza názov vrcholu slúži na vytváranie a tahanie uzlov.\n                    Binárne vzťahy medzi dvomi vrcholmi sa vytvárajú ťahaním uzlu z jedného vrcholu do\n                    druhého.\n                    Binárný vzťah do seba samého je možné vytvoriť ťahaním uzlu z názvu vrcholu do tlačidla\n                    na\n                    otváranie/zatváranie rozbaľovacej ponuky.\n                </p>\n\n                <p>Graf nedovoluje pridať funkciu do vrcholu ak by mal nastať stav, že funkcia by bola\n                    viackrát definovaná pre rovnaké parametre. V takom prípade buď nejde vôbec danú funkciu\n                    pridať a tlačidlo na pridanie je vypnuté alebo ak ide o binárny vzťah tak v ňom môže\n                    nastať\n                    stav, že zaradenej funkcií v zozname nejde zmeniť smer\n                    (resp. je možné vyberať iba z obmedzeného počtu smerov). Štandardne sa v binárnom vzťahu\n                    pri\n                    pridaní predikátu alebo funkcie pridá tento prvok v oboch smeroch. Ak v rámci funkcie\n                    nie je\n                    možné pridať obidva smery, tak sa pridá ten, ktorý je dostupný. Pre ternárne a väčšie\n                    vrcholy platí, že nejde vytvoriť dva takéto vrcholy, ktoré by mali rovnakú kombináciu\n                    parametrov. V takom prípade ak sa používateľ pokúsi spojiť posledný uzol, tak tento uzol\n                    bude zmazaný.\n                    Následne pokiaľ máme ternárny a väčší vrchol (vrchol predstavujúci väčší vzťah) a sú v\n                    ňom zadefinované nejaké funkcie, ale nie sú spojené všetky miesta, kde smerujú uzly, tak\n                    v takom prípade ak by mal pri spojení všetkých uzľov vzniknúť problém, že funkcie je\n                    definovaná viackrát pre dané\n                    parametre, tak sa funkcia vymaže zo zoznamu tohto vrcholu.\n                </p>\n            </Card.Body>\n        </Card>\n    </Collapse>\n);\n\nexport default HelpGraphCollapse;","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport const Tray = styled.div`\nbackground: white !important;\n`;\n\nexport class TrayWidget extends React.Component {\n\trender() {\n\t\treturn <Tray>{this.props.children}</Tray>;\n\t}\n}\n","import * as React from 'react';\nimport styled from \"@emotion/styled\";\n\nexport interface TrayItemWidgetProps {\n\tmodel: any;\n\tcolor?: string | undefined;\n\tname: string;\n\telement:any;\n\tclickFunction:any;\n\treduxProps:any;\n\ttitle:string;\n}\n\nexport const BasicTray = styled.div`\n\t\tcursor: pointer;\n\t\twidth:65%;\n\t\tmargin: auto;\n\t\tmargin-top:0.8em;\n\t\tmargin-bottom:0.8em;\n\t`;\n\nexport class ItemWidgetIcon extends React.Component<TrayItemWidgetProps> {\n\tconstructor(props:any){\n\t\tsuper(props);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<BasicTray\n\t\t\t\ttitle={this.props.title}\n\t\t\t\tcolor={this.props.color}\n\t\t\t\tdraggable={true}\n\t\t\t\tonDragStart={event => {\n\t\t\t\t\tevent.dataTransfer.setData('storm-graph_view-node', JSON.stringify(this.props.model));\n\t\t\t\t}}\n\t\t\t\tonClick={e => {\n\t\t\t\t\tthis.props.clickFunction(this.props.element,JSON.stringify(this.props.model),this.props.reduxProps);\n\t\t\t\t}}\n\t\t\t\tclassName=\"tray-item\">\n\t\t\t\t{this.props.children}\n\t\t\t</BasicTray>\n\t\t);\n\t}\n}\n\n\n\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport interface MainCanvasWidgetProps {\n\tcolor?: string;\n\tbackground?: string;\n}\n\n\texport const Container = styled.div<{ color: string; background: string }>`\n\t\theight: 100%;\n\t\tbackground-color:white !important;\n\t\tbackground-size: 50px 50px;\n\t\tdisplay: flex;\n\t\t/*border: 1px solid black;*/\n\n\t\t> * {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t${p => p.color} 25%,\n\t\t\t\t${p => p.color} 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t${p => p.color} 75%,\n\t\t\t\t${p => p.color} 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t${p => p.color} 25%,\n\t\t\t\t${p => p.color} 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t${p => p.color} 75%,\n\t\t\t\t${p => p.color} 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t`;\n\nexport class MainCanvasWidget extends React.Component<MainCanvasWidgetProps> {\n\trender() {\n\t\treturn (\n\t\t\t<Container\n\t\t\t\tbackground={this.props.background || 'rgb(60, 60, 60)'}\n\t\t\t\tcolor={this.props.color || 'rgba(0,0,0, 0.15)'}>\n\t\t\t\t{this.props.children}\n\t\t\t</Container>\n\t\t);\n\t}\n}\n","import FontAwesome from \"react-fontawesome\";\nimport React from \"react\";\n\nexport const ADDPORT:any = <FontAwesome name='fas fa-plus'/>;\nexport const ADDPORTSELECTED:any =  <FontAwesome name='fas fa-times'/>;\nexport const INPORT:string = \"IN\";\nexport const OUTPORT:string = \"OUT\";\nexport const CONSTPORT:string = \"*\";\nexport const UNBINARY:string = \"unbinary\";\nexport const CONSTANT:string = \"constant\";\nexport const MAINPORT:string = \"MAINPORT\";\nexport const ADDPRED:string = \"P\";\nexport const ADDFUNC:string = \"F\";\nexport const BOTH:string = \"B\";\nexport const FROM:string = \"F\";\nexport const TO:string = \"T\";\nexport const PREDICATE:string =\"P\";\nexport const FUNCTION:string = \"F\";\nexport const BASIC_CURVYNESS:number = 85;\nexport const UNBINARYNODE:string = \"N\";\nexport const CONSTANTNODE:string = \"C\";\nexport const TERNARYNODE:string = \"T\";\nexport const QUATERNARYNODE:string = \"Q\";\nexport const TERNARY = \"T\";\nexport const QUATERNARY = \"Q\";","import {FUNCTION, PREDICATE, UNBINARY} from \"./ConstantNames\";\nimport {RULE_CONSTANTS, RULE_DOMAIN} from \"../../constants/parser_start_rules\";\nimport {DiagramEngine } from \"@projectstorm/react-diagrams\";\nimport {getLanguageObject} from \"../../redux/selectors/languageObject\";\nimport {getStructureObject} from \"../../redux/selectors/structureObject\";\nlet parser = require('../../parser/grammar');\n\nexport function canUseNameForGivenArityAndType(elementName:string,elementArity:string,reduxProps:any,type:string):boolean{\n    let languageObject = getLanguageObject(reduxProps[\"store\"].getState());\n\n    if(languageObject.constants && languageObject.constants.has(elementName)){\n        return false;\n    }\n\n    let givenSet = type === PREDICATE ? languageObject.functions : languageObject.predicates;\n    if(givenSet && givenSet.has(elementName)){\n        return false;\n    }\n\n    let finalSet = type === PREDICATE ? languageObject.predicates : languageObject.functions;\n\n    if(finalSet){\n        for(let [langaugeElementName,languageElementArity] of finalSet.entries()){\n            if(langaugeElementName === elementName){\n                return languageElementArity.toString() === elementArity;\n            }\n        }\n    }\n    return true;\n}\n\nexport function functionIsAlreadyDefinedForGivenFunction(functionParameters:[string],functionValue:string,functionName:string,reduxProps:any):boolean{\n    let functionInterpretation = getStructureObject(reduxProps[\"store\"].getState()).iFunction;\n\n    if(functionInterpretation.has(functionName)){\n        for(let [funcParameters,funcValue] of Object.entries(functionInterpretation.get(functionName))){\n            if(funcParameters === JSON.stringify(functionParameters)){\n                return funcValue!==functionValue;\n            }\n        }\n    }\n    return false;\n}\n\nexport function selectOnlyCurrentGraphElement(currentModel:any,engine:DiagramEngine){\n    engine.getModel().clearSelection();\n    currentModel.setSelected(true);\n    engine.repaintCanvas();\n}\n\nexport function clearAllWithoutCurrentModel(currentModel:any,engine:DiagramEngine){\n    let selectedElements = engine.getModel().getSelectedEntities();\n    for(let graphObject of selectedElements){\n        if(graphObject!==currentModel){\n            graphObject.setSelected(false);\n        }\n    }\n    engine.repaintCanvas();\n}\n\nfunction setNodeBadNameIfStateContainsNodeWithSameName(state:Map<string,any>,newName:string,setNodeBadName:any){\n    if(state.has(newName)){\n        setNodeBadName(true);\n        return true;\n    }\n    else{\n        setNodeBadName(false);\n        return false;\n    }\n}\n\nfunction parseText(name:string,setNodeBadName:any,startRule:any){\n    try{\n        parser.parse(name, {startRule: startRule});\n        setNodeBadName(false);\n        return false;\n    }\n    catch (e) {\n        setNodeBadName(true);\n        return true;\n    }\n}\nexport function setPredFuncBadNameIfRegexViolated(name:string,setBadName:any){\n   return parseText(name,setBadName,RULE_CONSTANTS);\n}\n\nfunction setDomainBadNameIfRegexViolated(newName:string,setNodeBadName:any){\n    parseText(newName,setNodeBadName,RULE_DOMAIN)\n}\n\nfunction setConstantsBadNameIfRegexViolated(newName:string,setNodeBadName:any){\n    parseText(newName,setNodeBadName,RULE_CONSTANTS);\n}\n\nexport function canUseNameForNode(oldName:string,newName:string,setNodeBadName:any,reduxProps:any,nodeType:string){\n    let diagramState = reduxProps[\"store\"].getState().diagramState;\n\n    if(oldName === newName){\n        setNodeBadName(false);\n        return;\n    }\n\n    if(newName.length === 0 ){\n        setNodeBadName(true);\n        return;\n    }\n\n    if(setNodeBadNameIfStateContainsNodeWithSameName(nodeType === UNBINARY?diagramState.domainNodes:diagramState.constantNodes,newName,setNodeBadName)){\n        return;\n    }\n    nodeType === UNBINARY?setDomainBadNameIfRegexViolated(newName,setNodeBadName):setConstantsBadNameIfRegexViolated(newName, setNodeBadName);\n}\n\nexport function getAvailableLanguageElementForGivenArity(arity:string,reduxProps:any,modelSet:Set<string>,type:string):Set<string> {\n    let languageElementSet: Set<string> = new Set();\n    let languageObject = getLanguageObject(reduxProps[\"store\"].getState());\n    let languageElement = type === PREDICATE ? languageObject.predicates : languageObject.functions;\n\n    for(let [elementValue,elementArity] of languageElement.entries()){\n        if(elementArity.toString() === arity && !modelSet.has(elementValue)){\n            languageElementSet.add(elementValue);\n        }\n    }\n    return languageElementSet;\n}\n\n\nexport function getMaxLengthForGivenLanguageElementWithArity(arity:string,type:string,reduxProps:any):number{\n    let maxLength = 0;\n    let languageObject = getLanguageObject(reduxProps[\"store\"].getState());\n    let languageElement = type === PREDICATE ? languageObject.predicates : languageObject.functions;\n\n    for(let [elementValue,elementArity] of languageElement.entries()){\n        if(elementArity.toString() === arity && maxLength<elementValue.length){\n            maxLength = elementValue.length;\n        }\n    }\n    return maxLength;\n}\n\nexport function getWidestElement(isDropDownMenu:boolean,inputElementTestLength:number,model:any,width:number,predicateArity:string,functionArity:string) {\n    if(isDropDownMenu){\n        let predicateWidth = getMaxLengthForGivenLanguageElementWithArity(predicateArity,PREDICATE,model.getReduxProps());\n        let functionWidth = 0;\n\n        if(functionArity !== \"0\"){\n            functionWidth = getMaxLengthForGivenLanguageElementWithArity(functionArity,FUNCTION,model.getReduxProps());\n        }\n\n        if(width<predicateWidth){\n            width = predicateWidth;\n        }\n        if(width<functionWidth){\n            width = functionWidth;\n        }\n        if(inputElementTestLength>width){\n            width = inputElementTestLength;\n        }\n    }\n    return width;\n}\n","export const RULE_DOMAIN = 'domain';\nexport const RULE_VARIABLE_VALUATION = 'e_tuples';\nexport const RULE_PREDICATES_FUNCTIONS_VALUE = 'tuples';\nexport const RULE_CONSTANTS = 'constants';\nexport const RULE_FORMULA = 'formula';\nexport const RULE_TERM = 'term';","import { LabelModel} from '@projectstorm/react-diagrams-core';\nimport { DeserializeEvent } from '@projectstorm/react-canvas-core';\nimport {BaseModelListener} from '@projectstorm/react-canvas-core';\nimport { LabelModelOptions, LabelModelGenerics } from '@projectstorm/react-diagrams';\nimport {BOTH, FROM, PREDICATE, TO} from \"../../nodes/ConstantNames\";\nimport {functionIsAlreadyDefinedForGivenFunction} from \"../../nodes/functions\";\n\nexport interface BinaryLabelModelOptions extends LabelModelOptions {\n\tlabel?: string;\n\tpredicates?: Set<string>;\n\treduxProps?: any;\n\tname?:string;\n}\n\nexport interface NodeModelListener extends BaseModelListener {\n\n}\n\nexport interface BinaryLabelModelGenerics extends LabelModelGenerics {\n\tLISTENER: NodeModelListener;\n\tOPTIONS: BinaryLabelModelOptions;\n}\n\nexport class BinaryLabelModel extends LabelModel<BinaryLabelModelGenerics> {\n\tpredicates: Map<string,string>;\n\tfunctions: Map<string,string>;\n\teditable: boolean;\n\tchangeCounter: number;\n\n\tconstructor(options: BinaryLabelModelOptions = {},reduxProps?:any,name?:string) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\toffsetY: 0,\n\t\t\ttype: 'binary',\n\t\t\treduxProps: reduxProps,\n\t\t\tname:name,\n\t\t});\n\n\t\tthis.predicates = new Map();\n\t\tthis.functions = new Map();\n\t\tthis.editable = true;\n\t\tthis.changeCounter = 0;\n\t\tthis.registerEvents();\n\t}\n\n\tregisterEvents() {\n\t\tlet label = this;\n\t\tthis.registerListener({\n\t\t\tentityRemoved(): void {\n\t\t\t\tlabel.removeLabelFromMathView();\n\t\t\t}\n\t\t})\n\t}\n\n\tgetSourceDomainNode(){\n\t\treturn this.getParent().getSourcePort().getNode();\n\t}\n\n\tgetTargetDomainNode(){\n\t\treturn this.getParent().getTargetPort().getNode();\n\t}\n\n\tgetNodeCombinationKey(){\n\t\t// @ts-ignore\n\t\treturn [this.getSourceDomainNode().getNodeName(),this.getTargetDomainNode().getNodeName()].join(\",\");\n\t}\n\n\tgetReversedNodeCombinationKey(){\n\t\t// @ts-ignore\n\t\treturn [this.getTargetDomainNode().getNodeName(),this.getSourceDomainNode().getNodeName()].join(\",\");\n\t}\n\n\tclearPredicates(){\n\t\tthis.getPredicates().clear();\n\t}\n\n\tclearFunctions(){\n\t\tthis.getFunctions().clear();\n\t}\n\n\tremoveLabelFromMathView(){\n\t\tfor(let [predicateName,direction] of this.predicates.entries()){\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"removeBinaryPredicate\"](predicateName, this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),direction);\n\t\t}\n\t\tfor(let [functionName,direction] of this.functions.entries()){\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"removeUnaryFunction\"](functionName, this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),direction);\n\t\t}\n\t}\n\n\tsetLabel(label: string) {\n\t\tthis.options.label = label;\n\t}\n\n\tgetName():string{\n\t\treturn this.options.name;\n\t}\n\n\tgetPredicates():Map<string,string>{\n\t\treturn this.predicates;\n\t}\n\n\tgetFunctions():Map<string,string>{\n\t\treturn this.functions;\n\t}\n\n\tsetLockedParent(bool:boolean){\n\t\tthis.getParent().setLocked(bool);\n\t}\n\n\tgetReduxProps(){\n\t\treturn this.getOptions().reduxProps;\n\t}\n\n\taddPredicate(name:string){\n\t\tname = name.replace(/\\s/g, \"\");\n\t\tif (!this.predicates.has(name)) {\n\t\t\tthis.addBinaryPredicateToSet(name);\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"addBinaryPredicate\"](name, this.getParent().getSourcePort().getNode().getNodeName(), this.getParent().getTargetPort().getNode().getNodeName(), this.predicates.get(name));\n\t\t}\n\t}\n\n\taddFunction(name:string){\n\t\tname = name.replace(/\\s/g, \"\");\n\t\tif (!this.functions.has(name)) {\n\t\t\tthis.addUnaryFunctionToSet(name);\n\t\t\tlet alreadyDefinedInFromDirection = functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(FROM),this.getFunctionValue(FROM),name+\"/1\",this.getReduxProps());\n\t\t\tlet alreadyDefinedInToDirection = functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(TO),this.getFunctionValue(TO),name+\"/1\",this.getReduxProps());\n\n\t\t\tif(alreadyDefinedInFromDirection){\n\t\t\t\tthis.setLanguageElementDirection(name,TO,this.functions);\n\t\t\t}\n\t\t\telse if(alreadyDefinedInToDirection){\n\t\t\t\tthis.setLanguageElementDirection(name,FROM,this.functions);\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"addUnaryFunction\"](name,this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),this.functions.get(name));\n\t\t}\n\t}\n\n\taddBinaryPredicateToSet(name: string){\n\t\tthis.predicates.set(name,FROM);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\taddUnaryFunctionToSet(name: string){\n\t\tthis.functions.set(name,FROM);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\taddUnaryFunctionToSetWithDirection(name: string,direction: string){\n\t\tthis.functions.set(name,direction);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\taddBinaryPredicateToSetWithDirection(name: string,direction: string){\n\t\tthis.predicates.set(name,direction);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\tincreaseChangeCounter(){\n\t\tthis.changeCounter+=1;\n\t}\n\n\tisEditable(){\n\t\treturn this.editable;\n\t}\n\n\tremoveBinaryPredicateFromSet(name: string){\n\t\tthis.predicates.delete(name);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\tremoveUnaryFunctionFromSet(name: string){\n\t\tthis.functions.delete(name);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\tremoveFunction(name:string){\n\t\tif(this.functions.has(name)){\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"removeUnaryFunction\"](name,this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),this.functions.get(name));\n\t\t\tthis.removeUnaryFunctionFromSet(name);\n\t\t}\n\t}\n\n\tremovePredicate(name:string){\n\t\tif(this.predicates.has(name)){\n\t\t\t// @ts-ignore\n\t\t\tthis.getReduxProps()[\"removeBinaryPredicate\"](name,this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),this.predicates.get(name));\n\t\t\tthis.removeBinaryPredicateFromSet(name);\n\t\t}\n\t}\n\n\tchangeDirection(name:string,currentDirection:string,givenSet:Map<string,string>){\n\t\tif(currentDirection === BOTH){\n\t\t\tgivenSet.set(name,FROM);\n\t\t}\n\t\telse if(currentDirection === FROM){\n\t\t\tgivenSet.set(name,TO);\n\t\t}\n\t\telse{\n\t\t\tgivenSet.set(name,BOTH);\n\t\t}\n\t}\n\n\tsetLanguageElementDirection(name:string,direction:string,givenSet:Map<string,string>){\n\t\tgivenSet.set(name,direction);\n\t}\n\n\tgetNodeParameters(direction:string):[string]{\n\t\tif(direction === FROM){\n\t\t\t// @ts-ignore\n\t\t\treturn [this.getSourceDomainNode().getNodeName()];\n\t\t}\n\t\telse if(direction === TO){\n\t\t\t// @ts-ignore\n\t\t\treturn [this.getTargetDomainNode().getNodeName()];\n\t\t}\n\t\telse{\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetFunctionValue(direction:string):string{\n\t\tif(direction === FROM){\n\t\t\t// @ts-ignore\n\t\t\treturn this.getTargetDomainNode().getNodeName();\n\n\t\t}\n\t\telse if(direction === TO){\n\t\t\t// @ts-ignore\n\t\t\treturn this.getSourceDomainNode().getNodeName();\n\t\t}\n\t\telse{\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t//going from b -> f -> t\n\t//b - both\n\t//f - from => means it goes from this node to another (so this node is first parameter)\n\t//t - to => means it goes to this node from another (so this node is second parameter)\n\tchangeDirectionOfBinaryRelation(name:string,currentDirection:string,type:string){\n\t\tlet givenSet = type === PREDICATE?this.getPredicates():this.getFunctions();\n\n\t\tif(type === PREDICATE){\n\t\t\tthis.changeDirection(name,currentDirection,givenSet);\n\t\t}\n\t\telse{\n\t\t\tlet currDirection:string = currentDirection;\n\t\t\twhile(true){\n\t\t\t\tthis.changeDirection(name,currDirection,givenSet);\n\t\t\t\tcurrDirection = givenSet.get(name);\n\t\t\t\tif(currDirection === currentDirection){\n\t\t\t\t\tthis.setLanguageElementDirection(name,currentDirection,givenSet);\n\t\t\t\t\t//hint ze nejde zmenit direction\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet alreadyDefinedForDirection;\n\t\t\t\tif(currDirection!==BOTH){\n\t\t\t\t\talreadyDefinedForDirection = functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(currDirection),this.getFunctionValue(currDirection),name+\"/1\",this.getReduxProps());\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\talreadyDefinedForDirection = functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(FROM),this.getFunctionValue(FROM),name+\"/1\",this.getReduxProps()) || functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(TO),this.getFunctionValue(TO),name+\"/1\",this.getReduxProps());\n\t\t\t\t}\n\t\t\t\tif(!alreadyDefinedForDirection){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.increaseChangeCounter();\n\t\t// @ts-ignore\n\t\tthis.getReduxProps()[\"changeDirectionOfBinaryRelation\"](name,this.getParent().getSourcePort().getNode().getNodeName(),this.getParent().getTargetPort().getNode().getNodeName(),givenSet.get(name),type);\n\t}\n\n\tchangeEditableState(value:boolean){\n\t\tthis.editable = value;\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.label = event.data.label;\n\t\tthis.editable = event.data.editable;\n\t\tthis.changeCounter = event.data.changeCounter;\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tlabel: this.options.label,\n\t\t\teditable: this.editable,\n\t\t\tchangeCounter: this.changeCounter\n\t\t};\n\t}\n}\n","import {BinaryLinkModel} from \"../links/binary/BinaryLinkModel\";\nimport {ADDPORT} from \"./ConstantNames\";\nimport {UnBinaryNodeModel} from \"./unbinary/UnBinaryNodeModel\";\nimport { PortModelAlignment, PortModel, LinkModel } from \"@projectstorm/react-diagrams\";\n\nexport class NaryRelationPortModel extends PortModel {\n    constructor(name:string =\"default\",alignment: PortModelAlignment = PortModelAlignment.LEFT) {\n        super({\n            type: 'nary',\n            name: name,\n            alignment: alignment\n        });\n    }\n\n    createLinkModel(): LinkModel {\n        if (this.getMaximumLinks() === 0) {\n            return null;\n        }\n        return new BinaryLinkModel();\n    }\n\n    canLinkToPort(port: PortModel): boolean {\n        return port.getNode() instanceof UnBinaryNodeModel && port.getName() !== ADDPORT;\n    }\n}","import {LinkModel, PortModelAlignment, PortModel} from '@projectstorm/react-diagrams';\nimport _ from \"lodash\";\nimport {ADDPORT} from \"../ConstantNames\";\nimport {BinaryLinkModel} from \"../../links/binary/BinaryLinkModel\";\nimport {NaryRelationPortModel} from \"../NaryRelationPortModel\";\n\nexport class ConstantPortModel extends PortModel {\n\tconstructor(name: string) {\n\t\tsuper({\n\t\t\ttype: 'constant',\n\t\t\tname: name,\n\t\t\talignment: PortModelAlignment.BOTTOM\n\t\t});\n\t}\n\n\tcreateLinkModel(): LinkModel {\n\t\tif (this.getMaximumLinks() === 0) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.getParentCanvasModel().clearSelection();\n\t\treturn new BinaryLinkModel();\n\t}\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\tif(this.getParent() === port.getParent()){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(port.getParent().getOptions().type==='constant') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(port instanceof NaryRelationPortModel){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(port.getName() === ADDPORT){\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let link of _.values(this.getLinks())) {\n\t\t\tif(link.getSourcePort() === this && link.getTargetPort() === port){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n","import {NodeModel, NodeModelGenerics} from '@projectstorm/react-diagrams';\nimport {ConstantPortModel} from './ConstantPortModel';\nimport { BasePositionModelOptions } from '@projectstorm/react-canvas-core';\nimport _ from 'lodash';\nimport {CONSTPORT} from \"../ConstantNames\";\nimport {BinaryLinkModel} from \"../../links/binary/BinaryLinkModel\";\n\nexport interface ConstantNodeModelGenerics {\n\tPORT: ConstantPortModel;\n\tOPTIONS: ConstantNodeModelOptions;\n}\n\nexport interface ConstantNodeModelOptions extends BasePositionModelOptions {\n\tname?: string;\n\tcolor?: string;\n\treduxProps?:any;\n}\n\nexport class ConstantNodeModel extends NodeModel<NodeModelGenerics & ConstantNodeModelGenerics> {\n\tmainPort:ConstantPortModel;\n\teditable:boolean;\n\n\tconstructor(name: string, color: string,reduxProps:any);\n\tconstructor(options?: ConstantNodeModelOptions);\n\tconstructor(options: any = {}, color?: string, reduxProps?:any) {\n\t\tif (typeof options === 'string') {\n\t\t\toptions = {\n\t\t\t\tname: options,\n\t\t\t\tpreviousName:options,\n\t\t\t\tcolor: color,\n\t\t\t\treduxProps:reduxProps\n\t\t\t};\n\t\t}\n\t\tsuper({\n\t\t\ttype: 'constant',\n\t\t\tname: 'Untitled',\n\t\t\tcolor: 'rgb(92,192,125)',\n\t\t\t...options\n\t\t});\n\n\t\tthis.mainPort = this.setUpConstantPort();\n\t\tthis.editable = reduxProps[\"editable\"];\n\t\tthis.registerEvents();\n\t}\n\n\tsetUpConstantPort(){\n\t\tlet port: ConstantPortModel = new ConstantPortModel(CONSTPORT);\n\t\tthis.addPort(port);\n\t\treturn port;\n\t}\n\n\tremoveAllLinks(){\n\t\tfor (let link of _.values(this.getMainPort().getLinks())) {\n\t\t\tlink.remove();\n\t\t}\n\t}\n\n\tgetReduxProps(){\n\t\treturn this.options.reduxProps;\n\t}\n\n\tisEditable():boolean{\n\t\treturn this.editable;\n\t}\n\n\tchangeEditableState(value:boolean){\n\t\tthis.editable = value;\n\t}\n\n\tsetConstantValueInMathView(domainNodeName:string){\n\t\tthis.options.reduxProps[\"setConstantValueFromLink\"](this.getNodeName(),domainNodeName);\n\t}\n\n\tremoveNodeFromMathView(){\n\t\tthis.options.reduxProps[\"removeConstantNode\"](this.getNodeName());\n\t}\n\n\n\tregisterEvents(){\n\t\tlet node = this;\n\t\tthis.registerListener({\n\t\t\tentityRemoved(event: any): void {\n\t\t\t\tfor (let link of _.values(node.getMainPort().getLinks())) {\n\t\t\t\t\tif(link instanceof BinaryLinkModel){\n\t\t\t\t\t\tlink.setCallReduxFunc(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnode.removeNodeFromMathView();\n\t\t\t}\n\t\t})\n\t}\n\n\tgetMainPort(): ConstantPortModel {\n\t\treturn this.mainPort;\n\t}\n\n\tgetNodeName(){\n\t\treturn this.options.name;\n\t}\n\n\trenameNode(name:string){\n\t\tthis.options.name = name;\n\t}\n\n\tremovePort(port: ConstantPortModel): void {\n\t\tfor (let link of _.values(port.getLinks())) {\n\t\t\tlink.remove();\n\t\t}\n\t\t//clear the parent node reference\n\t\tif (this.ports[port.getName()]) {\n\t\t\tthis.ports[port.getName()].setParent(null);\n\t\t\tdelete this.ports[port.getName()];\n\t\t}\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\teditable: this.editable\n\t\t};\n\t}\n\n\tdeserialize(event: any) {\n\t\tsuper.deserialize(event);\n\t\tthis.editable = event.data.editable;\n\t}\n}\n","import {BasePositionModelOptions} from \"@projectstorm/react-canvas-core\";\nimport {NodeModel, NodeModelGenerics, PortModelAlignment} from \"@projectstorm/react-diagrams\";\nimport {UnBinaryPortModel} from \"./unbinary/UnBinaryPortModel\";\nimport _ from \"lodash\";\nimport {NaryRelationPortModel} from \"./NaryRelationPortModel\";\nimport {UnBinaryNodeModel} from \"./unbinary/UnBinaryNodeModel\";\nimport {ADDPORT, FUNCTION, PREDICATE} from \"./ConstantNames\";\nimport {functionIsAlreadyDefinedForGivenFunction} from \"./functions\";\n\nexport interface BaseNodeModelGenerics {\n    PORT: NaryRelationPortModel;\n    OPTIONS: BaseNodeModelOptions;\n}\n\nexport interface BaseNodeModelOptions extends BasePositionModelOptions {\n    name?: string;\n    color?: string;\n    numberOfPorts: number;\n    reduxProps:any;\n}\n\nexport class BaseNodeModel extends NodeModel<NodeModelGenerics & BaseNodeModelGenerics> {\n    changeCounter: number;\n    editable:boolean;\n    predicates: Set<string>;\n    functions: Set<string>;\n    parameterPorts: Map<NaryRelationPortModel,UnBinaryNodeModel>;\n    parameterPortsArray: Array<NaryRelationPortModel>;\n    appendPort: NaryRelationPortModel;\n\n    constructor(options?: BaseNodeModelOptions);\n    constructor(options: any = {}) {\n        super({\n            ...options\n        });\n\n        this.changeCounter = 0;\n        this.predicates = new Set();\n        this.functions = new Set();\n        this.parameterPorts = new Map<NaryRelationPortModel,UnBinaryNodeModel>();\n        this.parameterPortsArray = new Array<NaryRelationPortModel>(this.getNumberOfPorts());\n        this.editable = this.getReduxProps()[\"editable\"];\n        this.registerEvents();\n        this.registerParameterPorts();\n        this.registerAppendPort();\n    }\n\n    registerParameterPorts(){\n        let directions = [PortModelAlignment.LEFT,PortModelAlignment.RIGHT,PortModelAlignment.TOP,PortModelAlignment.BOTTOM];\n        for(let i = 0;i<this.getNumberOfPorts();i++){\n            let port = this.addPort(new NaryRelationPortModel(\"port\"+i,directions[i]));\n            this.parameterPorts.set(port,null);\n            this.parameterPortsArray[i] = port;\n        }\n    }\n\n    getNodeNameCombination(){\n        let value:any = [];\n        for(let i = 0; i<this.parameterPortsArray.length;i++){\n            let portValue:UnBinaryNodeModel = this.parameterPorts.get(this.parameterPortsArray[i]);\n            if(!portValue){\n                return null;\n            }\n            value.push(portValue.getNodeName());\n        }\n        return value;\n    }\n\n    getNodeParameters(){\n        let value:any = [];\n        for(let i = 0; i<this.parameterPortsArray.length;i++){\n            let portValue:UnBinaryNodeModel = this.parameterPorts.get(this.parameterPortsArray[i]);\n            if(!portValue){\n                return null;\n            }\n            if(i!==this.parameterPortsArray.length-1){\n                value.push(portValue.getNodeName());\n            }\n        }\n        return value;\n    }\n\n    getFunctionValue():string{\n        if(this.getNodeNameCombination()){\n            return this.parameterPorts.get(this.parameterPortsArray[this.parameterPortsArray.length-1]).getNodeName();\n        }\n        return null;\n    }\n\n    getValueOfPort(port:NaryRelationPortModel){\n        if(this.parameterPorts.has(port)){\n            return this.parameterPorts.get(port);\n        }\n        return null;\n    }\n\n    getValueNameOfPort(port:NaryRelationPortModel){\n        if(this.parameterPorts.has(port)){\n            return this.parameterPorts.get(port).getNodeName();\n        }\n        return null;\n    }\n\n    removeValueFromPort(port:NaryRelationPortModel){\n        this.parameterPorts.set(port,null);\n    }\n\n    setValueToPort(port:NaryRelationPortModel,valueNode:UnBinaryNodeModel){\n        this.parameterPorts.set(port,valueNode);\n    }\n\n    increaseChangeCounter(){\n        this.changeCounter+=1;\n    }\n\n    getNumberOfPorts(){\n        return this.getOptions().numberOfPorts;\n    }\n\n    clearPredicates() {\n        this.predicates = new Set();\n        this.increaseChangeCounter();\n    }\n\n    clearFunctions() {\n        this.functions = new Set();\n        this.increaseChangeCounter();\n    }\n\n    getPredicates() {\n        return this.predicates;\n    }\n\n    getFunctions(){\n        return this.functions;\n    }\n\n    removePort(port: UnBinaryPortModel): void {\n        for (let link of _.values(port.getLinks())) {\n            link.remove();\n        }\n        //clear the parent node reference\n        if (this.ports[port.getName()]) {\n            this.ports[port.getName()].setParent(null);\n            delete this.ports[port.getName()];\n        }\n    }\n\n    serialize() {\n        return {\n            ...super.serialize(),\n            changeCounter: this.changeCounter,\n            editable: this.editable\n        };\n    }\n\n    getPortByIndex(index:number){\n        if(index<0 || index>= this.getNumberOfPorts()){\n            return null;\n        }\n        return this.parameterPortsArray[index];\n    }\n\n    deserialize(event: any) {\n        super.deserialize(event);\n        this.changeCounter = event.date.changeCounter;\n        this.editable = event.data.editable;\n    }\n\n    registerEvents() {\n        let node = this;\n        this.registerListener({\n            entityRemoved(): void {\n                node.removeNodeFromMathView();\n                node.removeNodeFromGraphView();\n            }\n        })\n    }\n\n    removeNodeFromGraphView(){\n        throw new Error(\"This method should be implemented in child\");\n    }\n\n    changeEditableState(value:boolean){\n        this.editable = value;\n    }\n\n    getNodeName() {\n        return this.getOptions().name;\n    }\n\n    getAppendPort(){\n        return this.appendPort;\n    }\n\n    renameNode(name: string) {\n        this.getOptions().name = name;\n    }\n\n    isEditable():boolean{\n        return this.editable;\n    }\n\n    addPredicateToSet(name: string){\n        this.predicates.add(name);\n        this.increaseChangeCounter();\n    }\n\n    addFunctionToSet(name: string){\n        this.functions.add(name);\n        this.increaseChangeCounter();\n    }\n\n    removePredicateFromSet(name: string){\n        this.predicates.delete(name);\n        this.increaseChangeCounter();\n    }\n\n    removeFunctionFromSet(name: string){\n        this.functions.delete(name);\n        this.increaseChangeCounter();\n    }\n\n    addPredicate(name:string){\n        name = name.replace(/\\s/g, \"\");\n        if (!this.predicates.has(name)) {\n            this.addPredicateToSet(name);\n            this.addElementToMathView(name,PREDICATE);\n        }\n    }\n\n    addFunction(name: string) {\n        name = name.replace(/\\s/g, \"\");\n        if (!this.functions.has(name)) {\n            this.addFunctionToSet(name);\n            this.addElementToMathView(name,FUNCTION);\n        }\n    }\n\n    removePredicate(name:string){\n        if(this.predicates.has(name)){\n            this.removeElementFromMathView(name,PREDICATE);\n        }\n        this.removePredicateFromSet(name);\n    }\n\n    removeFunction(name:string){\n        if(this.functions.has(name)){\n            this.removeElementFromMathView(name,FUNCTION);\n        }\n        this.removeFunctionFromSet(name);\n    }\n\n    removeNodeFromMathView(){\n        for(let predicate of this.getPredicates()){\n            this.removeElementFromMathView(predicate,PREDICATE);\n        }\n        for(let func of this.getFunctions()){\n            this.removeElementFromMathView(func,FUNCTION);\n        }\n    }\n\n    representNodeInMathView(){\n        for(let predicate of this.getPredicates()){\n            this.addElementToMathView(predicate,PREDICATE);\n        }\n        let functionsToDelete:Set<string> = new Set();\n        for(let func of this.getFunctions()){\n            if(!functionIsAlreadyDefinedForGivenFunction(this.getNodeParameters(),this.getFunctionValue(),func+\"/\"+(this.getNumberOfPorts()-1).toString(),this.getReduxProps())){\n                this.addElementToMathView(func,FUNCTION);\n            }\n            else{\n                functionsToDelete.add(func);\n            }\n        }\n        for(let func of functionsToDelete){\n            this.removeFunctionFromSet(func);\n        }\n    }\n\n    addElementToMathView(name:string,type:string){\n        throw new Error(\"This method should be implemented in child\");\n    }\n\n    removeElementFromMathView(name:string,type:string){\n        throw new Error(\"This method should be implemented in child\");\n    }\n\n    getReduxProps(){\n        return this.getOptions().reduxProps;\n    }\n\n    registerAppendPort() {\n        let port = new NaryRelationPortModel(ADDPORT);\n        port.setMaximumLinks(0);\n        this.addPort(port);\n        this.appendPort = port;\n    }\n}","import {BaseNodeModel, BaseNodeModelOptions} from \"../BaseNodeModel\";\nimport {PREDICATE} from \"../ConstantNames\";\n\nexport class TernaryNodeModel extends BaseNodeModel {\n\n\tconstructor(options?: BaseNodeModelOptions);\n\tconstructor(options: any = {}) {\n\t\tsuper({\n\t\t\ttype: 'ternary',\n\t\t\t...options\n\t\t});\n\t}\n\n\tremoveElementFromMathView(name: string, type: string) {\n\t\tlet removeElementFunction = type === PREDICATE?this.getReduxProps()[\"removeTernaryPredicate\"]:this.getReduxProps()[\"removeBinaryFunction\"];\n\t\tremoveElementFunction(name,this.getNodeNameCombination());\n\t}\n\n\taddElementToMathView(name:string,type:string){\n\t\tlet addElementFunction = type === PREDICATE?this.getReduxProps()[\"addTernaryPredicate\"]:this.getReduxProps()[\"addBinaryFunction\"];\n\t\taddElementFunction(name,this.getNodeNameCombination());\n\t}\n\n\tremoveNodeFromGraphView(){\n\t\tthis.getReduxProps()[\"removeTernaryNode\"](this.getNodeName());\n\t}\n}\n","import {BaseNodeModel, BaseNodeModelOptions} from \"../BaseNodeModel\";\nimport {PREDICATE} from \"../ConstantNames\";\n\nexport class QuaternaryNodeModel extends BaseNodeModel {\n\n\tconstructor(options?: BaseNodeModelOptions);\n\tconstructor(options: any = {}) {\n\t\tsuper({\n\t\t\ttype: 'quaternary',\n\t\t\t...options\n\t\t});\n\t}\n\n\tremoveElementFromMathView(name: string, type: string) {\n\t\tlet removeElementFunction = type === PREDICATE?this.getReduxProps()[\"removeQuaternaryPredicate\"]:this.getReduxProps()[\"removeTernaryFunction\"];\n\t\tremoveElementFunction(name,this.getNodeNameCombination());\n\t}\n\n\taddElementToMathView(name:string,type:string){\n\t\tlet addElementFunction = type === PREDICATE?this.getReduxProps()[\"addQuaternaryPredicate\"]:this.getReduxProps()[\"addTernaryFunction\"];\n\t\taddElementFunction(name,this.getNodeNameCombination());\n\t}\n\n\tremoveNodeFromGraphView(){\n\t\tthis.getReduxProps()[\"removeQuaternaryNode\"](this.getNodeName());\n\t}\n}\n","import {\n\tLabelModel,\n\tLinkModel,\n\tLinkModelGenerics,\n\tLinkModelListener,\n\tPortModel,\n\tPortModelAlignment\n} from '@projectstorm/react-diagrams-core';\nimport { BezierCurve } from '@projectstorm/geometry';\nimport { BaseEntityEvent, BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\nimport {BinaryLabelModel} from \"../../labels/binary/BinaryLabelModel\";\nimport {UnBinaryNodeModel} from \"../../nodes/unbinary/UnBinaryNodeModel\";\nimport {ConstantNodeModel} from \"../../nodes/constant/ConstantNodeModel\";\nimport {ConstantPortModel} from \"../../nodes/constant/ConstantPortModel\";\nimport {BASIC_CURVYNESS} from \"../../nodes/ConstantNames\";\nimport {BaseNodeModel} from \"../../nodes/BaseNodeModel\";\nimport {TernaryNodeModel} from \"../../nodes/ternary/TernaryNodeModel\";\nimport {QuaternaryNodeModel} from \"../../nodes/quaternary/QuaternaryNodeModel\";\nimport {NaryRelationPortModel} from \"../../nodes/NaryRelationPortModel\";\nimport { DiagramModel } from '@projectstorm/react-diagrams';\n\nexport interface BinaryLinkModelListener extends LinkModelListener {\n\t// @ts-ignore\n\tcolorChanged?(event: BaseEntityEvent<BinaryLinkModel> & { color: null | string }): void;\n\n\t// @ts-ignore\n\twidthChanged?(event: BaseEntityEvent<BinaryLinkModel> & { width: 0 | number }): void;\n\n\t// @ts-ignore\n\tentityRemoved?(event: BaseEntityEvent<BinaryLinkModel>): void;\n}\n\nexport interface BinaryLinkModelOptions extends BaseModelOptions {\n\twidth?: number;\n\tcolor?: string;\n\tselectedColor?: string;\n\tcurvyness?: number;\n\ttype?: string;\n\ttestName?: string;\n}\n\nexport interface BinaryLinkModelGenerics extends LinkModelGenerics {\n\tLISTENER: BinaryLinkModelListener;\n\tOPTIONS: BinaryLinkModelOptions;\n}\n\nexport class BinaryLinkModel extends LinkModel<BinaryLinkModelGenerics> {\n\tlabel:BinaryLabelModel;\n\tcallReduxFunc:boolean;\n\tchangeCounter: number;\n\n\tconstructor(options: BinaryLinkModelOptions = {},canCallReduxFunc:boolean = true) {\n\t\tsuper({\n\t\t\ttype: 'binary',\n\t\t\twidth: options.width || 3,\n\t\t\tcolor: options.color || 'gray',\n\t\t\tselectedColor: options.selectedColor || 'rgb(0,192,255)',\n\t\t\tcurvyness: 0,\n\t\t\t...options\n\t\t});\n\n\t\tthis.changeCounter = 0;\n\t\tthis.callReduxFunc = canCallReduxFunc;\n\t\tlet link:BinaryLinkModel = this;\n\t\tlet removeLinkIfCondition = (port:PortModel,link:LinkModel) =>{\n\t\t\tlet numberOfLinks: number = Object.keys(port.getLinks()).length;\n\t\t\tif (numberOfLinks > 1) {\n\t\t\t\tfor (let linkObject of Object.values(port.getLinks())) {\n\t\t\t\t\tif (linkObject !== link) {\n\t\t\t\t\t\tlinkObject.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tlet existNodeWithSameCombination = (nodeCombination:[string],diagramModel:DiagramModel,naryNode:BaseNodeModel) => {\n\t\t\tfor(let node of Object.values(diagramModel.getNodes())){\n\t\t\t\tif((node instanceof TernaryNodeModel || node instanceof QuaternaryNodeModel) && naryNode !== node){\n\t\t\t\t\tif(JSON.stringify(node.getNodeNameCombination()) === JSON.stringify(nodeCombination)){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\n\t\t};\n\t\t// @ts-ignore\n\t\tthis.registerListener({\n\t\t\ttargetPortChanged(event: BaseEntityEvent<LinkModel> & { port: PortModel | null }): void {\n\t\t\t\tif (link.getTargetPort() === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet sourceNode = link.getSourcePort().getNode();\n\t\t\t\tlet targetNode = link.getTargetPort().getNode();\n\n\t\t\t\tif (sourceNode instanceof UnBinaryNodeModel && targetNode instanceof UnBinaryNodeModel) {\n\t\t\t\t\tif(sourceNode === targetNode) {\n\t\t\t\t\t\tlink.getOptions().curvyness = BASIC_CURVYNESS;\n\t\t\t\t\t\tsourceNode.canSelectNode = false;\n\t\t\t\t\t\t}\n\t\t\t\t\tlink.label = new BinaryLabelModel({},sourceNode.getOptions().reduxProps,sourceNode.getNodeName()+\" - \"+targetNode.getNodeName());\n\t\t\t\t\tlink.addLabel(link.label);\n\t\t\t\t\treturn;\n\n\t\t\t\t} else if ((sourceNode instanceof UnBinaryNodeModel && targetNode instanceof ConstantNodeModel) || (targetNode instanceof UnBinaryNodeModel && sourceNode instanceof ConstantNodeModel)) {\n\t\t\t\t\tlet constantNode: ConstantNodeModel = sourceNode instanceof ConstantNodeModel ? sourceNode : targetNode instanceof ConstantNodeModel ? targetNode : null;\n\t\t\t\t\tlet unbinaryNode: UnBinaryNodeModel = sourceNode instanceof UnBinaryNodeModel ? sourceNode : targetNode instanceof UnBinaryNodeModel ? targetNode : null;\n\n\t\t\t\t\tlet constantPort: ConstantPortModel = constantNode.getMainPort();\n\n\t\t\t\t\tif (constantPort === null || constantPort === undefined) {\n\t\t\t\t\t\tthrow new Error(\"Constant port can not be null, probably problem in initialization\");\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveLinkIfCondition(constantPort,link);\n\n\t\t\t\t\t//When link is created through Redux Action, another Action would be called and error would be thrown, so if it is created with some Redux Action we will not allow this Action to be dispatched\n\t\t\t\t\tif(link.isCallReduxFunc()){\n\t\t\t\t\t\tconstantNode.setConstantValueInMathView(unbinaryNode.getNodeName());\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tlink.setCallReduxFunc(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse if((sourceNode instanceof UnBinaryNodeModel && (targetNode instanceof TernaryNodeModel || targetNode instanceof QuaternaryNodeModel)) || ((sourceNode instanceof TernaryNodeModel || sourceNode instanceof QuaternaryNodeModel) && targetNode instanceof UnBinaryNodeModel)){\n\t\t\t\t\tlet unbinaryNode: UnBinaryNodeModel = sourceNode instanceof UnBinaryNodeModel ? sourceNode : targetNode instanceof UnBinaryNodeModel ? targetNode : null;\n\t\t\t\t\tlet naryNode:BaseNodeModel = (sourceNode instanceof TernaryNodeModel || sourceNode instanceof QuaternaryNodeModel)?sourceNode:(targetNode instanceof TernaryNodeModel || targetNode instanceof QuaternaryNodeModel)?targetNode:null;\n\t\t\t\t\tlet naryPort: NaryRelationPortModel = link.getSourcePort() instanceof NaryRelationPortModel?link.getSourcePort():link.getTargetPort() instanceof NaryRelationPortModel?link.getTargetPort():null;\n\t\t\t\t\tlet previousCombination:any = naryNode.getNodeNameCombination();\n\n\t\t\t\t\tif(naryNode && previousCombination){\n\t\t\t\t\t\tnaryNode.removeNodeFromMathView();\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveLinkIfCondition(naryPort,link);\n\t\t\t\t\tnaryNode.setValueToPort(naryPort,unbinaryNode);\n\t\t\t\t\tlet naryNodeCombination = naryNode.getNodeNameCombination();\n\t\t\t\t\tif(naryNodeCombination){\n\t\t\t\t\t\tif(existNodeWithSameCombination(naryNodeCombination,link.getSourcePort().getNode().getParent(),naryNode)){\n\t\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tnaryNode.representNodeInMathView();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tentityRemoved(event:any): void {\n\t\t\t\tif(!link.isCallReduxFunc() || !link.getTargetPort()){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet sourceNode = link.getSourcePort().getNode();\n\t\t\t\tlet targetNode = link.getTargetPort().getNode();\n\n\t\t\t\tlet constantNode: ConstantNodeModel = sourceNode  instanceof ConstantNodeModel ? sourceNode : targetNode instanceof ConstantNodeModel ? targetNode : null;\n\t\t\t\tlet naryNode:BaseNodeModel = (sourceNode instanceof TernaryNodeModel || sourceNode instanceof QuaternaryNodeModel)?sourceNode:(targetNode instanceof TernaryNodeModel || targetNode instanceof QuaternaryNodeModel)?targetNode:null;\n\n\n\t\t\t\tif(constantNode){\n\t\t\t\t\tconstantNode.setConstantValueInMathView(\"\");\n\t\t\t\t}\n\t\t\t\telse if(naryNode){\n\t\t\t\t\tlet naryPort:NaryRelationPortModel = targetNode === naryNode?link.getTargetPort():link.getSourcePort();\n\t\t\t\t\tif(naryNode.getNodeNameCombination()){\n\t\t\t\t\t\tnaryNode.removeNodeFromMathView();\n\t\t\t\t\t\tnaryNode.removeValueFromPort(naryPort);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(link.label){\n\t\t\t\t\t\tlink.label.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tsetCurvyness(num:number){\n\t\tthis.getOptions().curvyness = num;\n\t}\n\n\tincreaseChangeCounter(){\n\t\tthis.changeCounter+=1;\n\t}\n\n\tsetCallReduxFunc(value:boolean){\n\t\tthis.callReduxFunc = value;\n\t}\n\n\tisCallReduxFunc(){\n\t\treturn this.callReduxFunc;\n\t}\n\n\tcalculateControlOffset(port: PortModel): [number, number] {\n\t\tif (port.getOptions().alignment === PortModelAlignment.RIGHT) {\n\t\t\treturn [this.options.curvyness, 0];\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.LEFT) {\n\t\t\treturn [-this.options.curvyness, 0];\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.TOP) {\n\t\t\treturn [0, -this.options.curvyness];\n\t\t}\n\t\treturn [0, this.options.curvyness];\n\t}\n\n\tgetLabel(){\n\t\treturn this.label;\n\t}\n\n\tgetSVGPath(): string {\n\t\tif (this.points.length == 2) {\n\t\t\tconst curve = new BezierCurve();\n\t\t\tcurve.setSource(this.getFirstPoint().getPosition());\n\t\t\tcurve.setTarget(this.getLastPoint().getPosition());\n\t\t\tcurve.setSourceControl(\n\t\t\t\tthis.getFirstPoint()\n\t\t\t\t\t.getPosition()\n\t\t\t\t\t.clone()\n\t\t\t);\n\t\t\tcurve.setTargetControl(\n\t\t\t\tthis.getLastPoint()\n\t\t\t\t\t.getPosition()\n\t\t\t\t\t.clone()\n\t\t\t);\n\n\t\t\tif (this.sourcePort) {\n\t\t\t\tcurve.getSourceControl().translate(...this.calculateControlOffset(this.getSourcePort()));\n\t\t\t}\n\n\t\t\tif (this.targetPort) {\n\t\t\t\tcurve.getTargetControl().translate(...this.calculateControlOffset(this.getTargetPort()));\n\t\t\t}\n\t\t\treturn curve.getSVGCurve();\n\t\t}\n\t}\n\n\tclearLabels() {\n\t\tif (this.label) {\n\t\t\tlet label = new BinaryLabelModel({},this.label.getReduxProps());\n\n\t\t\tlabel.changeCounter = this.label.changeCounter;\n\t\t\tlabel.predicates = this.label.predicates;\n\t\t\tlabel.editable = this.label.editable;\n\n\t\t\tthis.label.setParent(null);\n\t\t\tdelete this.label;\n\n\t\t\tthis.labels = [];\n\n\t\t\tthis.label = label;\n\t\t}\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\twidth: this.options.width,\n\t\t\tcolor: this.options.color,\n\t\t\tcurvyness: this.options.curvyness,\n\t\t\tselectedColor: this.options.selectedColor,\n\t\t\tchangeCounter: this.changeCounter\n\t\t};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.color = event.data.color;\n\t\tthis.options.width = event.data.width;\n\t\tthis.options.curvyness = event.data.curvyness;\n\t\tthis.options.selectedColor = event.data.selectedColor;\n\t\tthis.changeCounter = event.data.changeCounter;\n\t}\n\n\taddLabel(label: LabelModel | string) {\n\t\tif (label instanceof LabelModel) {\n\t\t\t\treturn super.addLabel(label);\n\t\t\t}\n\t\tlet labelOb = new BinaryLabelModel();\n\t\tlabelOb.setLabel(label);\n\t\treturn super.addLabel(labelOb);\n\t}\n\n\tsetWidth(width: number) {\n\t\tthis.options.width += width;\n\t\tthis.fireEvent({ width }, 'widthChanged');\n\t}\n\n\tsetColor(color: string) {\n\t\tthis.options.color = color;\n\t\tthis.fireEvent({ color }, 'colorChanged');\n\t}\n\n\tremove() {\n\t\tif (this.sourcePort) {\n\t\t\tthis.sourcePort.removeLink(this);\n\t\t}\n\t\tif (this.targetPort) {\n\t\t\tthis.targetPort.removeLink(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n}\n","import {LinkModel, PortModelAlignment, PortModel} from '@projectstorm/react-diagrams';\nimport _ from \"lodash\";\nimport {BinaryLinkModel} from \"../../links/binary/BinaryLinkModel\";\nimport {ADDPORT} from \"../ConstantNames\";\n\nexport class UnBinaryPortModel extends PortModel {\n\tconstructor(name: string) {\n\t\tsuper({\n\t\t\ttype: 'unbinary',\n\t\t\tname: name,\n\t\t\talignment: PortModelAlignment.LEFT\n\t\t});\n\t}\n\n\tsetPortAlignment(alignment:PortModelAlignment){\n\t\tthis.getOptions().alignment = alignment;\n\t}\n\n\tcreateLinkModel(): LinkModel {\n\t\tif(this.getMaximumLinks()=== 0){\n\t\t\treturn null;\n\t\t}\n\t\treturn new BinaryLinkModel();\n\t}\n\n\tremoveBadLink(){\n\t\tfor (let link of _.values(this.getLinks())) {\n\t\t\tif (link.getSourcePort() !== null && link.getTargetPort() === null) {\n\t\t\t\tlink.remove();\n\t\t\t}\n\t\t}\n\t}\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\tfor (let link of _.values(this.getLinks())) {\n\t\t\tif ((link.getSourcePort() === this && link.getTargetPort() === port) || (link.getSourcePort() === port && link.getTargetPort() === this)) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis.getParent().canSelectNode = false;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tif (this.getParent() === port.getParent()) {\n\t\t\treturn this !== port;\n\t\t}\n\n\t\tif(port.getName() === ADDPORT){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(port.getParent().getOptions().type==='constant') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\taddLink(link: LinkModel) {\n\t\tthis.links[link.getID()] = link;\n\t}\n\n}\n","import {NodeModel, NodeModelGenerics} from '@projectstorm/react-diagrams';\nimport {UnBinaryPortModel} from './UnBinaryPortModel';\nimport {BasePositionModelOptions} from '@projectstorm/react-canvas-core';\nimport _ from 'lodash';\nimport {ADDPORT, MAINPORT} from \"../ConstantNames\";\n\nexport interface UnBinaryNodeModelGenerics {\n\tPORT: UnBinaryPortModel;\n\tOPTIONS: UnBinaryNodeModelOptions;\n}\n\nexport interface UnBinaryNodeModelOptions extends BasePositionModelOptions {\n\tname?: string;\n\tcolor?: string;\n\treduxProps:any;\n\tdomainNodeName:any;\n}\n\nexport class UnBinaryNodeModel extends NodeModel<NodeModelGenerics & UnBinaryNodeModelGenerics> {\n\tchangeCounter: number;\n\tunaryPredicates: Set<string>;\n\tappendPort: UnBinaryPortModel;\n\tmainPort: UnBinaryPortModel;\n\teditable:boolean;\n\tcanSelectNode:boolean;\n\n\tconstructor(name: string, color: string, reduxProps: any);\n\tconstructor(options?: UnBinaryNodeModelOptions);\n\tconstructor(options: any = {}, color?: string, reduxProps?: any) {\n\t\tif (typeof options === 'string') {\n\t\t\toptions = {\n\t\t\t\tname: options,\n\t\t\t\tcolor: color,\n\t\t\t\treduxProps: reduxProps,\n\t\t\t};\n\t\t}\n\t\tsuper({\n\t\t\ttype: 'unbinary',\n\t\t\tname: 'Untitled',\n\t\t\tcolor: 'rgb(92,192,125)',\n\t\t\t...options\n\t\t});\n\t\tthis.addTemplatePorts();\n\t\tthis.registerEvents();\n\t\tthis.changeCounter = 0;\n\t\tthis.unaryPredicates = new Set();\n\t\tthis.canSelectNode = true;\n\t\tthis.editable = reduxProps[\"editable\"];\n\t}\n\n\taddPredicate(name:string){\n\t\tthis.addUnaryPredicate(name);\n\t}\n\n\tgetReduxProps(){\n\t\treturn this.getOptions().reduxProps;\n\t}\n\n\tgetPredicates(){\n\t\treturn this.unaryPredicates;\n\t}\n\n\tgetMainPort():UnBinaryPortModel{\n\t\treturn this.mainPort;\n\t}\n\n\tisEditable():boolean{\n\t\treturn this.editable;\n\t}\n\n\tchangeEditableState(value:boolean){\n\t\tthis.editable = value;\n\t}\n\n\taddTemplatePorts() {\n\t\tlet port:UnBinaryPortModel = new UnBinaryPortModel(ADDPORT);\n\t\tthis.appendPort = port;\n\t\tport.setMaximumLinks(0);\n\t\tthis.addPort(port);\n\n\t\tport = new UnBinaryPortModel(MAINPORT);\n\t\t//port.setPortAlignment(PortModelAlignment.TOP);\n\t\tthis.mainPort = port;\n\t\tthis.addPort(port);\n\t}\n\n\tregisterEvents() {\n\t\tlet node = this;\n\t\tthis.registerListener({\n\t\t\tentityRemoved(): void {\n\t\t\t\tnode.removeNodeFromMathView();\n\t\t\t}\n\t\t})\n\t}\n\n\tclearPredicates() {\n\t\tthis.unaryPredicates = new Set();\n\t\tthis.increaseChangeCounter();\n\t}\n\n\tgetUnaryPredicates() {\n\t\treturn this.unaryPredicates;\n\t}\n\n\tincreaseChangeCounter(){\n\t\tthis.changeCounter+=1;\n\t}\n\n\taddUnaryPredicateToSet(name: string){\n\t\tthis.unaryPredicates.add(name);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\taddUnaryPredicate(name: string) {\n\t\tname = name.replace(/\\s/g, \"\");\n\t\tif (!this.unaryPredicates.has(name)) {\n\t\t\tthis.getReduxProps()[\"addUnaryPredicate\"](name, this.getNodeName());\n\t\t\tthis.addUnaryPredicateToSet(name);\n\t\t}\n\t}\n\n\tremoveUnaryPredicate(name: string) {\n\t\tif (this.unaryPredicates.has(name)) {\n\t\t\tthis.removeUnaryPredicateFromSet(name);\n\t\t\tthis.getReduxProps()[\"removeUnaryPredicate\"](name, this.getNodeName());\n\t\t}\n\t}\n\n\tremoveNodeFromMathView(){\n\t\tfor(let unaryPredicate of this.unaryPredicates){\n\t\t\tthis.getReduxProps()[\"removeUnaryPredicate\"](unaryPredicate, this.getNodeName());\n\t\t}\n\t\tthis.getReduxProps()[\"removeDomainNode\"](this.getNodeName());\n\t}\n\n\tremoveUnaryPredicateFromSet(name: string){\n\t\tthis.unaryPredicates.delete(name);\n\t\tthis.increaseChangeCounter();\n\t}\n\n\tgetNodeName() {\n\t\treturn this.getOptions().name;\n\t}\n\n\tgetAppendPort() {\n\t\treturn this.appendPort;\n\t}\n\n\trenameNode(name: string) {\n\t\tthis.getOptions().name = name;\n\t}\n\n\tremovePort(port: UnBinaryPortModel): void {\n\t\tfor (let link of _.values(port.getLinks())) {\n\t\t\tlink.remove();\n\t\t}\n\t\t//clear the parent node reference\n\t\tif (this.ports[port.getName()]) {\n\t\t\tthis.ports[port.getName()].setParent(null);\n\t\t\tdelete this.ports[port.getName()];\n\t\t}\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tchangeCounter: this.changeCounter,\n\t\t\tappendPort: this.appendPort,\n\t\t\teditable: this.editable\n\t\t};\n\t}\n\n\tdeserialize(event: any) {\n\t\tsuper.deserialize(event);\n\t\tthis.changeCounter = event.date.changeCounter;\n\t\tthis.appendPort = event.data.appendPort;\n\t\tthis.editable = event.data.editable;\n\t}\n}","import * as React from 'react';\nimport { DiagramEngine, PortWidget } from '@projectstorm/react-diagrams-core';\nimport styled from '@emotion/styled';\nimport { DefaultPortModel } from '@projectstorm/react-diagrams';\n\nexport interface DefaultPortLabelProps {\n    port: DefaultPortModel;\n    engine: DiagramEngine;\n    width: number;\n}\n\nexport const PortLabel = styled.div`\n\t\tdisplay: flex;\n\t\tmargin-top: 1px;\n\t\talign-items: center;\n\t\twidth:100%;\n`;\n\nexport const Label = styled.div`\n\t\tpadding: 0 5px;\n\t\tflex-grow: 1;\n`;\n\nexport const Port = styled.div<{ width: number; height: number }>`\n        font-size: 11px;\n        flex:auto;\n\t\theight: ${p => p.height}px;\n\t\tbackground: rgba(white, 0.1);\n\t\ttext-align:center;\n\t\t\n\t\t&:hover {\n\t\t\tbackground: rgba(256, 256, 256, 0.6);\n\t\t}\n\t\tcursor:pointer;\n\t`;\n\nexport class UnBinaryPortLabelWidget extends React.Component<DefaultPortLabelProps> {\n    render() {\n        const port = (\n            <PortWidget engine={this.props.engine} port={this.props.port}>\n                <Port width={this.props.width} height={20} />\n            </PortWidget>\n        );\n        const label = <Label>{this.props.port.getOptions().label}</Label>;\n\n        return (\n            <PortLabel>\n                {port}\n           </PortLabel>\n        );\n    }\n}\n","import styled from \"@emotion/styled\";\nimport _ from 'lodash';\nimport * as React from 'react';\nimport FontAwesome from \"react-fontawesome\";\nimport { DiagramEngine } from \"@projectstorm/react-diagrams\";\nimport {ADDFUNC, ADDPRED, FROM, FUNCTION, PREDICATE, TO} from \"./ConstantNames\";\nimport {\n    canUseNameForGivenArityAndType, functionIsAlreadyDefinedForGivenFunction,\n    getAvailableLanguageElementForGivenArity,\n    setPredFuncBadNameIfRegexViolated\n} from \"./functions\";\nimport {BinaryLabelModel} from \"../labels/binary/BinaryLabelModel\";\nimport { Button } from \"react-bootstrap\";\n\nexport const DropDownModel = styled.div<{pointerEvents: string, cursor:string}>`\n\t\twidth: 100%;\n\t\tpointer-events: ${p => p.pointerEvents};\n\t\tcursor: ${p => p.cursor};\n\t\tbackground-color: green;\n\t\tborder-radius: 5px;\n\t\tfont-family: sans-serif;\n\t\tfont-weight: bold;\n\t\tcolor: black;\n\t\toverflow: visible;\n\t\tfont-size: 13px;\n\t\tborder: solid 2px black;\n\t`;\n\nexport const DropDownPorts = styled.div`\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(256, 256, 256, 0.9), rgba(256, 256, 256, 0.9));\n\t`;\n\nexport const DropDownTitleName = styled.div`\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tpadding: 3px 3px;\n\t\tfont-size:11px;\n\t\ttext-align:center;\n\t\tcursor: context-menu;\n\t`;\n\nexport const DropDownContainer = styled.div`\n\t\twidth: auto;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1 0 0;\n\t`;\n\nexport const DropDownInputElement = styled.div`\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tpadding: 3px 3px;\n\t`;\n\nexport const DropDownRowContainer = styled.div`\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex: 1 0 0;\n\t`;\n\nexport const DropDownLanguageElement = styled.div`\n\t\tmin-width: 2em;\n\t\twidth: 100%;\n\t\theight: 20px;\n\t\tbackground: rgba(white, 0.1);\n\t\tcolor: black;\n\t\ttext-align:center;\n\t`;\n\n\nexport interface DropDownMenuWidgetProps {\n    model: any;\n    engine: DiagramEngine;\n    setStateInputElementTextLength:any;\n    widthOfInputElement:number;\n    modelName?:string;\n    arity:string;\n    closeDropDown:any;\n}\n\ninterface DropDownMenuWidgetState {\n    badNameForLanguageElement:boolean;\n    canAddAsPredicate:boolean;\n    canAddAsFunction:boolean;\n    inputTitle:string,\n    predicateButtonTitle:string,\n    functionButtonTitle:string,\n}\n\nexport class DropDownMenuWidget extends React.Component<DropDownMenuWidgetProps,DropDownMenuWidgetState> {\n    textInput:HTMLInputElement;\n\n    constructor(props:DropDownMenuWidgetProps) {\n        super(props);\n        this.generatePredicateComponent = this.generatePredicateComponent.bind(this);\n        this.generateFunctionComponent = this.generateFunctionComponent.bind(this);\n        this.setStateBadNameForLanguageElement = this.setStateBadNameForLanguageElement.bind(this);\n        this.clearTextInput = this.clearTextInput.bind(this);\n\n        this.state = {\n            badNameForLanguageElement:true,\n            canAddAsFunction:true,\n            canAddAsPredicate:true,\n            inputTitle:\"Zadaj názov pre predikát alebo funkciu\",\n            predicateButtonTitle:\"Pridaj nový predikát\",\n            functionButtonTitle:\"Pridaj novú funkciu\",\n        }\n    }\n\n    setStateBadNameForPredFunc(elementName:string){\n        if(setPredFuncBadNameIfRegexViolated(elementName,this.setStateBadNameForLanguageElement)){\n            this.setState({inputTitle:\"Zadaný názov nie je v správnom tvare\"});\n            return true;\n        }\n        this.setState({inputTitle:\"Zadaj názov pre predikát alebo funkciu\"});\n        return false;\n    }\n\n    generatePredicateComponent(elementObject:string){\n        return this.generateAvailableLanguageElement(elementObject,PREDICATE);\n    }\n\n\n    setStateBadNameForLanguageElement(bool:boolean){\n        this.setState({badNameForLanguageElement: bool});\n    }\n\n    generateFunctionComponent(elementObject:string){\n        return this.generateAvailableLanguageElement(elementObject,FUNCTION);\n    }\n\n    generateAvailableLanguageElement = (languageElement: string,type:string) => {\n        let alreadyDefined:boolean;\n        if(type === FUNCTION){\n            if(this.props.arity!==\"2\"){\n                alreadyDefined = functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(),this.props.model.getFunctionValue(),languageElement+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps());\n            }\n            else{\n                alreadyDefined = functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(FROM),this.props.model.getFunctionValue(FROM),languageElement+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps()) && functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(TO),this.props.model.getFunctionValue(TO),languageElement+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps());\n            }\n        }\n\n\n        return (\n            <DropDownRowContainer key={languageElement} >\n                <DropDownLanguageElement>\n                    {languageElement}\n                </DropDownLanguageElement>\n                <Button className={'btn-graph'} variant={type===PREDICATE?\"outline-success\":!alreadyDefined?\"outline-success\":\"outline-danger\"} disabled={type===FUNCTION && alreadyDefined} title={(type===FUNCTION && alreadyDefined)?\"Funkcia nemôže byť viackrát definovaná pre rovnaký(é) parameter(tre)\":(\"Pridaj \"+(type===PREDICATE?\"predikát\":\"funkciu\"))} onClick={() =>{\n                    if(type === PREDICATE){\n                        this.props.model.addPredicate(languageElement)\n                    }\n                    else{\n                        if(!alreadyDefined){\n                            this.props.model.addFunction(languageElement)\n                        }\n                    }\n                    this.props.engine.repaintCanvas();\n                }}><FontAwesome name={\"fas fa-plus\"}/></Button>\n            </DropDownRowContainer>\n        )\n    };\n\n    setLockedParentIfNeeded(bool:boolean){\n        if(this.props.model instanceof BinaryLabelModel){\n            this.props.model.setLockedParent(bool);\n        }\n    }\n\n    componentDidMount(): void {\n        //will re-render link so the position will be correct\n        if(this.props.model instanceof BinaryLabelModel){\n            // @ts-ignore\n            this.props.model.getParent().increaseChangeCounter();\n            this.props.engine.repaintCanvas();\n        }\n    }\n\n    componentWillUnmount(): void {\n        this.props.model.getReduxProps()[\"focusOnBodyElement\"]();\n    }\n\n    setCanUseForGivenType(type:string,elementName:string){\n        if(canUseNameForGivenArityAndType(elementName, type === PREDICATE ? this.props.arity : ((parseInt(this.props.arity) - 1).toString()), this.props.model.getReduxProps(), type)){\n            if(type === PREDICATE){\n                this.setState({canAddAsPredicate:true,predicateButtonTitle:\"Pridaj nový predikát\"});\n            }\n            else{\n                this.setState({canAddAsFunction:true,functionButtonTitle:\"Pridaj novú funkciu\"});\n                if(this.props.arity!==\"2\"){\n                    if(functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(),this.props.model.getFunctionValue(),this.textInput.value+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps())){\n                        this.setState({canAddAsFunction:false,functionButtonTitle:\"Funkcia nemôže byť viackrát definovaná pre rovnaký(é) parameter(tre)\"});\n                    }\n                }\n                else{\n                    if(functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(FROM),this.props.model.getFunctionValue(FROM),this.textInput.value+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps()) && functionIsAlreadyDefinedForGivenFunction(this.props.model.getNodeParameters(TO),this.props.model.getFunctionValue(TO),this.textInput.value+\"/\"+(parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps())){\n                        this.setState({canAddAsFunction:false,functionButtonTitle:\"Funkcia nemôže byť viackrát definovaná pre rovnaký(é) parameter(tre)\"});\n                    }\n                }\n            }\n        }\n        else{\n            if(type === PREDICATE){\n                this.setState({canAddAsPredicate:false,predicateButtonTitle:\"Predikát nejde pridať, predikát alebo funkcia s daným menom už existuje pre iný typ alebo pre inú aritu\"});\n            }\n            else{\n                this.setState({canAddAsFunction:false,functionButtonTitle:\"Funkciu nejde pridať, predikát alebo funkcia s daným menom už existuje pre iný typ alebo pre inú aritu\"});\n            }\n            return;\n        }\n    }\n\n    clearTextInput(){\n        this.textInput.value = \"\";\n        this.setState({badNameForLanguageElement:true,canAddAsFunction:true,canAddAsPredicate:true});\n        this.props.engine.repaintCanvas();\n    }\n\n    addGivenInputElement(type:string) {\n        if(!this.setStateBadNameForPredFunc(this.textInput.value.replace(/\\s/g, \"\")) && canUseNameForGivenArityAndType(this.textInput.value, type === PREDICATE ? this.props.arity : ((parseInt(this.props.arity) - 1).toString()), this.props.model.getReduxProps(), type)){\n            if (type === PREDICATE) {\n                this.props.model.addPredicate(this.textInput.value);\n            } else {\n                if(!this.state.canAddAsFunction){\n                    return;\n                }\n                this.props.model.addFunction(this.textInput.value);\n            }\n            this.clearTextInput();\n        }\n    }\n\n    render() {\n        let funcArity:number = parseInt(this.props.arity)-1;\n\n        return (\n            <DropDownModel pointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n                           cursor={this.props.model.isEditable() ? \"pointer\" : \"move\"}>\n                <DropDownPorts>\n                    <DropDownContainer>\n                        <DropDownTitleName title={\"Zoznam použiteľných predikátov pre aritu \"+this.props.arity}>\n                            Pred\n                        </DropDownTitleName>\n                        {_.map(Array.from(getAvailableLanguageElementForGivenArity(this.props.arity,this.props.model.getReduxProps(),this.props.model.getPredicates(),PREDICATE)), this.generatePredicateComponent)}\n                        {funcArity !== 0?\n                            <DropDownTitleName title={\"Zoznam použiteľných funkcií pre aritu \"+funcArity}>\n                                Func\n                            </DropDownTitleName>:null\n                        }\n                        {funcArity !== 0?_.map(Array.from(getAvailableLanguageElementForGivenArity((parseInt(this.props.arity)-1).toString(),this.props.model.getReduxProps(),this.props.model.getFunctions(),FUNCTION)), this.generateFunctionComponent):null}\n                        <DropDownInputElement>\n                            <DropDownRowContainer key={\"lastPredicateOption\"}>\n                                <input title={this.state.inputTitle} onChange={(e) => {\n                                    let elName:string = e.target.value.replace(/\\s/g, \"\");\n                                    this.props.setStateInputElementTextLength(e.target.value.length);\n                                    this.setStateBadNameForPredFunc(elName);\n                                    this.setCanUseForGivenType(PREDICATE,elName);\n                                    if(this.props.arity!==\"1\"){\n                                        this.setCanUseForGivenType(FUNCTION,elName);\n                                    }\n                                }}\n                                       ref={(input) => this.textInput = input}\n                                       onFocus={() => {\n                                           this.props.model.setLocked(true);\n                                           this.setLockedParentIfNeeded(true);\n                                       }}\n                                       onBlur={() => {\n                                           this.props.model.setLocked(false);\n                                           this.setLockedParentIfNeeded(false);\n                                       }}\n                                       onKeyDown={(e) => {\n                                           if (e.key === \"Escape\") {\n                                               this.props.closeDropDown();\n                                           }\n                                           else if (e.key === \"Enter\" && funcArity === 0) {\n                                               this.addGivenInputElement(PREDICATE);\n                                           }\n                                       }}\n                                       placeholder={funcArity!==0?\"Add pred/func\":\"Add predicate\"} style={{\n                                    width: (this.props.widthOfInputElement===1?2:this.props.widthOfInputElement) + \"ch\",\n                                    height: 20 + \"px\",\n                                    border: this.state.badNameForLanguageElement ? \"1px solid red\" : \"1px solid black\"\n                                }}>\n                                </input>\n                                <Button className={'btn-graph'} variant={this.state.canAddAsPredicate?\"outline-success\":\"outline-danger\"} disabled={!this.state.canAddAsPredicate} title={this.state.predicateButtonTitle} onClick={() => {\n                                    this.addGivenInputElement(PREDICATE);\n                                }}>{ADDPRED}</Button>\n                                {\n                                    funcArity!==0?\n                                        <Button className={'btn-graph'} variant={this.state.canAddAsFunction?\"outline-success\":\"outline-danger\"} disabled={!this.state.canAddAsFunction} title={this.state.functionButtonTitle} onClick={() => {\n                                            this.addGivenInputElement(FUNCTION);\n                                        }}>{ADDFUNC}</Button>\n                                        :null\n                                }\n                            </DropDownRowContainer>\n                        </DropDownInputElement>\n                    </DropDownContainer>\n                </DropDownPorts>\n            </DropDownModel>\n        )\n    }\n}\n","import _ from \"lodash\";\nimport * as React from 'react';\nimport styled from '@emotion/styled';\nimport FontAwesome from \"react-fontawesome\";\nimport { BinaryLabelModel } from './BinaryLabelModel';\nimport {DiagramEngine} from '@projectstorm/react-diagrams';\nimport {ADDPORT, ADDPORTSELECTED, BOTH, FROM, FUNCTION, PREDICATE} from \"../../nodes/ConstantNames\";\nimport {DropDownMenuWidget} from \"../../nodes/DropDownMenuWidget\";\nimport {Port} from \"../../nodes/unbinary/UnBinaryPortLabelWidget\";\nimport {getWidestElement} from \"../../nodes/functions\";\nimport { Button } from \"react-bootstrap\";\n\nexport interface BinaryLabelWidgetProps {\n\tmodel: BinaryLabelModel;\n\tengine: DiagramEngine;\n\tname?:string;\n\tsize?: number;\n}\n\nexport const ElementsNode = styled.div<{pointerEvents: string, cursor:string}>`\n\t\tpointer-events: ${p => p.pointerEvents};\n\t\tcursor: ${p => p.cursor};\n\t\twidth:100%;\n\t\theight:100%;\n\t\tbackground-color: yellow;\n\t\tborder-radius: 5px;\n\t\tfont-family: sans-serif;\n\t\tcolor: black;\n\t\tborder: solid 2px black;\n\t\toverflow: visible;\n\t\tfont-size: 12px;\n\t\tfont-weight: bold;\n\t`;\n\nexport const Element = styled.div`\n\t\tmin-width: 2em;\n\t\twidth: 100%;\n\t\theight: 20px;\n\t\tbackground: rgba(white, 0.1);\n\t\tcolor: black;\n\t\ttext-align:center;\n\t`;\n\nexport const Elements = styled.div`\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(256, 256, 256, 0.4), rgba(256, 256, 256, 0.5));\n\t`;\n\nexport const ElementContainer = styled.div`\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex-grow:1;\n\n\t\t&:first-of-type {\n\t\t\tmargin-right: 10px;\n\t\t}\n\n\t\t&:only-child {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t`;\n\nexport const ElementRowContainer = styled.div`\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex: 1 0 0;\n\t`;\n\nexport const Title = styled.div`\n\t\twidth: 100%;\n\t\tbackground: rgba(256, 256, 256, 0.15);\n\t\tdisplay: flex;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t\ttext-align:center;\n\t\tcursor: default;\n\t`;\n\nexport const TitleName = styled.div`\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tpadding: 5px 5px;\n\t`;\n\ninterface BinaryNodeWidgetState {\n\trenameActive?:boolean;\n\ttitleChanged?:boolean;\n\tisDropDownMenu:boolean;\n\tbadNameForNewPredicate: boolean;\n\tinputElementTextLength: number;\n}\n\nexport class BinaryLabelWidget extends React.Component<BinaryLabelWidgetProps,BinaryNodeWidgetState> {\n\tsourceNodeName:string;\n\ttargetNodeName:string;\n\n\tconstructor(props: BinaryLabelWidgetProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisDropDownMenu: false,\n\t\t\tbadNameForNewPredicate: false,\n\t\t\tinputElementTextLength: 0\n\t\t};\n\t\tthis.setInputElementTextLength = this.setInputElementTextLength.bind(this);\n\t\tthis.closeDropDown = this.closeDropDown.bind(this);\n\t\tthis.generateElementType = this.generateElementType.bind(this);\n\t\tthis.generatePredicateComponent = this.generatePredicateComponent.bind(this);\n\t\tthis.generateFunctionComponent = this.generateFunctionComponent.bind(this);\n\t}\n\n\tgenerateElementType = (elementObject: string,type: string) => {\n\t\treturn (\n\t\t\t\t<ElementRowContainer key={elementObject[0]} >\n\t\t\t\t\t{this.sourceNodeName !== this.targetNodeName?\n\t\t\t\t\t<Button className={'btn-graph'} variant={\"outline-warning\"} onClick={() =>{\n\t\t\t\t\t\tthis.props.model.changeDirectionOfBinaryRelation(elementObject[0], elementObject[1],type);\n\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t}}><FontAwesome title={\"Smer \"+(type===PREDICATE?\"predikátu\":\"funkcie\")} name={elementObject[1]===BOTH?'fas fa-arrows-alt-h':(elementObject[1]===FROM?\"fas fa-long-arrow-alt-right\":\"fas fa-long-arrow-alt-left\")}/></Button>:null}\n\t\t\t\t<Element title={type===PREDICATE?\"Predikát\":\"Funkcia\"}>\n\t\t\t\t\t{elementObject[0]}\n\t\t\t\t</Element>\n\t\t\t\t\t<Button className={'btn-graph'} variant={\"outline-warning\"} title={\"Zmazať \"+(type===PREDICATE?\"daný predikát\":\"danú funkciu\")+\" z vrcholu\"} onClick={() =>{\n\t\t\t\t\t\ttype===PREDICATE?this.props.model.removePredicate(elementObject[0]):this.props.model.removeFunction(elementObject[0]);\n\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t}}><FontAwesome name={\"fas fa-trash\"}/></Button>\n\t\t\t\t</ElementRowContainer>\n\t\t\t)\n\t\t};\n\n\tgeneratePredicateComponent(elementObject:string){\n\t\t\treturn this.generateElementType(elementObject,PREDICATE);\n\t}\n\n\tgenerateFunctionComponent(elementObject:string){\n\t\treturn this.generateElementType(elementObject,FUNCTION);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.setIsDropDownMenuAccordingBehaviour();\n\t}\n\n\tsetIsDropDownMenuAccordingBehaviour(){\n\t\tif(!this.props.model.getParent().isSelected() && this.state.isDropDownMenu){\n\t\t\tthis.setState({isDropDownMenu:false});\n\t\t\tthis.props.model.setLockedParent(false);\n\t\t\tthis.props.model.setLocked(false);\n\t\t}\n\t}\n\n\tgetWidestElement():number{\n\t\tlet width:number = this.sourceNodeName.length+this.targetNodeName.length;\n\t\tlet compareWidth:number = getWidestElement(this.state.isDropDownMenu,this.state.inputElementTextLength,this.props.model,width,\"2\",\"1\");\n\n\t\tif(compareWidth>width){\n\t\t\treturn compareWidth;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tsetInputElementTextLength(length: number){\n\t\tthis.setState({inputElementTextLength:length});\n\t}\n\n\tcloseDropDown(){\n\t\tthis.setState({isDropDownMenu:false});\n\t\tthis.props.model.setLocked(false);\n\t\tthis.props.engine.getModel().clearSelection();\n\t\tthis.props.engine.repaintCanvas();\n\t}\n\n\trender() {\n\t\t// @ts-ignore\n\t\tthis.sourceNodeName = this.props.model.getParent().getSourcePort().getNode().getNodeName();\n\t\t// @ts-ignore\n\t\tthis.targetNodeName = this.props.model.getParent().getTargetPort().getNode().getNodeName();\n\n\t\tlet width = this.getWidestElement();\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ElementsNode pointerEvents={this.props.model.editable ? \"all\" : \"none\"}\n\t\t\t\t\t\t\t  cursor={this.props.model.editable ? \"pointer\" : \"move\"}>\n\t\t\t\t\t<Title title={\"Smerovanie predikátov/funkcií (od – do)\"}>\n\t\t\t\t\t\t<TitleName>\n\t\t\t\t\t\t\t{this.sourceNodeName + \" – \" + this.targetNodeName}\n\t\t\t\t\t\t</TitleName>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Elements>\n\t\t\t\t\t\t<ElementContainer>\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getPredicates()), this.generatePredicateComponent)}\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getFunctions()), this.generateFunctionComponent)}\n\t\t\t\t\t\t\t<Port title={\"Otvoriť/zatvoriť rozbaľovaciu ponuku\"} onClick={() => {\n\t\t\t\t\t\t\t\tif (this.state.isDropDownMenu) {\n\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t\t\tthis.props.model.getParent().setSelected(true);\n\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: true});\n\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t  height={20}\n\t\t\t\t\t\t\t\t  width={this.props.model.getOptions().name?0:20}>{this.state.isDropDownMenu ? ADDPORTSELECTED : ADDPORT}</Port>\n\t\t\t\t\t\t</ElementContainer>\n\t\t\t\t\t</Elements>\n\t\t\t\t</ElementsNode>\n\t\t\t\t{(this.state.isDropDownMenu && this.props.model.getParent().isSelected()) ?\n\t\t\t\t\t<DropDownMenuWidget model={this.props.model} engine={this.props.engine}\n\t\t\t\t\t\t\t\t\t\tbadNameForLanguageElement={this.state.badNameForNewPredicate}\n\t\t\t\t\t\t\t\t\t\tsetStateInputElementTextLength={this.setInputElementTextLength}\n\t\t\t\t\t\t\t\t\t\twidthOfInputElement={width} arity={\"2\"} closeDropDown={this.closeDropDown}/> : null\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import _ from 'lodash';\nimport * as React from 'react';\nimport styled from '@emotion/styled';\nimport FontAwesome from \"react-fontawesome\";\nimport { UnBinaryNodeModel } from './UnBinaryNodeModel';\nimport { DiagramEngine, PortWidget } from '@projectstorm/react-diagrams';\nimport { Port } from \"./UnBinaryPortLabelWidget\";\nimport {ADDPORT, ADDPORTSELECTED, UNBINARY} from \"../ConstantNames\";\nimport {Element, ElementRowContainer} from \"../../labels/binary/BinaryLabelWidget\";\nimport {DropDownMenuWidget} from \"../DropDownMenuWidget\";\nimport {canUseNameForNode, getWidestElement, selectOnlyCurrentGraphElement} from \"../functions\";\nimport { Button } from 'react-bootstrap';\n\nexport interface UnBinaryNodeWidgetProps {\n\tmodel: UnBinaryNodeModel;\n\tengine: DiagramEngine;\n\trenameDomainNode:any;\n\tremoveDomainNode:any;\n\tname?:string;\n\tsize?: number;\n}\n\ninterface UnBinaryNodeWidgetState {\n\trenameActive?:boolean;\n\ttitleChanged?:boolean;\n\tnodeName?:string;\n\tbadName?:boolean;\n\tisDropDownMenu?:boolean;\n\tinputElementTextLength?:number;\n}\n\nexport const Node = styled.div<{ background: string; selected: boolean, pointerEvents: string, cursor:string}>`\n\t\twidth: 100%;\n\t\tpointer-events: ${p => p.pointerEvents};\n\t\tcursor: ${p => p.cursor};\n\t\t/*background-color: ${p => p.background};*/\n\t\tbackground-color: green;\n\t\tborder-radius: 5px;\n\t\tfont-family: sans-serif;\n\t\tfont-weight: bold;\n\t\tcolor: black;\n\t\toverflow: visible;\n\t\tfont-size: 13px;\n\t\tborder: solid 2px ${p => (p.selected ? 'rgb(0,192,255)' : 'black')};\n\t`;\n\nexport const Title = styled.div`\n\t\twidth: 100%;\n\t\tbackground: rgba(255, 255, 255, 0.45);\n\t\tdisplay: flex;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t\ttext-align:center;\n\t`;\n\nexport const TitleName = styled.div`\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tpadding: 5px 5px;\n\t\t\t\t\n\t\t&:hover {\n\t\t\tbackground: rgba(255, 255, 255, 0.7);\n\t\t}\n\t`;\n\nexport const Ports = styled.div`\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0.65));\n\t`;\n\nexport const PortsContainer = styled.div`\n\t\twidth: auto;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1 0 0;\n\t`;\n\nexport class UnBinaryNodeWidget extends React.Component<UnBinaryNodeWidgetProps,UnBinaryNodeWidgetState> {\n\tconstructor(props: UnBinaryNodeWidgetProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trenameActive: false,\n\t\t\ttitleChanged: false,\n\t\t\tnodeName: this.props.model.getOptions().name,\n\t\t\tbadName: false,\n\t\t\tisDropDownMenu: false,\n\t\t\tinputElementTextLength: 0\n\t\t};\n\t\tthis.setBadNodeNameState = this.setBadNodeNameState.bind(this);\n\t\tthis.setInputElementTextLength = this.setInputElementTextLength.bind(this);\n\t\tthis.closeDropDown = this.closeDropDown.bind(this);\n\t}\n\n\tcomponentDidUpdate(): void {\n\t\tthis.setIsDropDownMenuAccordingBehaviour();\n\t}\n\n\tgeneratePredicate = (predicate: string) => {\n\t\treturn (\n\t\t\t<ElementRowContainer key={predicate} >\n\t\t\t\t<Element>\n\t\t\t\t\t{predicate}\n\t\t\t\t</Element>\n\t\t\t\t<Button className={'btn-graph'} variant={\"outline-success\"} onClick={() =>{\n\t\t\t\t\tthis.props.model.removeUnaryPredicate(predicate);\n\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t}}><FontAwesome name={\"fas fa-trash\"}/></Button>\n\t\t\t</ElementRowContainer>\n\t\t)\n\t};\n\n\tcancelRenameNode() {\n\t\tthis.setState({renameActive: false, nodeName: this.props.model.getNodeName(), badName: false});\n\t\tthis.props.model.setLocked(false);\n\t}\n\n\trenameNode(nodeName:string) {\n\t\tthis.props.model.setLocked(false);\n\n\t\tif (nodeName !== this.props.model.getNodeName()) {\n\t\t\tif (!this.state.badName) {\n\t\t\t\tthis.props.renameDomainNode(this.props.model.getNodeName(),nodeName);\n\t\t\t\tthis.props.model.renameNode(nodeName);\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({nodeName: this.props.model.getNodeName()});\n\t\tthis.setState({renameActive: false});\n\t\tthis.setState({badName: false});\n\t}\n\n\tsetBadNodeNameState(bool: boolean) {\n\t\tthis.setState({badName: bool});\n\t}\n\n\tsetInputElementTextLength(length: number){\n\t\tthis.setState({inputElementTextLength:length});\n\t}\n\n\tsetIsDropDownMenuAccordingBehaviour(){\n\t\tif(!this.props.model.isSelected() && this.state.isDropDownMenu){\n\t\t\tthis.setState({isDropDownMenu:false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t}\n\t}\n\n\tcloseDropDown(){\n\t\tif(this.state.isDropDownMenu){\n\t\t\tthis.setState({isDropDownMenu:false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\tthis.props.engine.repaintCanvas();\n\t\t}\n\t}\n\n\tgetWidestElement():number{\n\t\tlet width:number = this.state.nodeName.length;\n\t\tlet compareWidth:number = getWidestElement(this.state.isDropDownMenu,this.state.inputElementTextLength,this.props.model,width,\"1\",\"0\");\n\n\t\tif(compareWidth>width){\n\t\t\treturn compareWidth;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\trender() {\n\t\tlet width = this.getWidestElement();\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Node\n\t\t\t\t\tdata-basic-node-name={this.props.name}\n\t\t\t\t\tselected={this.props.model.isSelected()}\n\t\t\t\t\tbackground={this.props.model.getOptions().color}\n\t\t\t\t\tpointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n\t\t\t\t\tcursor={this.props.model.isEditable() ? \"pointer\" : \"move\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif(this.props.model.canSelectNode){\n\t\t\t\t\t\t\tselectOnlyCurrentGraphElement(this.props.model,this.props.engine);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.props.model.canSelectNode = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Title title={\"Vytvoriť novú linku ťahaním/dvojklikom premenovať názov vrcholu\"}>\n\t\t\t\t\t\t<PortWidget style={{flexGrow: 1}} engine={this.props.engine}\n\t\t\t\t\t\t\t\t\tport={this.props.model.getMainPort()}>\n\t\t\t\t\t\t\t<TitleName onDoubleClick={() => {\n\t\t\t\t\t\t\t\tif (this.state.isDropDownMenu) {\n\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!this.state.renameActive) {\n\t\t\t\t\t\t\t\t\tthis.setState({renameActive: true});\n\t\t\t\t\t\t\t\t\tthis.props.model.setLocked(true);\n\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{!this.state.renameActive ? this.props.model.getNodeName() :\n\t\t\t\t\t\t\t\t\t<input autoFocus onBlur={() => {\n\t\t\t\t\t\t\t\t\t\tlet name = this.state.nodeName.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\t\tthis.renameNode(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t   onKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t   if (e.key === \"Escape\") {\n\t\t\t\t\t\t\t\t\t\t\t\t   this.cancelRenameNode();\n\t\t\t\t\t\t\t\t\t\t\t   } else if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\t\t   let name = this.state.nodeName.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\t\t\t\t   this.renameNode(name);\n\t\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t\t\t\t\t   type=\"text\" style={{\n\t\t\t\t\t\t\t\t\t\twidth: (width + 1.5) + \"ch\",\n\t\t\t\t\t\t\t\t\t\theight: 20 + \"px\",\n\t\t\t\t\t\t\t\t\t\tborder: this.state.badName ? \"1px solid red\" : \"1px solid black\"\n\t\t\t\t\t\t\t\t\t}} name=\"\" value={this.state.nodeName}\n\t\t\t\t\t\t\t\t\t\t   onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t   this.setState({nodeName: e.target.value});\n\t\t\t\t\t\t\t\t\t\t\t   let name: string = e.target.value.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\t\t\t   canUseNameForNode(this.props.model.getNodeName(),name,this.setBadNodeNameState,this.props.model.getReduxProps(),UNBINARY);\n\t\t\t\t\t\t\t\t\t\t   }}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</TitleName>\n\t\t\t\t\t\t</PortWidget>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Ports>\n\t\t\t\t\t\t<PortsContainer>\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getUnaryPredicates()), this.generatePredicate)}\n\t\t\t\t\t\t\t<PortWidget style={{flexGrow: 1}} engine={this.props.engine}\n\t\t\t\t\t\t\t\t\t\tport={this.props.model.getAppendPort()}>\n\t\t\t\t\t\t\t\t<Port title={\"Otvoriť/zatvoriť rozbaľovaciu ponuku\"} onClick={() => {\n\t\t\t\t\t\t\t\t\tif (this.state.isDropDownMenu) {\n\t\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: true, badNameForNewPredicate: true});\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t  height={20}\n\t\t\t\t\t\t\t\t\t  width={this.props.model.getOptions().name.length * 20}>{this.state.isDropDownMenu ? ADDPORTSELECTED : ADDPORT}</Port>\n\t\t\t\t\t\t\t</PortWidget>\n\t\t\t\t\t\t</PortsContainer>\n\t\t\t\t\t</Ports>\n\t\t\t\t</Node>\n\n\t\t\t\t{(this.state.isDropDownMenu && this.props.model.isSelected()) ?\n\t\t\t\t\t<DropDownMenuWidget widthOfInputElement={width}\n\t\t\t\t\t\t\t\t\t\tsetStateInputElementTextLength={this.setInputElementTextLength}\n\t\t\t\t\t\t\t\t\t\tmodel={this.props.model}\n\t\t\t\t\t\t\t\t\t\tengine={this.props.engine} modelName={this.props.model.getNodeName()}\n\t\t\t\t\t\t\t\t\t\tarity={\"1\"}\n\t\t\t\t\t\t\t\t\t\tcloseDropDown={this.closeDropDown}/> : null\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import * as React from 'react';\nimport { ConstantNodeModel } from './ConstantNodeModel';\nimport {DiagramEngine, PortWidget} from '@projectstorm/react-diagrams';\nimport styled from '@emotion/styled';\nimport {CONSTANT, UNBINARY} from \"../ConstantNames\";\nimport {canUseNameForNode, selectOnlyCurrentGraphElement} from \"../functions\";\n\nexport interface ConstantNodeWidgetProps {\n\tmodel: ConstantNodeModel;\n\tengine: DiagramEngine;\n\trenameConstantNode:any;\n\tremoveConstantNode:any;\n\tname?:string;\n\tsize?: number;\n}\n\ninterface ConstantNodeWidgetState {\n\trenameActive?:boolean;\n\ttitleChanged?:boolean;\n\tnodeName?:string;\n\tbadName?:boolean;\n}\n\nexport const Node = styled.div<{ background: string; selected: boolean, pointerEvents: string, cursor:string}>`\n\t\t/*background-color: ${p => p.background};*/\n\t\tbackground-color: #a6adbd;\n\t\tpointer-events: ${p => p.pointerEvents};\n\t\tcursor: ${p => p.cursor};\n\t\tborder-radius: 50%;\n\t\tfont-family: sans-serif;\n\t\tfont-weight:bold;\n\t\tcolor: black;\n\t\tborder: solid 2px black;\n\t\toverflow: hidden;\n\t\tfont-size: 13px;\n\t\tborder: solid 2.5px ${p => (p.selected ? 'rgb(0,192,255)' : 'black')};\n\t\tjustify-items: center;\n\t\ttext-align:center;\n\t`;\n\nexport const Title = styled.div`\n\t\tbackground: rgba(256, 256, 256, 0.15);\n\t\tdisplay: flex;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t\ttext-align:center;\n\t`;\n\nexport const TitleName = styled.div`\n\t\tflex-grow: 1;\n\t\tpadding: 10px 10px;\n\t\t\t\t\n\t\t&:hover {\n\t\t\tbackground: rgba(256, 256, 256, 0.4);\n\t\t}\n\t`;\n\n\nexport class ConstantNodeWidget extends React.Component<ConstantNodeWidgetProps,ConstantNodeWidgetState> {\n\tconstructor(props:ConstantNodeWidgetProps){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trenameActive: false,\n\t\t\ttitleChanged: false,\n\t\t\tnodeName: this.props.model.getOptions().name,\n\t\t\tbadName: false\n\t\t};\n\t\tthis.setBadNodeNameState = this.setBadNodeNameState.bind(this);\n\t}\n\n\tcancelRenameNode() {\n\t\tthis.setState({renameActive: false, nodeName: this.props.model.getNodeName(), badName: false});\n\t\tthis.props.model.setLocked(false);\n\t}\n\n\trenameNode(nodeName:string) {\n\t\tthis.props.model.setLocked(false);\n\n\t\tif (nodeName !== this.props.model.getNodeName()) {\n\t\t\tif (!this.state.badName) {\n\t\t\t\tthis.props.renameConstantNode(this.props.model.getNodeName(),nodeName);\n\t\t\t\tthis.props.model.renameNode(nodeName);\n\t\t\t} else {\n\t\t\t\tthis.setState({nodeName: this.props.model.getNodeName()});\n\t\t\t}\n\t\t}\n\t\tthis.setState({nodeName: this.props.model.getNodeName()});\n\t\tthis.setState({renameActive: false});\n\t\tthis.setState({badName: false});\n\t}\n\n\tgetWidestElement():number{\n\t\tlet width:number = this.props.model.getNodeName().length;\n\n\t\tif(this.state.renameActive){\n\t\t\treturn width;\n\t\t}\n\t\treturn width;\n\t}\n\n\tsetBadNodeNameState(bool: boolean) {\n\t\tthis.setState({badName: bool});\n\t}\n\n\trender() {\n\t\tlet width = this.getWidestElement();\n\n\t\treturn (\n\t\t\t<Node\n\t\t\t\tdata-basic-node-name={this.props.name}\n\t\t\t\tselected={this.props.model.isSelected()}\n\t\t\t\tbackground={this.props.model.getOptions().color}\n\t\t\t\tpointerEvents={this.props.model.isEditable()?\"auto\":\"none\"}\n\t\t\t\tcursor={this.props.model.isEditable()?\"pointer\":\"move\"}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tselectOnlyCurrentGraphElement(this.props.model,this.props.engine);\n\t\t\t\t}}>\n\t\t\t\t<Title>\n\t\t\t\t\t<PortWidget engine={this.props.engine} port={this.props.model.getMainPort()}>\n\t\t\t\t\t\t<TitleName onDoubleClick={() => {\n\t\t\t\t\t\t\tif (!this.state.renameActive) {\n\t\t\t\t\t\t\t\tthis.setState({renameActive: true});\n\t\t\t\t\t\t\t\tthis.props.model.setLocked(true);\n\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{!this.state.renameActive ? this.props.model.getNodeName() :\n\t\t\t\t\t\t\t\t<input autoFocus onBlur={() => {\n\t\t\t\t\t\t\t\t\tlet name = this.state.nodeName.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\tthis.renameNode(name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t   onKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t   if (e.key === \"Escape\") {\n\t\t\t\t\t\t\t\t\t\t\t   this.cancelRenameNode();\n\t\t\t\t\t\t\t\t\t\t   } else if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\t   let name = this.state.nodeName.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\t\t\t   this.renameNode(name);\n\t\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t\t\t\t   type=\"text\" style={{\n\t\t\t\t\t\t\t\t\twidth: (width+1.5)+\"ch\",\n\t\t\t\t\t\t\t\t\theight: 20 + \"px\",\n\t\t\t\t\t\t\t\t\tborder: this.state.badName ? \"1px solid red\" : \"1px solid black\"\n\t\t\t\t\t\t\t\t}} name=\"\" value={this.state.nodeName}\n\t\t\t\t\t\t\t\t\t   onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t   this.setState({nodeName: e.target.value});\n\t\t\t\t\t\t\t\t\t\t   let name = e.target.value.replace(/\\s/g, \"\");\n\t\t\t\t\t\t\t\t\t\t   canUseNameForNode(this.props.model.getNodeName(),name,this.setBadNodeNameState,this.props.model.getReduxProps(),CONSTANT);\n\t\t\t\t\t\t\t\t\t   }}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TitleName>\n\t\t\t\t\t</PortWidget>\n\t\t\t\t</Title>\n\t\t\t</Node>)\n\t}\n}\n","import * as React from \"react\";\nimport {Element, ElementRowContainer} from \"../labels/binary/BinaryLabelWidget\";\nimport FontAwesome from \"react-fontawesome\";\nimport {PREDICATE} from \"./ConstantNames\";\nimport {DiagramEngine} from \"@projectstorm/react-diagrams\";\nimport {BaseNodeModel} from \"./BaseNodeModel\";\nimport {Button} from \"react-bootstrap\";\n\nexport interface NaryListWidgetProps {\n    model: BaseNodeModel;\n    engine: DiagramEngine;\n    type: string;\n    elementName: string;\n}\n\nexport class NaryListWidget extends React.Component<NaryListWidgetProps> {\n    constructor(props: any) {\n        super(props);\n    }\n\n    render(){\n        return (\n            <ElementRowContainer key={this.props.elementName} >\n                <Element title={this.props.type===PREDICATE?\"Predikát\":\"Funkcia\"}>\n                    {this.props.elementName}\n                </Element>\n                <Button className={'btn-graph'} variant={\"outline-warning\"} title={\"Zmazať \"+(this.props.type===PREDICATE?\"daný predikát\":\"danú funkciu\")+\" z vrcholu\"} onClick={() =>{\n                    this.props.type===PREDICATE?this.props.model.removePredicate(this.props.elementName):this.props.model.removeFunction(this.props.elementName);\n                    this.props.engine.repaintCanvas();\n                }}><FontAwesome name={\"fas fa-trash\"}/></Button>\n            </ElementRowContainer>\n        )\n    }\n}","import * as React from 'react';\nimport { DiagramEngine, PortWidget } from '@projectstorm/react-diagrams';\nimport styled from '@emotion/styled';\nimport { TernaryNodeModel } from './TernaryNodeModel';\nimport {\n\tDropDownMenuWidget\n} from \"../DropDownMenuWidget\";\nimport {getWidestElement, selectOnlyCurrentGraphElement} from '../functions';\nimport {ADDPORT, ADDPORTSELECTED, FUNCTION, PREDICATE} from \"../ConstantNames\";\nimport {ElementContainer} from \"../../labels/binary/BinaryLabelWidget\";\nimport {Port as PortClassic} from \"../../nodes/unbinary/UnBinaryPortLabelWidget\";\nimport _ from \"lodash\";\nimport {NaryListWidget} from \"../NaryListWidget\";\n\nexport interface TernaryNodeWidgetProps {\n\tmodel: TernaryNodeModel;\n\tengine: DiagramEngine;\n\tsize?: number;\n}\n\ninterface TernaryNodeWidgetState {\n\tnodeName?:string;\n\tbadName?:boolean;\n\tcolor?:any;\n\tisDropDownMenu?:boolean;\n\tinputElementTextLength?:number;\n}\n\nexport const Element = styled.div`\n\tdisplay: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nexport const Port = styled.div`\n\twidth: 16px;\n\theight: 16px;\n\tz-index: 10;\n\tbackground: rgba(0, 0, 0, 0.5);\n\tborder-radius: 8px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground: rgba(0, 0, 0, 1);\n\t}\n`;\n\nexport const NaryNodeList = styled.div<{pointerEvents: string, cursor:string}>`\n\t\tpointer-events: ${p => p.pointerEvents};\n\t\tcursor: ${p => p.cursor};\n\t\twidth:100%;\n\t\theight:100%;\n\t\tbackground-color: yellow;\n\t\tborder-radius: 5px;\n\t\tfont-family: sans-serif;\n\t\tcolor: black;\n\t\tborder: solid 2px black;\n\t\toverflow: visible;\n\t\tfont-size: 12px;\n\t\tfont-weight: bold;\n\t`;\n\nexport const Elements = styled.div`\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(256, 256, 256, 0.4), rgba(256, 256, 256, 0.5));\n\t`;\n\nexport const Node = styled.div<{ size: number, pointerEvents: string, cursor:string}>`\n\tposition: 'relative';\n\tpointer-events: ${p => p.pointerEvents};\n\tcursor: ${p => p.cursor};\n\tdisplay:flex;\n\tjustify-content: center;\n\t/*width: ${p => p.size};*/\n\theight:35px;\n`;\n\nexport class NodeWidget extends React.Component<{ size: number, color: string, isSelected: boolean }> {\n\trender() {\n\t\tlet {size, color, isSelected} = this.props;\n\t\treturn (\n\t\t\t<svg width={size} height={size}>\n\t\t\t\t<g id=\"Layer_1\">\n\t\t\t\t</g>\n\t\t\t\t<g id=\"Layer_2\">\n\t\t\t\t\t<polygon\n\t\t\t\t\t\tpoints={\"5,\" + size / 2 + \" \" + size / 2 + \",0\" + \" \" + size + \",\" + size / 2 + \" \" + size / 2 + \",\" + size / 2}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfill: color,\n\t\t\t\t\t\t\tstrokeMiterlimit: 10,\n\t\t\t\t\t\t\tstrokeWidth: 2.5,\n\t\t\t\t\t\t\tstroke: isSelected ? \"rgb(0,192,255)\" : \"#000000\"\n\t\t\t\t\t\t}}/>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nexport class TernaryNodeWidget extends React.Component<TernaryNodeWidgetProps,TernaryNodeWidgetState> {\n\n\tconstructor(props: TernaryNodeWidgetProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tbadName: false,\n\t\t\tisDropDownMenu: false,\n\t\t\tcolor: \"rgb(255,255,0)\",\n\t\t\tinputElementTextLength: 0\n\t\t};\n\n\t\tthis.setInputElementTextLength = this.setInputElementTextLength.bind(this);\n\t\tthis.closeDropDown = this.closeDropDown.bind(this);\n\t\tthis.generateFunctionComponent = this.generateFunctionComponent.bind(this);\n\t\tthis.generatePredicateComponent = this.generatePredicateComponent.bind(this);\n\t}\n\n\tcomponentDidUpdate(): void {\n\t\tthis.setIsDropDownMenuAccordingBehaviour();\n\t}\n\n\tsetInputElementTextLength(length: number) {\n\t\tthis.setState({inputElementTextLength: length});\n\t}\n\n\n\tsetIsDropDownMenuAccordingBehaviour() {\n\t\tif (!this.props.model.isSelected() && this.state.isDropDownMenu) {\n\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t}\n\t}\n\n\tcloseDropDown() {\n\t\tif (this.state.isDropDownMenu) {\n\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\tthis.props.engine.repaintCanvas();\n\t\t}\n\t}\n\n\tgeneratePredicateComponent(elementName:string){\n\t\treturn <NaryListWidget engine={this.props.engine} model={this.props.model} elementName={elementName} type={PREDICATE} key={elementName}/>\n\t}\n\n\tgenerateFunctionComponent(elementName:string){\n\t\treturn <NaryListWidget engine={this.props.engine} model={this.props.model} elementName={elementName} type={FUNCTION} key={elementName}/>\n\t}\n\n\tgetWidestElement(): number {\n\t\tlet width: number = 3;\n\t\tlet compareWidth: number = getWidestElement(this.state.isDropDownMenu, this.state.inputElementTextLength, this.props.model, width, \"3\", \"2\");\n\n\t\tif (compareWidth > width) {\n\t\t\treturn compareWidth;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\trender() {\n\t\tlet width = this.getWidestElement();\n\t\treturn (\n\t\t\t<Element>\n\t\t\t\t<Node size={this.props.size}\n\t\t\t\t\t  pointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n\t\t\t\t\t  cursor={this.props.model.isEditable() ? \"pointer\" : \"move\"}\n\t\t\t\t\t  onClick={() => {\n\t\t\t\t\t\t  selectOnlyCurrentGraphElement(this.props.model,this.props.engine);\n\t\t\t\t\t  }}>\n\n\t\t\t\t\t<NodeWidget color={this.state.color} isSelected={this.props.model.isSelected()} size={this.props.size}/>\n\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: this.props.size / 2 - 9,\n\t\t\t\t\t\t\tleft: 50+\"%\",\n\t\t\t\t\t\t\tmarginLeft: -35+\"px\",\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(0)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Prvý parameter\"}/>\n\t\t\t\t\t</PortWidget>\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tright: 50+\"%\",\n\t\t\t\t\t\t\tmarginRight: -38+\"px\",\n\t\t\t\t\t\t\ttop: this.props.size / 2 - 10,\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(1)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Druhý parameter\"}/>\n\t\t\t\t\t</PortWidget>\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: -15,\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(2)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Tretí parameter\"}/>\n\t\t\t\t\t</PortWidget>\n\t\t\t\t</Node>\n\t\t\t\t<NaryNodeList pointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n\t\t\t\t\t\t\t  cursor={this.props.model.isEditable() ? \"pointer\" : \"move\"} s>\n\t\t\t\t\t<Elements>\n\t\t\t\t\t\t<ElementContainer>\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getPredicates()), this.generatePredicateComponent)}\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getFunctions()), this.generateFunctionComponent)}\n\t\t\t\t\t\t\t<PortWidget engine={this.props.engine}\n\t\t\t\t\t\t\t\t\t\tport={this.props.model.getAppendPort()}>\n\t\t\t\t\t\t\t<PortClassic title={\"Otvoriť/zatvoriť rozbaľovaciu ponuku\"} onClick={() => {\n\t\t\t\t\t\t\t\tif (this.state.isDropDownMenu) {\n\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: true});\n\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t height={20}\n\t\t\t\t\t\t\t\t\t\t width={this.props.model.getOptions().name ? 0 : 20}>{this.state.isDropDownMenu ? ADDPORTSELECTED : ADDPORT}</PortClassic>\n\t\t\t\t\t\t\t</PortWidget>\n\t\t\t\t\t\t</ElementContainer>\n\t\t\t\t\t</Elements>\n\t\t\t\t</NaryNodeList>\n\t\t\t\t{(this.state.isDropDownMenu && this.props.model.isSelected()) ?\n\t\t\t\t\t<DropDownMenuWidget widthOfInputElement={width}\n\t\t\t\t\t\t\t\t\t\tsetStateInputElementTextLength={this.setInputElementTextLength}\n\t\t\t\t\t\t\t\t\t\tmodel={this.props.model}\n\t\t\t\t\t\t\t\t\t\tengine={this.props.engine} modelName={this.props.model.getNodeName()}\n\t\t\t\t\t\t\t\t\t\tarity={\"3\"}\n\t\t\t\t\t\t\t\t\t\tcloseDropDown={this.closeDropDown}/> : null\n\t\t\t\t}\n\t\t\t</Element>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport { QuaternaryNodeModel } from './QuaternaryNodeModel';\nimport { DiagramEngine, PortWidget } from '@projectstorm/react-diagrams';\nimport styled from '@emotion/styled';\nimport {ElementContainer} from \"../../labels/binary/BinaryLabelWidget\";\nimport _ from \"lodash\";\nimport {Port as PortClassic} from \"../unbinary/UnBinaryPortLabelWidget\";\nimport {ADDPORT, ADDPORTSELECTED, FUNCTION, PREDICATE} from \"../ConstantNames\";\nimport {DropDownMenuWidget} from \"../DropDownMenuWidget\";\nimport {NaryNodeList} from \"../ternary/TernaryNodeWidget\";\nimport {NaryListWidget} from \"../NaryListWidget\";\nimport {getWidestElement, selectOnlyCurrentGraphElement} from '../functions';\n\nexport interface QuaternaryNodeWidgetProps {\n\tmodel: QuaternaryNodeModel;\n\tengine: DiagramEngine;\n\tsize?: number;\n}\n\ninterface QuaternaryNodeWidgetState {\n\tnodeName?:string;\n\tbadName?:boolean;\n\tcolor?:any;\n\tisDropDownMenu?:boolean;\n\tinputElementTextLength?:number;\n}\n\nexport const Element = styled.div`\n\tdisplay: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nexport const Elements = styled.div`\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(256, 256, 256, 0.4), rgba(256, 256, 256, 0.5));\n\t`;\n\n\nexport const Port = styled.div`\n\twidth: 16px;\n\theight: 16px;\n\tz-index: 10;\n\tbackground: rgba(0, 0, 0, 0.5);\n\tborder-radius: 8px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tbackground: rgba(0, 0, 0, 1);\n\t}\n`;\n\nexport const Node = styled.div<{ size: number, pointerEvents: string, cursor:string}>`\n\tposition: 'relative';\n\tpointer-events: ${p => p.pointerEvents};\n\tcursor: ${p => p.cursor};\n\tdisplay:flex;\n\tjustify-content: center;\n\theight: 60px;\n`;\n\nexport class NodeWidget extends React.Component<{ size: number, color: string, isSelected: boolean }> {\n\trender() {\n\t\tlet {size, color, isSelected} = this.props;\n\t\treturn (\n\t\t\t<svg width={size} height={size}>\n\t\t\t\t<g id=\"Layer_1\">\n\t\t\t\t</g>\n\t\t\t\t<g id=\"Layer_2\">\n\t\t\t\t\t<polygon\n\t\t\t\t\t\tpoints={\"10,\" + this.props.size / 2 + \" \" + this.props.size / 2 + \",10\" + \" \" + (this.props.size-10) + \",\" + this.props.size / 2 + \" \" + this.props.size / 2 + \",\" + (this.props.size -10)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfill: color,\n\t\t\t\t\t\t\tstrokeMiterlimit: 10,\n\t\t\t\t\t\t\tstrokeWidth: 2.5,\n\t\t\t\t\t\t\tstroke: isSelected ? \"rgb(0,192,255)\" : \"#000000\"\n\t\t\t\t\t\t}}/>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nexport class QuaternaryNodeWidget extends React.Component<QuaternaryNodeWidgetProps,QuaternaryNodeWidgetState> {\n\n\tconstructor(props: QuaternaryNodeWidgetProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tbadName: false,\n\t\t\tisDropDownMenu: false,\n\t\t\tcolor: \"rgb(255,255,0)\",\n\t\t\tinputElementTextLength: 0\n\t\t};\n\n\t\tthis.setInputElementTextLength = this.setInputElementTextLength.bind(this);\n\t\tthis.closeDropDown = this.closeDropDown.bind(this);\n\t\tthis.generateFunctionComponent = this.generateFunctionComponent.bind(this);\n\t\tthis.generatePredicateComponent = this.generatePredicateComponent.bind(this);\n\t}\n\n\n\tcomponentDidUpdate(): void {\n\t\tthis.setIsDropDownMenuAccordingBehaviour();\n\t}\n\n\tsetInputElementTextLength(length: number) {\n\t\tthis.setState({inputElementTextLength: length});\n\t}\n\n\n\tsetIsDropDownMenuAccordingBehaviour() {\n\t\tif (!this.props.model.isSelected() && this.state.isDropDownMenu) {\n\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t}\n\t}\n\n\tsetColor(color: any) {\n\t\tthis.setState({color: color});\n\t}\n\n\tcloseDropDown() {\n\t\tif (this.state.isDropDownMenu) {\n\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\tthis.props.model.setLocked(false);\n\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\tthis.props.engine.repaintCanvas();\n\t\t}\n\t}\n\n\tgeneratePredicateComponent(elementName:string){\n\t\treturn <NaryListWidget engine={this.props.engine} model={this.props.model} elementName={elementName} type={PREDICATE} key={elementName}/>\n\t}\n\n\tgenerateFunctionComponent(elementName:string){\n\t\treturn <NaryListWidget engine={this.props.engine} model={this.props.model} elementName={elementName} type={FUNCTION} key={elementName}/>\n\t}\n\n\tgetWidestElement(): number {\n\t\tlet width: number = 3;\n\t\tlet compareWidth: number = getWidestElement(this.state.isDropDownMenu, this.state.inputElementTextLength, this.props.model, width, \"4\", \"3\");\n\n\t\tif (compareWidth > width) {\n\t\t\treturn compareWidth;\n\t\t}\n\n\t\treturn width;\n\t}\n\trender() {\n\t\tlet width = this.getWidestElement();\n\t\treturn (\n\t\t\t<Element>\n\t\t\t\t<Node size={this.props.size}\n\t\t\t\t\t  pointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n\t\t\t\t\t  cursor={this.props.model.isEditable() ? \"pointer\" : \"move\"}\n\t\t\t\t\t  onClick={() => {\n\t\t\t\t\t\t  selectOnlyCurrentGraphElement(this.props.model,this.props.engine);\n\t\t\t\t\t  }}>\n\n\t\t\t\t\t<NodeWidget size={this.props.size} color={this.state.color} isSelected={this.props.model.isSelected()}/>\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: this.props.size / 2 - 9,\n\t\t\t\t\t\t\tleft: 50+\"%\",\n\t\t\t\t\t\t\tmarginLeft: -32+\"px\",\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(0)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Prvý parameter\"} />\n\t\t\t\t\t</PortWidget>\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: this.props.size - 8,\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(1)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Druhý parameter\"} />\n\t\t\t\t\t</PortWidget>\n\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tright: 50+\"%\",\n\t\t\t\t\t\t\tmarginRight: -32+\"px\",\n\t\t\t\t\t\t\ttop: this.props.size / 2 - 9,\n\t\t\t\t\t\t\tposition: 'absolute'\n\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(2)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Tretí parameter\"} />\n\t\t\t\t\t</PortWidget>\n\t\t\t\t\t<PortWidget\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: -8,\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tport={this.props.model.getPortByIndex(3)}\n\t\t\t\t\t\tengine={this.props.engine}>\n\t\t\t\t\t\t<Port title={\"Štvrtý parameter\"} />\n\t\t\t\t\t</PortWidget>\n\n\t\t\t\t</Node>\n\t\t\t\t<NaryNodeList pointerEvents={this.props.model.isEditable() ? \"auto\" : \"none\"}\n\t\t\t\t\t\t\t  cursor={this.props.model.isEditable() ? \"pointer\" : \"move\"} s>\n\t\t\t\t\t<Elements>\n\t\t\t\t\t\t<ElementContainer>\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getPredicates()), this.generatePredicateComponent)}\n\t\t\t\t\t\t\t{_.map(Array.from(this.props.model.getFunctions()), this.generateFunctionComponent)}\n\t\t\t\t\t\t\t<PortWidget engine={this.props.engine}\n\t\t\t\t\t\t\t\t\t\tport={this.props.model.getAppendPort()}>\n\t\t\t\t\t\t\t\t<PortClassic title={\"Otvoriť/zatvoriť rozbaľovaciu ponuku\"} onClick={() => {\n\t\t\t\t\t\t\t\t\tif (this.state.isDropDownMenu) {\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: false});\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.getModel().clearSelection();\n\t\t\t\t\t\t\t\t\t\tthis.props.model.setSelected(true);\n\t\t\t\t\t\t\t\t\t\tthis.setState({isDropDownMenu: true});\n\t\t\t\t\t\t\t\t\t\tthis.props.engine.repaintCanvas();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t height={20}\n\t\t\t\t\t\t\t\t\t\t\t width={this.props.model.getOptions().name ? 0 : 20}>{this.state.isDropDownMenu ? ADDPORTSELECTED : ADDPORT}</PortClassic>\n\t\t\t\t\t\t\t</PortWidget>\n\t\t\t\t\t\t</ElementContainer>\n\t\t\t\t\t</Elements>\n\t\t\t\t</NaryNodeList>\n\t\t\t\t{(this.state.isDropDownMenu && this.props.model.isSelected()) ?\n\t\t\t\t\t<DropDownMenuWidget widthOfInputElement={width}\n\t\t\t\t\t\t\t\t\t\tsetStateInputElementTextLength={this.setInputElementTextLength}\n\t\t\t\t\t\t\t\t\t\tmodel={this.props.model}\n\t\t\t\t\t\t\t\t\t\tengine={this.props.engine} modelName={this.props.model.getNodeName()}\n\t\t\t\t\t\t\t\t\t\tarity={\"4\"}\n\t\t\t\t\t\t\t\t\t\tcloseDropDown={this.closeDropDown}/> : null\n\t\t\t\t}\n\t\t\t</Element>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport {Node as UnbinaryNode, Ports as UnbinaryPorts, PortsContainer as UnbinaryPortsContainer, Title as UnbinaryTittle, TitleName as UnbinaryTittleName} from \"../nodes/unbinary/UnBinaryNodeWidget\";\nimport {Port as UnbinaryPort} from \"../nodes/unbinary/UnBinaryPortLabelWidget\";\nimport {Node as ConstantNode, Title as ConstantTitle, TitleName as ConstantTitleName} from \"../nodes/constant/ConstantNodeWidget\";\nimport {Node as QuaternaryNode} from \"../nodes/quaternary/QuaternaryNodeWidget\";\nimport {Node as TernaryNode} from \"../nodes/ternary/TernaryNodeWidget\";\nimport {ADDPORT} from \"../nodes/ConstantNames\";\nimport {NodeWidget as NodeWidgetForTernary} from \"../nodes/ternary/TernaryNodeWidget\";\nimport {NodeWidget as NodeWidgetForQuaternary} from \"../nodes/quaternary/QuaternaryNodeWidget\";\n\nexport const UnbinaryIcon = () =>{\n    return(\n        <UnbinaryNode style={{pointerEvents:\"none\"}}>\n            <UnbinaryTittle>\n                <UnbinaryTittleName>\n                    Node\n                </UnbinaryTittleName>\n            </UnbinaryTittle>\n\n            <UnbinaryPorts>\n            <UnbinaryPortsContainer>\n                <UnbinaryPort>{ADDPORT}</UnbinaryPort>\n            </UnbinaryPortsContainer>\n        </UnbinaryPorts>\n        </UnbinaryNode>\n    )\n};\n\nexport const ConstantIcon = () =>{\n    return(\n        <ConstantNode style={{pointerEvents:\"none\"}}>\n            <ConstantTitle>\n                <ConstantTitleName>\n                    Const\n                </ConstantTitleName>\n            </ConstantTitle>\n        </ConstantNode>\n    )\n};\n\nexport const TernaryIcon = () =>{\n    let size = 50;\n    return(\n        <TernaryNode size={size}>\n            <NodeWidgetForTernary size={size} color={\"rgb(255,255,0)\"} isSelected={false}/>\n        </TernaryNode>\n    )\n};\n\nexport const QuaternaryIcon = () =>{\n    let size = 50;\n    return(\n        <QuaternaryNode size={50}>\n            <NodeWidgetForQuaternary size={size} color={\"rgb(255,255,0)\"} isSelected={false}/>\n        </QuaternaryNode>\n    )\n};\n\n","import * as React from 'react';\nimport { TrayWidget } from './TrayWidget';\nimport {ItemWidgetIcon} from './TrayItemWidget';\nimport { CanvasWidget} from '@projectstorm/react-canvas-core';\nimport { MainCanvasWidget} from './MainCanvasWidget';\nimport styled from '@emotion/styled';\nimport {UnBinaryNodeModel} from \"../nodes/unbinary/UnBinaryNodeModel\";\nimport {ConstantNodeModel} from \"../nodes/constant/ConstantNodeModel\";\nimport {QuaternaryNodeModel} from \"../nodes/quaternary/QuaternaryNodeModel\";\nimport {TernaryNodeModel} from \"../nodes/ternary/TernaryNodeModel\";\nimport FontAwesome from \"react-fontawesome\";\nimport {Button} from 'react-bootstrap';\nimport {ConstantIcon, QuaternaryIcon, TernaryIcon, UnbinaryIcon} from \"./TrayItemWidgetIcon\";\nimport {importDiagramState} from \"../../redux/actions\";\nimport {CONSTANTNODE, QUATERNARYNODE, TERNARYNODE, UNBINARYNODE} from \"../nodes/ConstantNames\";\nimport { NodeModel } from '@projectstorm/react-diagrams';\nimport {BinaryLabelModel} from \"../labels/binary/BinaryLabelModel\";\n\nexport interface BodyWidgetProps {\n\tsyncDiagram:any;\n\taddDomainNode:any;\n\taddConstantNode:any;\n\taddTernaryNode:any;\n\taddQuaternaryNode:any;\n\trenameDomainNode:any;\n\trenameConstantNode:any;\n\tremoveDomainNode:any;\n\tremoveConstantNode:any;\n\tremoveTernaryNode:any;\n\tremoveQuaternaryNode:any;\n\taddUnaryPredicate:any;\n\taddUnaryFunction:any;\n\taddBinaryPredicate:any;\n\taddBinaryFunction:any;\n\taddTernaryPredicate:any;\n\taddTernaryFunction:any;\n\taddQuaternaryPredicate:any;\n\tremoveUnaryPredicate:any;\n\tremoveUnaryFunction:any;\n\tremoveBinaryPredicate:any;\n\tremoveBinaryFunction:any;\n\tremoveTernaryPredicate:any;\n\tremoveTernaryFunction:any;\n\tremoveQuaternaryPredicate:any;\n\ttoggleEditableNodes:any;\n\tsetConstantValueFromLink:any;\n\tchangeDirectionOfBinaryRelation:any;\n\tdiagramState:any;\n\tstore:any;\n}\n\n\texport const Body = styled.div`\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t`;\n\n\texport const Content = styled.div`\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t`;\n\n\texport const Layer = styled.div`\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t`;\n\n\texport const ModeElement = styled.div`\n\tdisplay:flex;\n\tflex-direction:row;\n\t\n\t`;\n\n\n\tfunction getAvailableCount(nodeType:string,diagramState:any):number {\n\t\tlet nodeCount:number = 0;\n\t\tlet name: string;\n\t\tlet state:Map<string,object>;\n\t\tif (nodeType === 'unbinary') {\n\t\t\tstate = diagramState.domainNodes;\n\t\t\tname = UNBINARYNODE;\n\t\t\t}\n\n\t\telse if(nodeType === 'constant'){\n\t\t\tstate = diagramState.constantNodes;\n\t\t\tname = CONSTANTNODE;\n\t\t}\n\n\t\telse if(nodeType === 'ternary'){\n\t\t\tstate = diagramState.ternaryNodes;\n\t\t\tname = TERNARYNODE;\n\t\t}\n\n\t\telse{\n\t\t\tstate = diagramState.quaternaryNodes;\n\t\t\tname = QUATERNARYNODE;\n\t\t}\n\n\t\twhile(state.has(name+nodeCount)){\n\t\t\tnodeCount++;\n\t\t}\n\t\treturn nodeCount;\n\t}\n\n\tfunction createNode(element:any,event:any,reduxProps:any,clicked:boolean=true) {\n\t\tlet data;\n\t\tif (clicked) {\n\t\t\tdata = JSON.parse(event);\n\t\t} else {\n\t\t\tdata = JSON.parse(event.dataTransfer.getData('storm-graph_view-node'));\n\t\t}\n\n\t\tlet nodesCount = getAvailableCount(data.type,element.props.diagramState);\n\n\t\tlet node: any;\n\t\tif (data.type === 'unbinary') {\n\t\t\tnode = new UnBinaryNodeModel(UNBINARYNODE + nodesCount, 'rgb(92,192,125)', reduxProps);\n\t\t\treduxProps.addDomainNode(node.getOptions().name,node);\n\n\t\t} else if (data.type === 'constant') {\n\t\t\tnode = new ConstantNodeModel(CONSTANTNODE + nodesCount, 'rgb(92,192,125)', reduxProps);\n\t\t\treduxProps.addConstantNode(node.getOptions().name,node);\n\t\t}\n\n\t\telse if(data.type === 'ternary'){\n\t\t\tnode = new TernaryNodeModel({name:TERNARYNODE+nodesCount,reduxProps:reduxProps,numberOfPorts:3});\n\t\t\treduxProps.addTernaryNode(node.getOptions().name,node);\n\t\t}\n\n\t\telse if (data.type === 'quaternary') {\n\t\t\tnode = new QuaternaryNodeModel({name:QUATERNARYNODE+nodesCount,reduxProps:reduxProps,numberOfPorts:4});\n\t\t\treduxProps.addQuaternaryNode(node.getOptions().name,node);\n\t\t}\n\n\t\telse {\n\t\t\tthrow new Error(\"Node cannot be null, possible leak of unknown type\");\n\t\t}\n\n\t\tlet point;\n\n\t\tlet diagramEngine = element.props.diagramState.diagramEngine;\n\n\t\tif (clicked) {\n\t\t\tlet canvasWidth = diagramEngine.getCanvas().clientWidth;\n\t\t\tlet canvasHeight = diagramEngine.getCanvas().clientHeight;\n\t\t\tpoint = {x: Math.random()*(canvasWidth-canvasWidth*0.2)+canvasWidth*0.05, y: Math.random()*(canvasHeight-canvasHeight*0.2)+canvasHeight*0.05};\n\t\t} else {\n\t\t\tpoint = diagramEngine.getRelativeMousePoint(event);\n\t\t}\n\n\t\tnode.setPosition(point);\n\t\tdiagramEngine.getModel().addNode(node);\n\t\telement.forceUpdate();\n\t}\n\nexport class BodyWidget extends React.Component<BodyWidgetProps,any> {\n\tbody: any;\n\treduxProps: any;\n\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.focusOnBodyElement = this.focusOnBodyElement.bind(this);\n\t\tthis.clearGraphSelection = this.clearGraphSelection.bind(this);\n\n\t\tthis.reduxProps = {\n\t\t\t\"addDomainNode\": this.props.addDomainNode,\n\t\t\t\"addConstantNode\": this.props.addConstantNode,\n\t\t\t\"addTernaryNode\": this.props.addTernaryNode,\n\t\t\t\"addQuaternaryNode\": this.props.addQuaternaryNode,\n\t\t\t\"renameDomainNode\": this.props.renameDomainNode,\n\t\t\t\"removeDomainNode\": this.props.removeDomainNode,\n\t\t\t\"renameConstantNode\": this.props.renameConstantNode,\n\t\t\t\"removeConstantNode\": this.props.removeConstantNode,\n\t\t\t\"removeTernaryNode\": this.props.removeTernaryNode,\n\t\t\t\"removeQuaternaryNode\": this.props.removeQuaternaryNode,\n\t\t\t\"addUnaryPredicate\": this.props.addUnaryPredicate,\n\t\t\t\"addUnaryFunction\": this.props.addUnaryFunction,\n\t\t\t\"addBinaryPredicate\": this.props.addBinaryPredicate,\n\t\t\t\"addBinaryFunction\" : this.props.addBinaryFunction,\n\t\t\t\"addTernaryPredicate\": this.props.addTernaryPredicate,\n\t\t\t\"addTernaryFunction\" : this.props.addTernaryFunction,\n\t\t\t\"addQuaternaryPredicate\": this.props.addQuaternaryPredicate,\n\t\t\t\"removeUnaryPredicate\": this.props.removeUnaryPredicate,\n\t\t\t\"removeUnaryFunction\": this.props.removeUnaryFunction,\n\t\t\t\"removeBinaryPredicate\": this.props.removeBinaryPredicate,\n\t\t\t\"removeBinaryFunction\" : this.props.removeBinaryFunction,\n\t\t\t\"removeTernaryPredicate\" : this.props.removeTernaryPredicate,\n\t\t\t\"removeTernaryFunction\" : this.props.removeTernaryFunction,\n\t\t\t\"removeQuaternaryPredicate\": this.props.removeQuaternaryPredicate,\n\t\t\t\"setConstantValueFromLink\": this.props.setConstantValueFromLink,\n\t\t\t\"changeDirectionOfBinaryRelation\": this.props.changeDirectionOfBinaryRelation,\n\t\t\t\"focusOnBodyElement\": this.focusOnBodyElement,\n\t\t\t\"editable\": this.props.diagramState.editableNodes,\n\t\t\t\"store\": this.props.store,\n\t\t};\n\t}\n\n\tcomponentDidMount(): void {\n\t\tif(this.props.diagramState.imported) {\n\t\t\tthis.props.store.dispatch(importDiagramState(this.props.store.getState()));\n\t\t}\n\t\telse{\n\t\t\tthis.props.syncDiagram(this.props,this.focusOnBodyElement);\n\t\t}\n\t\tthis.focusOnBodyElement();\n\t}\n\tcomponentDidUpdate(): void {\n\t\tif(this.props.diagramState.imported){\n\t\t\tthis.props.store.dispatch(importDiagramState({...this.props.store.getState(),...this.reduxProps},this.focusOnBodyElement));\n\t\t\tthis.focusOnBodyElement();\n\t\t}\n\t\tthis.reduxProps[\"editable\"] = this.props.diagramState.editableNodes;\n\t}\n\n\tfocusOnBodyElement(){\n\t\tif(this.body){\n\t\t\tthis.body.focus();\n\t\t}\n\t}\n\n\tclearGraphSelection(){\n\t\tthis.props.diagramState.diagramEngine.getModel().clearSelection();\n\t\tthis.props.diagramState.diagramEngine.repaintCanvas();\n\t}\n\n\trender() {\n\t\tlet editableNodes = this.props.diagramState.editableNodes;\n\t\tlet editableNodesFunction = this.props.toggleEditableNodes;\n\n\t\treturn (\n\t\t\t<Body ref={Body => this.body = Body} tabIndex={1} onKeyPress={(e: any) => {\n\t\t\t\tlet exclude = ['input', 'textarea'];\n\t\t\t\tif (!exclude.includes(e.target.tagName.toLowerCase())) {\n\t\t\t\t\tif (e.key === ';' || e.key === '`') {\n\t\t\t\t\t\teditableNodes ? editableNodesFunction(false) : editableNodesFunction(true);\n\t\t\t\t\t} else if (e.key.toLowerCase() === 'p') {\n\t\t\t\t\t\teditableNodesFunction(false);\n\t\t\t\t\t} else if (e.key.toLowerCase() === 'e') {\n\t\t\t\t\t\teditableNodesFunction(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t\t\t  onKeyDown={(e:any) => {\n\t\t\t\t\t  if (e.key === \"Escape\") {\n\t\t\t\t\t\t this.clearGraphSelection();\n\t\t\t\t\t  }\n\t\t\t\t\t  else if(e.key === \"Backspace\"){\n\t\t\t\t\t  \tif(this.props.diagramState.diagramEngine.getModel().getSelectedEntities().length>0){\n\t\t\t\t\t\t\tlet exclude = ['input', 'textarea'];\n\t\t\t\t\t\t\tif (!exclude.includes(e.target.tagName.toLowerCase())) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t  }\n\t\t\t\t  }}\n\t\t\t>\n\t\t\t\t<Content>\n\t\t\t\t\t<TrayWidget>\n\t\t\t\t\t\t<ModeElement>\n\t\t\t\t\t\t<Button title={\"Pohyb po grafe (P)\"} variant={\"outline-primary\"}\n\t\t\t\t\t\t\t\tclassName={editableNodes ? \"\" : \"active\"} onClick={() => {\n\t\t\t\t\t\t\teditableNodesFunction(false)\n\t\t\t\t\t\t}}><FontAwesome name={\"fas fa-arrows-alt\"}/></Button>\n\t\t\t\t\t\t<Button title={\"Editovanie grafu (E)\"} variant={\"outline-primary\"}\n\t\t\t\t\t\t\t\tclassName={editableNodes ? \"active\" : \"\"} onClick={() => {\n\t\t\t\t\t\t\teditableNodesFunction(true)\n\t\t\t\t\t\t}}><FontAwesome name={\"fas fa-edit\"}/></Button>\n\t\t\t\t\t\t</ModeElement>\n\n\t\t\t\t\t\t<ItemWidgetIcon model={{type: 'unbinary'}} clickFunction={createNode} element={this}\n\t\t\t\t\t\t\t\t\t\tname=\"Pridaj unárny/binárny\" color=\"rgb(125,192,125)\"\n\t\t\t\t\t\t\t\t\t\treduxProps={this.reduxProps}\n\t\t\t\t\t\t\t\t\t\ttitle={\"Pridať vrchol, ktorý predstavuje prvok domény. Tomuto prvku je možné následne pridať unárne predikáty a vytvarať binárne väzby\"}\n\t\t\t\t\t\t\t\t\t\tchildren={<UnbinaryIcon/>}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ItemWidgetIcon model={{type: 'constant'}} clickFunction={createNode} element={this}\n\t\t\t\t\t\t\t\t\t\tname=\"Pridaj konštantu\" color=\"rgb(125,192,125)\"\n\t\t\t\t\t\t\t\t\t\treduxProps={this.reduxProps}\n\t\t\t\t\t\t\t\t\t\ttitle={\"Pridať vrchol, ktorý predstavuje konštanty. Vytvorením linky priradíme konštante prvok domény\"}\n\t\t\t\t\t\t\t\t\t\tchildren={<ConstantIcon/>}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ItemWidgetIcon model={{type: 'ternary'}} clickFunction={createNode} element={this}\n\t\t\t\t\t\t\t\t\t\tname= \"Pridaj ternárny\" color=\"rgb(128,96,245)\"\n\t\t\t\t\t\t\t\t\t\treduxProps={this.reduxProps}\n\t\t\t\t\t\t\t\t\t\ttitle={\"Pridať vrchol, ktorý predstavuje ternárny vzťah pre predikáty a binárny vzťah pre funkcie\"}\n\t\t\t\t\t\t\t\t\t\tchildren={<TernaryIcon/>}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ItemWidgetIcon model={{type: 'quaternary'}} clickFunction={createNode} element={this}\n\t\t\t\t\t\t\t\t\t\tname=\"Pridaj štvornárny\" color=\"rgb(128,96,245)\"\n\t\t\t\t\t\t\t\t\t\treduxProps={this.reduxProps}\n\t\t\t\t\t\t\t\t\t\ttitle={\"Pridať vrchol, ktorý predstavuje quaternárny vzťah pre predikáty a ternárny vzťah pre funkcie\"}\n\t\t\t\t\t\t\t\t\t\tchildren={<QuaternaryIcon/>}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</TrayWidget>\n\t\t\t\t\t<Layer\n\t\t\t\t\t\tonDrop={event => {\n\t\t\t\t\t\t\tcreateNode(this, event, this.reduxProps, false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonDragOver={event => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MainCanvasWidget>\n\t\t\t\t\t\t\t<CanvasWidget engine={this.props.diagramState.diagramEngine}/>\n\t\t\t\t\t\t</MainCanvasWidget>\n\t\t\t\t\t</Layer>\n\t\t\t\t</Content>\n\t\t\t</Body>\n\t\t);\n\t}\n}\n","import {\n  lockConstantValue,\n  lockDomain,\n  lockFunctionValue,\n  lockPredicateValue,\n  setConstantValue,\n  setFunctionValueTable,\n  setFunctionValueText,\n  setPredicateValueTable,\n  setPredicateValueText,\n  toggleDatabase,\n  toggleTable,\n  renameDomainNode,\n  syncDiagram,\n  addDomainNode,\n  removeDomainNode,\n  addConstantNode,\n  removeConstantNode,\n  addUnaryPredicate,\n  removeUnaryPredicate,\n  toggleEditableNodes,\n  renameConstantNode,\n  setConstantValueFromLink,\n  addBinaryPredicate,\n  removeBinaryPredicate,\n  changeDirectionOfBinaryRelation,\n  addUnaryFunction,\n  removeUnaryFunction,\n  addTernaryNode,\n  addQuaternaryNode,\n  removeTernaryNode,\n  removeQuaternaryNode,\n  addBinaryFunction,\n  addTernaryPredicate,\n  addTernaryFunction,\n  addQuaternaryPredicate,\n  removeTernaryPredicate,\n  removeTernaryFunction,\n  removeQuaternaryPredicate,\n  removeBinaryFunction,\n} from \"../actions\";\nimport {connect} from 'react-redux';\nimport {BodyWidget} from \"../../graph_view/components/BodyWidget\";\nimport {getStructureObject} from \"../selectors/structureObject\";\n\nconst mapStateToProps = (state,ownProps) => ({\n  structure: state.structure,\n  structureObject: getStructureObject(state),\n  diagramState: state.diagramState,\n  store: ownProps.store\n});\n\nconst mapDispatchOnProps = {\n  addDomainNode: addDomainNode,\n  addConstantNode: addConstantNode,\n  addTernaryNode: addTernaryNode,\n  renameDomainNode: renameDomainNode,\n  renameConstantNode: renameConstantNode,\n  removeDomainNode: removeDomainNode,\n  removeConstantNode: removeConstantNode,\n  removeTernaryNode: removeTernaryNode,\n  removeQuaternaryNode: removeQuaternaryNode,\n  addQuaternaryNode: addQuaternaryNode,\n  addUnaryPredicate: addUnaryPredicate,\n  addUnaryFunction: addUnaryFunction,\n  addBinaryPredicate: addBinaryPredicate,\n  addBinaryFunction: addBinaryFunction,\n  addTernaryPredicate: addTernaryPredicate,\n  addTernaryFunction: addTernaryFunction,\n  addQuaternaryPredicate: addQuaternaryPredicate,\n  removeUnaryFunction: removeUnaryFunction,\n  removeUnaryPredicate: removeUnaryPredicate,\n  removeBinaryPredicate: removeBinaryPredicate,\n  removeBinaryFunction: removeBinaryFunction,\n  removeTernaryPredicate: removeTernaryPredicate,\n  removeTernaryFunction: removeTernaryFunction,\n  removeQuaternaryPredicate: removeQuaternaryPredicate,\n  syncDiagram: syncDiagram,\n  setConstantValue: setConstantValue,\n  setPredicateValueText: setPredicateValueText,\n  setPredicateValueTable: setPredicateValueTable,\n  setFunctionValueText: setFunctionValueText,\n  setFunctionValueTable: setFunctionValueTable,\n  toggleTable: toggleTable,\n  toggleDatabase: toggleDatabase,\n  lockDomain: lockDomain,\n  lockConstantValue: lockConstantValue,\n  lockPredicateValue: lockPredicateValue,\n  lockFunctionValue: lockFunctionValue,\n  toggleEditableNodes: toggleEditableNodes,\n  setConstantValueFromLink: setConstantValueFromLink,\n  changeDirectionOfBinaryRelation: changeDirectionOfBinaryRelation\n};\n\nconst DiagramModelContainer = connect(\n   mapStateToProps,\n   mapDispatchOnProps\n)(BodyWidget);\n\nexport default DiagramModelContainer;","import {Col, Row} from \"react-bootstrap\";\nimport React from \"react\";\nimport ExpressionsContainer from \"../redux/containers/ExpressionsContainer\";\nimport DiagramModelContainer from \"../redux/containers/DiagramModelContainer\";\n\nimport styles from \"./DiagramSystem.module.css\"\n\nexport class DiagramSystem extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render(){\n        return(\n            <div>\n                <Row className={styles.reactDiagram}>\n                    <Col sm={12} >\n                        <DiagramModelContainer store={this.props.store}/>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12}>\n                        <ExpressionsContainer diagramModel={this.props.diagramModel}/>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n","\nfunction makeCordNodes(diagramState:any) {\n  let nodeState = new Map([[\"domainNodes\", diagramState.domainNodes],[\"constantNodes\", diagramState.constantNodes],[\"ternaryNodes\", diagramState.ternaryNodes],[\"quaternaryNodes\",diagramState.quaternaryNodes]]);\n  let nodesCoords:any = {};\n\n  for(let mapName of nodeState.keys()){\n    for(let [nodeName,nodeObject] of nodeState.get(mapName).entries()){\n      if(!nodesCoords.hasOwnProperty(mapName)){\n        nodesCoords[mapName] = {};\n      }\n      let nodeNameInObject = (mapName === \"domainNodes\" || mapName === \"constantNodes\")?nodeName:nodeObject.getNodeNameCombination();\n      if(nodeNameInObject){\n        nodesCoords[mapName][nodeNameInObject] = {x:nodeObject.position.x,y:nodeObject.position.y};\n      }\n    }\n  }\n  return nodesCoords;\n}\n\nfunction stateToJSON(state: any) {\n  return JSON.stringify({\n    common: state.common,\n    language: state.language,\n    structure: state.structure,\n    expressions: state.expressions,\n    diagramCordState: makeCordNodes(state.diagramState),\n  });\n}\n\nexport { stateToJSON }","import React from 'react';\nimport {Col, Row} from 'react-bootstrap';\nimport {Provider} from 'react-redux';\nimport ExpressionsContainer from './redux/containers/ExpressionsContainer';\nimport {clearGraphSelection, importAppState} from \"./redux/actions\";\nimport {DEFAULT_FILE_NAME} from \"./constants\";\nimport DiagramModelContainer from \"./redux/containers/DiagramModelContainer\";\nimport MathSystemContainer from './redux/containers/MathSystemContainer';\nimport ButtonToolbarComponent from \"./buttons/ButtonToolbarComponent\";\nimport HelpGraphCollapse from \"./buttons/HelpGraphCollapse\";\nimport {DiagramSystem} from \"./graph_view/DiagramSystem\";\nimport { stateToJSON } from './stateToJSON';\n\ninterface AppProps{\n  store:any;\n  teacherMode:boolean;\n  toggleTeacherMode:any;\n}\n\ninterface AppState {\n  modalShow:boolean;\n  diagramToggled:boolean;\n  exerciseName:string;\n  collapseHelpGraphButton:boolean;\n}\n\nclass App extends React.Component<AppProps,AppState> {\n  constructor(props:AppProps) {\n    super(props);\n\n    this.state = {\n      modalShow: false,\n      diagramToggled:false,\n      collapseHelpGraphButton:false,\n      exerciseName:''\n    };\n\n    this.exportState = this.exportState.bind(this);\n    this.importState = this.importState.bind(this);\n    this.setModelShowState = this.setModelShowState.bind(this);\n    this.setDiagramToggledState = this.setDiagramToggledState.bind(this);\n    this.setTeacherModeState = this.setTeacherModeState.bind(this);\n    this.setExerciseNameState = this.setExerciseNameState.bind(this);\n    this.clearGraphSelection = this.clearGraphSelection.bind(this);\n    this.setCollapseHelpGraphButton = this.setCollapseHelpGraphButton.bind(this);\n  }\n\n  setCollapseHelpGraphButton(bool:boolean){\n    this.setState({collapseHelpGraphButton:bool})\n  }\n\n  exportState() {\n    let state = this.props.store.getState();\n    let json = stateToJSON(state);\n\n    return {\n        mime: 'application/json',\n        filename: this.state.exerciseName.length === 0? (DEFAULT_FILE_NAME + '.json'):(this.state.exerciseName+'.json'),\n        contents: json\n    }\n  }\n\n  importState(e:any) {\n    let file = e.target.files[0];\n    let fr = new FileReader();\n\n    let store = this.props.store;\n    fr.onload = function (e) {\n      store.dispatch(importAppState(e.target.result,store.getState().diagramState));\n    };\n    fr.readAsText(file);\n  }\n\n  setModelShowState(bool:boolean){\n    this.setState({modalShow: bool});\n  }\n\n  setDiagramToggledState(bool:boolean){\n    this.setState({diagramToggled: bool});\n  }\n\n  setExerciseNameState(name:string){\n    this.setState({exerciseName:name});\n  }\n\n  setTeacherModeState(){\n    this.props.toggleTeacherMode();\n  }\n\n  clearGraphSelection(){\n    this.props.store.dispatch(clearGraphSelection());\n  }\n\n  render() {\n    return (\n        <Provider store={this.props.store}>\n          <div className='app'>\n            <Row className={'navbar'}>\n                  <ButtonToolbarComponent setCollapseHelpGraphButton={this.setCollapseHelpGraphButton} collapseHelpGraphButton={this.state.collapseHelpGraphButton} clearGraphSelection={this.clearGraphSelection} exportState={this.exportState} setExerciseNameState={this.setExerciseNameState} modalShowState={this.state.modalShow} diagramToggledState={this.state.diagramToggled} teacherModeState={this.props.teacherMode} setTeacherModeState={this.setTeacherModeState} setDiagramToggledState={this.setDiagramToggledState} setModelShowState={this.setModelShowState} importState={this.importState}/>\n                  <HelpGraphCollapse collapsed={this.state.collapseHelpGraphButton}/>\n            </Row>\n              {this.state.diagramToggled?\n                    <DiagramSystem store={this.props.store} diagramModel={this.props.store.getState().diagramState.diagramModel}/>\n                  : <MathSystemContainer diagramModel={this.props.store.getState().diagramState.diagramModel}/>\n              }\n          </div>\n        </Provider>\n    );\n  }\n}\n\nexport default App;\n","import {connect} from 'react-redux';\nimport App from \"../../App\";\nimport {toggleTeacherMode} from \"../actions\";\n\nconst mapStateToProps = (state) => ({\n    teacherMode:state.common.teacherMode\n});\n\nconst mapDispatchOnProps = {\n    toggleTeacherMode:toggleTeacherMode\n};\n\nconst AppContainer = connect(\n    mapStateToProps,\n    mapDispatchOnProps\n)(App);\n\nexport default AppContainer;","import {\n    CONSTANT_IN_LANGUAGE,\n    EMPTY_CONSTANT_VALUE, FUNCTION_ALREADY_DEFINED,\n    FUNCTION_IN_LANGUAGE, FUNCTION_NOT_FULL_DEFINED,\n    PREDICATE_IN_LANGUAGE\n} from \"../../../constants/messages\";\n\n\nexport function validateLanguageConstants(state){\n    if(state.constants.errorMessage){\n        return;\n    }\n    state.constants.parsed.forEach(c => {\n        if (state.functions.parsed && state.functions.parsed.some(value => value.name === c)) {\n            state.constants.errorMessage = `${FUNCTION_IN_LANGUAGE} ${c}`;\n            return;\n        }\n        if (state.predicates.parsed && state.predicates.parsed.some(value => value.name === c)) {\n            state.constants.errorMessage = `${PREDICATE_IN_LANGUAGE} ${c}`;\n            return;\n        }\n        if (state.constants.parsed.filter(value => value === c).length > 1) {\n            state.constants.errorMessage = `${CONSTANT_IN_LANGUAGE}  ${c}`;\n            return;\n        }\n    });\n}\n\nexport function validateLanguagePredicates(state){\n    if(state.predicates.errorMessage){\n        return;\n    }\n    state.predicates.parsed.forEach(p => {\n        if (state.constants.parsed && state.constants.parsed.some(value => value === p.name)) {\n            state.predicates.errorMessage = `${CONSTANT_IN_LANGUAGE} ${p.name}`;\n            return;\n        }\n        if (state.functions.parsed && state.functions.parsed.some(value => value.name === p.name)) {\n            state.predicates.errorMessage = `${FUNCTION_IN_LANGUAGE} ${p.name}`;\n            return;\n        }\n        if(state.predicates.parsed.filter(value => value.name === p.name).length > 1){\n            state.predicates.errorMessage = `${PREDICATE_IN_LANGUAGE} ${p.name}`;\n            return;\n        }\n    });\n}\n\nexport function validateLanguageFunctions(state){\n    if(state.functions.errorMessage){\n        return;\n    }\n    state.functions.parsed.forEach(f => {\n        if (state.constants.parsed && state.constants.parsed.some(value => value === f.name)) {\n            state.functions.errorMessage = `${CONSTANT_IN_LANGUAGE} ${f.name}`;\n            return;\n        }\n        if (state.predicates.parsed && state.predicates.parsed.some(value => value.name === f.name)) {\n            state.functions.errorMessage = `${PREDICATE_IN_LANGUAGE} ${f.name}`;\n            return;\n        }\n        if(state.functions.parsed.filter(value => value.name === f.name).length > 1){\n            state.functions.errorMessage = `${FUNCTION_IN_LANGUAGE} ${f.name}`;\n            return;\n        }\n    });\n}\n\nexport function validateStructureConstants(constantName, value, constants, domainValues){\n    if (!constants[constantName]) {\n        throw `Jazyk neobsahuje konštantu ${constantName}`;\n    }\n    if (!domainValues.includes(value)) {\n        throw EMPTY_CONSTANT_VALUE;\n    }\n}\n\nexport function validateStructurePredicates(predicateValues, domainValues, arity){\n    let message = '';\n    predicateValues.forEach(tuple => {\n        if(tuple.length !== parseInt(arity)){\n            message = `N-tica ${tuple} nemá povolený počet prvkov`;\n            return;\n        }\n        if (predicateValues.filter(t => JSON.stringify(t) === JSON.stringify(tuple)).length > 1) {\n            message = `N-tica ${tuple} sa v predikáte už nachádza`;\n            return;\n        }\n        let illegalItems = tuple.filter(t => !domainValues.includes(t));\n        if(illegalItems.length > 0){\n            message = `Prvok ${illegalItems[0]} nie je v doméne štruktúry`;\n            return;\n        }\n    });\n    return message;\n}\n\nexport function validateStructureFunctions(functionValues, domainValues, arity){\n    let message = '';\n    let usedParams = [];\n    arity = parseInt(arity);\n    functionValues.forEach(tuple => {\n        let params = tuple.slice(0, tuple.length - 1); //takes just the arguments of the function\n        let stringParams = params.join(\",\");\n        if(usedParams.includes(stringParams)){\n            message = FUNCTION_ALREADY_DEFINED(params);\n            return;\n        }\n        if(params.length !== arity){\n            message = `Prvok ${tuple.length == 1 ? tuple : `(${tuple})`} nezodpovedá arite funkčného symbolu, prvky interpretácie musia byť ${arity + 1}-tice`;\n            return;\n        }\n        let illegalItems = tuple.filter(t => !domainValues.includes(t));\n        if (illegalItems.length > 0) {\n            message = `Prvok ${illegalItems[0]} nie je v doméne štruktúry`;\n            return;\n        }\n        usedParams.push(stringParams);\n    });\n\n    if(message === '') {\n        if (functionValues.length !== Math.pow(domainValues.length, arity)) {\n            message = FUNCTION_NOT_FULL_DEFINED;\n        }\n    }\n    return message;\n}\n","export const CONSTANT_IN_LANGUAGE = 'Jazyk už obsahuje konštantu';\nexport const FUNCTION_IN_LANGUAGE = 'Jazyk už obsahuje funkciu';\nexport const PREDICATE_IN_LANGUAGE = 'Jazyk už obsahuje predikát';\n\nexport const ITEM_IN_LANGUAGE = (item) => `Jazyk už obsahuje prvok ${item}`;\n\nexport const EMPTY_CONSTANT_VALUE = 'Interpretácia konštanty musí byť definovaná';\nexport const EMPTY_DOMAIN = 'Doména nesmie byť prázdna';\nexport const ITEM_NOT_IN_DOMAIN = (item) => `Doména neobsahuje prvok ${item}`;\n\nexport const FUNCTION_NOT_FULL_DEFINED = 'Funkcia nie je definovaná pre všetky argumenty';\nexport const FUNCTION_ALREADY_DEFINED = (params) => `Funkcia je viackrát definovaná pre argumenty ${params}`;\n","import Expression from \"../Expression\";\n\n/**\n * Represent simple term.\n * @author Milan Cifra\n * @class\n * @abstract\n *\n */\nclass Term extends Expression {\n\n  /*constructor() {\n    super();\n  }*/\n\n  toString() {\n    return '';\n  }\n\n  createCopy(){\n    return new Term();\n  }\n\n  substitute(_from, _to, _bound){\n    //nothing\n  }\n\n  getVariables(){\n    return [];\n  }\n}\n\nexport default Term;","import Term from \"./Term\";\n\n/**\n * Variable\n * @author Milan Cifra\n * @class\n * @extends Term\n */\nclass Variable extends Term {\n\n  /**\n   *\n   * @param {string} name\n   */\n  constructor(name) {\n    super();\n    this.name = name;\n  }\n\n  /**\n   * Return intepretation of variable.\n   * @param {Structure} structure\n   * @param {Map} e variables valuation\n   * @return {string} domain item\n   */\n  eval(structure, e) {\n    if (!e.has(this.name)) {\n      throw `Hodnota premennej ${this.name} nie je definovaná. Je voľná, ale nie je v definičnom obore ohodnotenia e.`;\n    }\n    return e.get(this.name);\n  }\n\n  /**\n   * Return string representation of variable\n   * @returns {string}\n   */\n  toString() {\n    return this.name;\n  }\n\n  createCopy(){\n    return new Variable(this.name);\n  }\n\n  substitute(from, to, bound){\n    if (this.name === from) {\n      if (bound && bound.has(to)) {\n        throw `Premennú ${this.name} nemožno substituovať za ${to}, vo formule, v ktorej je ${to} viazaná.`;\n      }\n      return new Variable(to);\n    }\n    return this.createCopy();\n  }\n\n  getVariables(){\n    return [this.name];\n  }\n}\n\nexport default Variable;","import Term from \"./Term\";\n\n/**\n * Constant\n * @author Milan Cifra\n * @class\n * @extends Term\n */\nclass Constant extends Term {\n\n  /**\n   *\n   * @param {string} name Name of the constant\n   */\n  constructor(name) {\n    super();\n    this.name = name;\n  }\n\n  /**\n   * Return intepretation of the constant\n   * @param {Structure} structure Structure\n   * @param {Map} e variables valuation\n   * @return {string} domain item\n   */\n  eval(structure, e) {\n    if (structure.iConstant.get(this.name) === undefined ||\n        structure.iConstant.get(this.name) === null ||\n        structure.iConstant.get(this.name) === '') {\n      throw `Interpretácia konštanty ${this.name} nie je definovaná`;\n    }\n    return structure.iConstant.get(this.name);\n  }\n\n  /**\n   * Return string representation of constant\n   * @returns {string}\n   */\n  toString() {\n    return this.name;\n  }\n\n  createCopy(){\n    return new Constant(this.name);\n  }\n\n  substitute(_from, _to, _bound){\n    return this.createCopy();\n  }\n\n  getVariables(){\n    return [this.name];\n  }\n\n}\n\nexport default Constant;","import Term from \"./Term\";\n\n/**\n * Represent function term\n * @author Milan Cifra\n * @class\n * @extends Term\n */\nclass FunctionTerm extends Term {\n\n  /**\n   *\n   * @param {string} name name of the function\n   * @param {Term[]} terms parameters of function\n   */\n  constructor(name, terms) {\n    super();\n    this.name = name;\n    this.terms = terms;\n  }\n\n  /**\n   * Return intepretation of function.\n   * @param {Structure} structure\n   * @param {Map} e variables valuation\n   * @returns {string} domain item\n   */\n  eval(structure, e) {\n    let interpretedParams = [];\n    this.terms.forEach(term => {\n      interpretedParams.push(term.eval(structure, e));\n    });\n    if (!structure.iFunction.get(this.name + '/' + structure.language.functions.get(this.name))[JSON.stringify(interpretedParams)]) {\n      throw `Interpretácia funkčného symbolu ${this.name} pre ${interpretedParams.length > 1 ? `(${interpretedParams})` : interpretedParams} nie je definovaná`;\n    }\n    return structure.iFunction.get(this.name + '/' + structure.language.functions.get(this.name))[JSON.stringify(interpretedParams)];\n  }\n\n  /**\n   * Return string representation of function term\n   * @returns {string}\n   */\n  toString() {\n    let res = this.name + '(';\n    for (let i = 0; i < this.terms.length; i++) {\n      if (i > 0) {\n        res += ', ';\n      }\n      res += this.terms[i].toString();\n    }\n    res += ')';\n    return res;\n  }\n\n  createCopy(){\n    return new FunctionTerm(this.name, this.terms.map( (term) => term.createCopy() ));\n  }\n\n  substitute(from, to, bound){\n    return new FunctionTerm(this.name, this.terms.map( (term) => term.substitute(from, to, bound) ));\n  }\n\n  getVariables(){\n    return this.terms.flatMap(term => term.getVariables());\n  }\n}\n\nexport default FunctionTerm;","import Formula from \"./Formula\";\nimport {ATOM} from \"../../constants/gameConstants\";\n\n/**\n * Represent equality symbol\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass EqualityAtom extends Formula {\n\n  /**\n   *\n   * @param {Term} subLeft\n   * @param {Term} subRight\n   */\n  constructor(subLeft, subRight) {\n    super();\n    this.subLeft = subLeft;\n    this.subRight = subRight;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    return this.subLeft.eval(structure, e) == this.subRight.eval(structure, e);\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `(${this.subLeft.toString()} = ${this.subRight.toString()})`;\n  }\n\n  createCopy(){\n    return new EqualityAtom(this.subLeft.createCopy(), this.subRight.createCopy());\n  }\n\n  getType(commitment){\n    return ATOM;\n  }\n\n  getSubFormulas(){\n    return [];\n  }\n\n  substitute(from, to, bound){\n    return new EqualityAtom(this.subLeft.substitute(from, to, bound), this.subRight.substitute(from, to, bound));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [];\n  }\n\n  getVariables(){\n    return this.subLeft.getVariables().concat(this.subRight.getVariables());;\n  }\n}\n\nexport default EqualityAtom;","import Formula from \"./Formula\";\nimport {GAME_OPERATOR} from \"../../constants/gameConstants\";\n\n/**\n * Represent negation\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass Negation extends Formula {\n\n  /**\n   *\n   * @param {Formula} subFormula\n   */\n  constructor(subFormula) {\n    super();\n    this.subFormula = subFormula;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    return !this.subFormula.eval(structure, e);\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `¬${this.subFormula.toString()}`;\n  }\n\n  createCopy(){\n    return new Negation(this.subFormula.createCopy());\n  }\n\n  getType(commitment){\n    return GAME_OPERATOR;\n  }\n\n  getSubFormulas(){\n    return [this.subFormula];\n  }\n\n  substitute(from, to, bound){\n    return new Negation(this.subFormula.substitute(from, to, bound));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [!commitment];\n  }\n\n  getVariables(){\n    return this.subFormula.getVariables();\n  }\n}\n\nexport default Negation;","import Formula from \"./Formula\";\nimport {GAME_OPERATOR, PLAYER_OPERATOR} from \"../../constants/gameConstants\";\n\n/**\n * Represent conjunction\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass Conjunction extends Formula {\n\n  /**\n   *\n   * @param {Formula} subLeft\n   * @param {Formula} subRight\n   */\n  constructor(subLeft, subRight) {\n    super();\n    this.subLeft = subLeft;\n    this.subRight = subRight;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e variables valuation\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    const left = this.subLeft.eval(structure, e);\n    const right = this.subRight.eval(structure, e);\n    return left && right;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `(${this.subLeft.toString()} ∧ ${this.subRight.toString()})`;\n  }\n\n  createCopy(){\n    return new Conjunction(this.subLeft.createCopy(), this.subRight.createCopy());\n  }\n\n  getType(commitment){\n    return commitment ? GAME_OPERATOR : PLAYER_OPERATOR;\n  }\n\n  getSubFormulas(){\n    return [this.subLeft, this.subRight];\n  }\n\n  substitute(from, to, bound){\n    return new Conjunction(this.subLeft.substitute(from, to, bound), this.subRight.substitute(from, to, bound));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [commitment, commitment];\n  }\n\n  getVariables(){\n    return this.subLeft.getVariables().concat(this.subRight.getVariables());\n  }\n}\n\nexport default Conjunction;","import Formula from \"./Formula\";\nimport {GAME_OPERATOR, PLAYER_OPERATOR} from \"../../constants/gameConstants\";\n\n/**\n * Represent disjunction\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass Disjunction extends Formula {\n\n  /**\n   *\n   * @param {Formula} subLeft\n   * @param {Formula} subRight\n   */\n  constructor(subLeft, subRight) {\n    super();\n    this.subLeft = subLeft;\n    this.subRight = subRight;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    const left = this.subLeft.eval(structure, e);\n    const right = this.subRight.eval(structure, e);\n    return left || right;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `(${this.subLeft.toString()} ∨ ${this.subRight.toString()})`;\n  }\n\n  createCopy(){\n    return new Disjunction(this.subLeft.createCopy(), this.subRight.createCopy());\n  }\n\n  getType(commitment){\n    return commitment ? PLAYER_OPERATOR : GAME_OPERATOR;\n  }\n\n  getSubFormulas(){\n    return [this.subLeft, this.subRight];\n  }\n\n  substitute(from, to, bound){\n    return new Disjunction(this.subLeft.substitute(from, to, bound), this.subRight.substitute(from, to, bound));\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [commitment, commitment];\n  }\n\n  getVariables(){\n    return this.subLeft.getVariables().concat(this.subRight.getVariables());\n  }\n}\n\nexport default Disjunction;","import Formula from \"./Formula\";\nimport {GAME_QUANTIFIER, PLAYER_QUANTIFIER} from \"../../constants/gameConstants\";\n\n/**\n * Represent existential quantificator\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass ExistentialQuant extends Formula {\n\n  /**\n   *\n   * @param {string} variableName\n   * @param {Formula} subFormula\n   */\n  constructor(variableName, subFormula) {\n    super();\n    this.variableName = variableName;\n    this.subFormula = subFormula;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    let eCopy = new Map(e);\n    for (let item of structure.domain) {\n      eCopy.set(this.variableName, item);\n      if (this.subFormula.eval(structure, eCopy)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `∃${this.variableName} ${this.subFormula.toString()}`;\n  }\n\n  createCopy(){\n    return new ExistentialQuant(this.variableName, this.subFormula.createCopy());\n  }\n\n  getType(commitment){\n    return commitment ? PLAYER_QUANTIFIER : GAME_QUANTIFIER;\n  }\n\n  getSubFormulas(){\n    return [this.subFormula];\n  }\n\n  substitute(from, to, bound) {\n    if (this.variableName !== from) {\n      return new ExistentialQuant(this.variableName, this.subFormula.substitute(from, to, new Set([this.variableName,...(bound ?? [])])));\n    }\n    return this.createCopy();\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [commitment];\n  }\n\n  getVariables(){\n    const variables = this.subFormula.getVariables();\n    variables.push(this.variableName);\n    return variables;\n  }\n}\n\nexport default ExistentialQuant;","import Formula from \"./Formula\";\nimport {GAME_QUANTIFIER, PLAYER_QUANTIFIER} from \"../../constants/gameConstants\";\n\n/**\n * Represent universal quantificator\n * @author Milan Cifra\n * @class\n * @extends Formula\n */\nclass UniversalQuant extends Formula {\n\n  /**\n   *\n   * @param {string} variableName\n   * @param {Formula} subFormula\n   */\n  constructor(variableName, subFormula) {\n    super();\n    this.variableName = variableName;\n    this.subFormula = subFormula;\n  }\n\n  /**\n   *\n   * @param {Structure} structure\n   * @param {Map} e\n   * @return {boolean}\n   */\n  eval(structure, e) {\n    let eCopy = new Map(e);\n    for (let item of structure.domain) {\n      eCopy.set(this.variableName, item);\n      if (!this.subFormula.eval(structure, eCopy)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @returns {string}\n   */\n  toString() {\n    return `∀${this.variableName} ${this.subFormula.toString()}`;\n  }\n\n  createCopy(){\n    return new UniversalQuant(this.variableName, this.subFormula.createCopy());\n  }\n\n  getType(commitment){\n    return commitment ? GAME_QUANTIFIER : PLAYER_QUANTIFIER;\n  }\n\n  getSubFormulas(){\n    return [this.subFormula];\n  }\n\n  substitute(from, to, bound){\n    if (this.variableName !== from) {\n      return new UniversalQuant(this.variableName, this.subFormula.substitute(from, to, new Set([this.variableName,...(bound ?? [])])));\n    }\n    return this.createCopy();\n  }\n\n  getSubFormulasCommitment(commitment){\n    return [commitment];\n  }\n\n  getVariables(){\n    const variables = this.subFormula.getVariables();\n    variables.push(this.variableName);\n    return variables;\n  }\n}\n\nexport default UniversalQuant;","import Formula from \"./Formula\";\nimport {\n    GAME_OPERATOR,\n    PLAYER_OPERATOR\n} from \"../../constants/gameConstants\";\nimport Implication from \"./Formula.Implication\";\n\n/**\n * Represent equality symbol\n * @author Richard Toth\n * @class\n * @extends Formula\n */\nclass Equivalence extends Formula {\n\n    /**\n     *\n     * @param {Formula} subLeft\n     * @param {Formula} subRight\n     */\n    constructor(subLeft, subRight) {\n        super();\n        this.subLeft = subLeft;\n        this.subRight = subRight;\n    }\n\n    /**\n     *\n     * @param {Structure} structure\n     * @param {Map} e\n     * @return {boolean}\n     */\n    eval(structure, e) {\n        const left = this.subLeft.eval(structure, e);\n        const right = this.subRight.eval(structure, e);\n        return left == right;\n    }\n\n    /**\n     *\n     * @returns {string}\n     */\n    toString() {\n        return `(${this.subLeft.toString()} ↔ ${this.subRight.toString()})`;\n    }\n\n    createCopy(){\n        return new Equivalence(this.subLeft.createCopy(), this.subRight.createCopy());\n    }\n\n    getType(commitment){\n        return commitment ? GAME_OPERATOR : PLAYER_OPERATOR;\n    }\n\n    getSubFormulas(){\n        const toRightImpl = new Implication(this.subLeft, this.subRight);\n        const toLeftImpl = new Implication(this.subRight, this.subLeft);\n        return [toRightImpl, toLeftImpl];\n    }\n\n    substitute(from, to, bound){\n        return new Equivalence(this.subLeft.substitute(from, to, bound), this.subRight.substitute(from, to, bound));\n    }\n\n    getSubFormulasCommitment(commitment){\n        return [commitment, commitment];\n    }\n\n    getVariables(){\n        return this.subLeft.getVariables().concat(this.subRight.getVariables());\n    }\n}\n\nexport default Equivalence;","import {parseConstants, parsePredicates, parseFunctions, parseDomain, parseTuples, parseValuation, parseTerm, parseFormulaWithPrecedence} from '@fmfi-uk-1-ain-412/js-fol-parser';\nimport {CONSTANT, PREDICATE, FUNCTION, DOMAIN, VARIABLE, TERM} from \"../../../constants\";\nimport {getLanguageObject} from \"../../selectors/languageObject\";\nimport Variable from \"../../../model/term/Term.Variable\";\nimport Constant from \"../../../model/term/Term.Constant\";\nimport FunctionTerm from \"../../../model/term/Term.FunctionTerm\";\nimport PredicateAtom from \"../../../model/formula/Formula.PredicateAtom\";\nimport EqualityAtom from \"../../../model/formula/Formula.EqualityAtom\";\nimport Negation from \"../../../model/formula/Formula.Negation\";\nimport Conjunction from \"../../../model/formula/Formula.Conjunction\";\nimport Disjunction from \"../../../model/formula/Formula.Disjunction\";\nimport Implication from \"../../../model/formula/Formula.Implication\";\nimport ExistentialQuant from \"../../../model/formula/Formula.ExistentialQuant\";\nimport UniversalQuant from \"../../../model/formula/Formula.UniversalQuant\";\nimport Equivalence from \"../../../model/formula/Formula.Equivalence\";\n\nexport function parseLanguage(state, value, type){\n    state.value = value;\n    state.errorMessage = '';\n    try {\n        switch(type){\n            case CONSTANT:\n                state.parsed = parseConstants(value);\n                break;\n            case PREDICATE:\n                state.parsed = parsePredicates(value);\n                break;\n            case FUNCTION:\n                state.parsed = parseFunctions(value);\n                break;\n        }\n    } catch (e) {\n        state.errorMessage = e.message;\n        return false;\n    }\n    return true;\n}\n\nexport function parseStructure(state, value, wholeState, type){\n    state.value = value;\n    state.errorMessage = '';\n    try {\n        switch(type){\n            case DOMAIN:\n                state.parsed = parseDomain(value);\n                break;\n            case PREDICATE:\n            case FUNCTION:\n                state.parsed = parseTuples(value);\n                break;\n            case VARIABLE:\n                state.parsed = parseValuation(value, getLanguageObject(wholeState).getLanguage());\n                break;\n        }\n    } catch (e) {\n        state.errorMessage = e.message;\n    }\n}\n\nexport function parseExpression(state, value, wholeState, type){\n    let language = getLanguageObject(wholeState);\n    state.value = value;\n    state.errorMessage = '';\n    try {\n        if(type === TERM){\n            const termFactories = getTermFactories(language);\n            state.parsed = parseTerm(value, language.getLanguage(), termFactories);\n        } else {\n            const formulaFactories = getFormulaFactories(language);\n            state.parsed = parseFormulaWithPrecedence(value, language.getLanguage(), formulaFactories);\n        }\n    } catch (e) {\n        state.errorMessage = e.message;\n        state.parsed = null;\n    }\n}\n\nfunction getTermFactories(language){\n    return({\n        variable: (symbol, _) =>\n            new Variable(symbol),\n        constant: (symbol, _) =>\n            new Constant(symbol),\n        functionApplication: (funSymbol, args, ee) => {\n            language.checkFunctionArity(funSymbol, args, ee);\n            return new FunctionTerm(funSymbol, args);\n        }\n    });\n}\n\nfunction getFormulaFactories(language){\n    return({...getTermFactories(language), ...{\n        predicateAtom: (predSymbol, args, ee) => {\n            language.checkPredicateArity(predSymbol, args, ee);\n            return new PredicateAtom(predSymbol, args);\n        },\n        equalityAtom: (lhs, rhs, _) =>\n            new EqualityAtom(lhs, rhs),\n        negation: (formula, _) =>\n            new Negation(formula),\n        conjunction: (lhs, rhs, _) =>\n            new Conjunction(lhs, rhs),\n        disjunction: (lhs, rhs, _) =>\n            new Disjunction(lhs, rhs),\n        implication: (lhs, rhs, _) =>\n            new Implication(lhs, rhs),\n        equivalence: (lhs, rhs, _) =>\n            new Equivalence(lhs, rhs),\n        existentialQuant: (variable, formula, _) =>\n            new ExistentialQuant(variable, formula),\n        universalQuant: (variable, formula, _) =>\n            new UniversalQuant(variable, formula)\n    }});\n}\n\n\n","import {\n  ADD_BINARY_FUNCTION,\n  ADD_BINARY_PREDICATE,\n  ADD_CONSTANT_NODE, ADD_QUATERNARY_PREDICATE, ADD_TERNARY_FUNCTION, ADD_TERNARY_PREDICATE, ADD_UNARY_FUNCTION,\n  ADD_UNARY_PREDICATE,\n  IMPORT_APP,\n  LOCK_CONSTANTS,\n  LOCK_FUNCTIONS, LOCK_LANGUAGE_COMPONENT,\n  LOCK_PREDICATES,\n  REMOVE_CONSTANT_NODE, REMOVE_DOMAIN_NODE,\n  RENAME_CONSTANT_NODE, RENAME_DOMAIN_NODE,\n  SET_CONSTANTS,\n  SET_FUNCTIONS,\n  SET_PREDICATES\n} from \"../actions/action_types\";\nimport {CONSTANT, defaultInputData, FUNCTION, PREDICATE} from \"../../constants\";\nimport {\n  validateLanguageConstants as validateConstants,\n  validateLanguagePredicates as validatePredicates,\n  validateLanguageFunctions as validateFunctions\n} from \"./functions/validation\";\nimport {parseLanguage} from \"./functions/parsers\";\nimport produce from \"immer\";\n\nexport function defaultState(){\n  return{\n    constants: defaultInputData(),\n    predicates: defaultInputData(),\n    functions: defaultInputData(),\n    lockedComponent: false\n  }\n}\n\nconst languageReducer = produce((state, action) => {\n  switch (action.type) {\n    case SET_CONSTANTS:\n      parseLanguage(state.constants, action.value, CONSTANT);\n      validateConstants(state);\n      validateAndParsePredicates(state);\n      validateAndParseFunctions(state);\n      return;\n\n    case SET_PREDICATES:\n      parseLanguage(state.predicates, action.value, PREDICATE);\n      validatePredicates(state);\n      validateAndParseConstants(state);\n      validateAndParseFunctions(state);\n      return;\n\n    case SET_FUNCTIONS:\n      parseLanguage(state.functions, action.value, FUNCTION);\n      validateFunctions(state);\n      validateAndParsePredicates(state);\n      validateAndParseConstants(state);\n      return;\n\n    case ADD_UNARY_PREDICATE:\n      addPredicateLanguageElement(state, action.predicateName, 1);\n      return;\n\n    case ADD_BINARY_PREDICATE:\n      addPredicateLanguageElement(state, action.predicateName, 2);\n      return;\n\n    case ADD_TERNARY_PREDICATE:\n      addPredicateLanguageElement(state, action.predicateName, 3);\n      return;\n\n    case ADD_QUATERNARY_PREDICATE:\n      addPredicateLanguageElement(state, action.predicateName, 4);\n      return;\n\n    case ADD_UNARY_FUNCTION:\n      addFunctionLanguageElement(state, action.functionName, 1);\n      return;\n\n    case ADD_BINARY_FUNCTION:\n      addFunctionLanguageElement(state, action.functionName, 2);\n      return;\n\n    case ADD_TERNARY_FUNCTION:\n      addFunctionLanguageElement(state, action.functionName, 3);\n      return;\n\n    case ADD_CONSTANT_NODE:\n      state.constants.parsed.push(action.nodeName);\n      state.constants.value = state.constants.parsed.join(\", \");\n      validateConstants(state);\n      return;\n\n    case RENAME_DOMAIN_NODE:\n    case REMOVE_DOMAIN_NODE:\n      parseLanguage(state.constants, returnParsedConstValues(state), CONSTANT);\n      validateConstants(state);\n\n      parseLanguage(state.predicates, returnParsedPredValues(state), PREDICATE);\n      validatePredicates(state);\n\n      parseLanguage(state.functions, returnParsedFuncValues(state), FUNCTION);\n      validateFunctions(state);\n\n      return;\n\n    case REMOVE_CONSTANT_NODE:\n      state.constants.parsed = state.constants.parsed.filter(value => value != action.nodeName);\n      state.constants.value = state.constants.parsed.join(\", \");\n      validateConstants(state);\n      return;\n\n    case RENAME_CONSTANT_NODE:\n      state.constants.parsed = state.constants.parsed.map(value => value === action.oldName ? action.newName : value);\n      state.constants.value = state.constants.parsed.join(\", \");\n      validateConstants(state);\n      return;\n\n    case LOCK_CONSTANTS:\n      state.constants.locked = !state.constants.locked;\n      return;\n\n    case LOCK_PREDICATES:\n      state.predicates.locked = !state.predicates.locked;\n      return;\n\n    case LOCK_FUNCTIONS:\n      state.functions.locked = !state.functions.locked;\n      return;\n\n    case LOCK_LANGUAGE_COMPONENT:\n      state.lockedComponent = !state.lockedComponent;\n      return;\n\n    case IMPORT_APP:\n      validateConstants(state);\n      validatePredicates(state);\n      validateFunctions(state);\n      return;\n\n    default:\n      return;\n  }\n})\n\nfunction returnParsedConstValues(state){\n  return state.constants.parsed.join(\", \");\n}\n\nfunction returnParsedPredValues(state){\n  return state.predicates.parsed.map(value => value.name + \"/\" + value.arity).join(\", \");\n}\n\nfunction returnParsedFuncValues(state){\n  return state.functions.parsed.map(value => value.name + \"/\" + value.arity).join(\", \");\n}\n\nfunction addPredicateLanguageElement(state, elementName, elementArity){\n  if(!state.predicates.parsed.some(pred => elementName === pred.name && elementArity === pred.arity)){\n    state.predicates.parsed.push({name: elementName, arity: elementArity});\n    state.predicates.value = state.predicates.parsed.map(value => value.name + \"/\" + value.arity).join(\",\");\n    validatePredicates(state);\n  }\n}\n\nfunction addFunctionLanguageElement(state, elementName, elementArity){\n  if(!state.functions.parsed.some(func => elementName === func.name && elementArity === func.arity)) {\n    state.functions.parsed.push({name: elementName, arity: elementArity});\n    state.functions.value = state.functions.parsed.map(value => value.name + \"/\" + value.arity).join(\",\");\n    validateFunctions(state);\n  }\n}\n\nfunction validateAndParseConstants(state) {\n  if(parseLanguage(state.constants, state.constants.value, CONSTANT)){\n    validateConstants(state);\n  }\n}\n\nfunction validateAndParsePredicates(state) {\n  if(parseLanguage(state.predicates, state.predicates.value, PREDICATE)){\n    validatePredicates(state);\n  }\n}\n\nfunction validateAndParseFunctions(state) {\n  if(parseLanguage(state.functions, state.functions.value, FUNCTION)){\n    validateFunctions(state);\n  }\n}\n\nexport default languageReducer;","export const SET_CONSTANTS = 'SET_CONSTANTS';\nexport const SET_PREDICATES = 'SET_PREDICATES';\nexport const SET_FUNCTIONS = 'SET_FUNCTIONS';\nexport const SET_DIAGRAM = 'SET_DIAGRAM';\n\nexport const LOCK_CONSTANTS = 'LOCK_CONSTANTS';\nexport const LOCK_PREDICATES = 'LOCK_PREDICATES';\nexport const LOCK_FUNCTIONS = 'LOCK_FUNCTIONS';\nexport const LOCK_LANGUAGE_COMPONENT = 'LOCK_LANGUAGE_COMPONENT';\n\nexport const SET_CONSTANT_VALUE = 'SET_CONSTANT_VALUE';\nexport const SET_PREDICATE_VALUE_TEXT = 'SET_PREDICATE_VALUE_TEXT';\nexport const SET_PREDICATE_VALUE_TABLE = 'SET_PREDICATE_VALUE_TABLE';\nexport const SET_FUNCTION_VALUE_TEXT = 'SET_FUNCTION_VALUE_TEXT';\nexport const SET_FUNCTION_VALUE_TABLE = 'SET_FUNCTION_VALUE_TABLE';\n\nexport const LOCK_CONSTANT_VALUE = 'LOCK_CONSTANT_VALUE';\nexport const LOCK_PREDICATE_VALUE = 'LOCK_PREDICATE_VALUE';\nexport const LOCK_FUNCTION_VALUE = 'LOCK_FUNCTION_VALUE';\n\nexport const SET_VARIABLES_VALUE = 'SET_VARIABLES_VALUE';\nexport const SYNC_DIAGRAM = 'SYNC_DIAGRAM';\nexport const SET_DOMAIN = 'SET_DOMAIN';\nexport const SYNC_MATH_STATE = 'SYNC_MATH_STATE';\nexport const RENAME_DOMAIN_NODE = 'RENAME_DOMAIN_NODE';\nexport const RENAME_CONSTANT_NODE = 'RENAME_CONSTANT_NODE';\nexport const ADD_UNARY_PREDICATE = 'ADD_UNARY_PREDICATE';\nexport const REMOVE_UNARY_PREDICATE = 'REMOVE_UNARY_PREDICATE';\nexport const ADD_BINARY_PREDICATE = 'ADD_BINARY_PREDICATE';\nexport const REMOVE_BINARY_PREDICATE = 'REMOVE_BINARY_PREDICATE';\nexport const ADD_CONSTANT_NODE = 'ADD_CONSTANT_NODE';\nexport const REMOVE_CONSTANT_NODE = 'REMOVE_CONSTANT_NODE';\nexport const RESET_DIAGRAM_STATE = 'RESET_DIAGRAM_STATE';\nexport const ADD_DOMAIN_NODE = 'ADD_DOMAIN_NODE';\nexport const ADD_TERNARY_NODE = 'ADD_TERNARY_NODE';\nexport const ADD_QUATERNARY_NODE = 'ADD_QUATERNARY_NODE';\nexport const REMOVE_DOMAIN_NODE = 'REMOVE_DOMAIN_NODE';\nexport const REMOVE_TERNARY_NODE = 'REMOVE_TERNARY_NODE';\nexport const REMOVE_QUATERNARY_NODE = 'REMOVE_QUATERNARY_NODE';\nexport const ADD_TERNARY_PREDICATE = 'ADD_TERNARY_PREDICATE';\nexport const REMOVE_TERNARY_PREDICATE = 'REMOVE_TERNARY_PREDICATE';\nexport const ADD_QUATERNARY_PREDICATE = 'ADD_QUATERNARY_PREDICATE';\nexport const REMOVE_QUATERNARY_PREDICATE = 'REMOVE_QUATERNARY_PREDICATE';\nexport const ADD_UNARY_FUNCTION = 'ADD_UNARY_FUNCTION';\nexport const REMOVE_UNARY_FUNCTION = 'REMOVE_UNARY_FUNCTION';\nexport const ADD_BINARY_FUNCTION = 'ADD_BINARY_FUNCTION';\nexport const REMOVE_BINARY_FUNCTION = 'REMOVE_BINARY_FUNCTION';\nexport const ADD_TERNARY_FUNCTION = 'ADD_TERNARY_FUNCTION';\nexport const REMOVE_TERNARY_FUNCTION = 'REMOVE_TERNARY_FUNCTION';\nexport const CHANGE_DIRECTION_OF_BINARY_RELATION = 'CHANGE_DIRECTION_OF_BINARY_RELATION';\nexport const SET_CONSTANT_VALUE_FROM_LINK = 'SET_CONSTANT_VALUE_FROM_LINK';\nexport const IMPORT_DIAGRAM_STATE = 'IMPORT_DIAGRAM_STATE';\nexport const CLEAR_GRAPH_SELECTION = 'CLEAR_GRAPH_SELECTION';\n\nexport const LOCK_DOMAIN = 'LOCK_DOMAIN';\nexport const LOCK_VARIABLES = 'LOCK_VARIABLES';\n\nexport const IMPORT_APP = 'IMPORT_APP';\n\nexport const ADD_EXPRESSION = 'ADD_EXPRESSION';\nexport const REMOVE_EXPRESSION = 'REMOVE_EXPRESSION';\nexport const SET_EXPRESSION_ANSWER = 'SET_EXPRESSION_ANSWER';\nexport const LOCK_EXPRESSION_VALUE = 'LOCK_EXPRESSION_VALUE';\nexport const LOCK_EXPRESSION_ANSWER = 'LOCK_EXPRESSION_ANSWER';\nexport const CHECK_SYNTAX = 'CHECK_SYNTAX';\n\nexport const TOGGLE_EDIT_TABLE = 'TOGGLE_EDIT_TABLE';\nexport const TOGGLE_EDIT_DATABASE = 'TOGGLE_EDIT_DATABASE';\nexport const TOGGLE_TEACHER_MODE = 'TOGGLE_TEACHER_MODE';\nexport const TOGGLE_EDITABLE_NODES = 'TOGGLE_EDITABLE_NODES';\n\nexport const INITIATE_GAME = 'INITIATE_GAME';\nexport const SET_GAME_COMMITMENT = 'SET_GAME_COMMITMENT';\nexport const CONTINUE_GAME = 'CONTINUE_GAME';\nexport const SET_GAME_DOMAIN_CHOICE = 'SET_GAME_DOMAIN_CHOICE';\nexport const END_GAME = 'END_GAME';\nexport const SET_GAME_NEXT_FORMULA = 'SET_GAME_NEXT_FORMULA';\nexport const GO_BACK = 'GO_BACK';\nexport const GET_VARIABLES = 'GET_VARIABLES';","import {\n  IMPORT_APP,\n  LOCK_CONSTANT_VALUE,\n  LOCK_DOMAIN,\n  LOCK_FUNCTION_VALUE,\n  LOCK_PREDICATE_VALUE,\n  LOCK_VARIABLES,\n  SET_CONSTANT_VALUE,\n  SET_CONSTANTS,\n  SET_DOMAIN,\n  SET_FUNCTION_VALUE_TABLE,\n  SET_FUNCTION_VALUE_TEXT,\n  SET_FUNCTIONS,\n  SET_PREDICATE_VALUE_TABLE,\n  SET_PREDICATE_VALUE_TEXT,\n  SET_PREDICATES,\n  SET_VARIABLES_VALUE,\n  TOGGLE_EDIT_TABLE,\n  TOGGLE_EDIT_DATABASE,\n  RENAME_DOMAIN_NODE,\n  ADD_DOMAIN_NODE,\n  REMOVE_DOMAIN_NODE,\n  ADD_CONSTANT_NODE,\n  REMOVE_CONSTANT_NODE,\n  ADD_UNARY_PREDICATE,\n  RENAME_CONSTANT_NODE,\n  SET_CONSTANT_VALUE_FROM_LINK,\n  REMOVE_UNARY_PREDICATE,\n  ADD_BINARY_PREDICATE,\n  REMOVE_BINARY_PREDICATE,\n  CHANGE_DIRECTION_OF_BINARY_RELATION,\n  ADD_UNARY_FUNCTION,\n  REMOVE_UNARY_FUNCTION,\n  ADD_TERNARY_PREDICATE,\n  REMOVE_TERNARY_PREDICATE,\n  REMOVE_BINARY_FUNCTION,\n  ADD_QUATERNARY_PREDICATE,\n  REMOVE_QUATERNARY_PREDICATE,\n  REMOVE_TERNARY_FUNCTION,\n  ADD_TERNARY_FUNCTION,\n  ADD_BINARY_FUNCTION\n} from \"../actions/action_types\";\nimport {\n  EMPTY_CONSTANT_VALUE, EMPTY_DOMAIN, FUNCTION_NOT_FULL_DEFINED, ITEM_IN_LANGUAGE,\n  ITEM_NOT_IN_DOMAIN\n} from \"../../constants/messages\";\nimport {defaultInputData, DOMAIN, FUNCTION, PREDICATE, VARIABLE} from \"../../constants\";\nimport {BOTH, FROM, PREDICATE as PRED, TO} from \"../../graph_view/nodes/ConstantNames\";\nimport {\n  validateStructureConstants,\n  validateStructurePredicates,\n  validateStructureFunctions\n} from \"./functions/validation\";\nimport {parseStructure} from \"./functions/parsers\";\nimport produce from \"immer\";\n\nconst constantDefaultInput = () => ({...defaultInputData(), errorMessage: EMPTY_CONSTANT_VALUE});\nconst predicateDefaultInput = () => ({...defaultInputData(), tableEnabled: false});\nconst functionDefaultInput = () => predicateDefaultInput();\n\n\nexport function defaultState(){\n  return{\n    constants: {},\n    predicates: {},\n    functions: {},\n    variables: {...defaultInputData()},\n    domain: {...defaultInputData(), errorMessage: EMPTY_DOMAIN}\n  }\n}\n\nconst structureReducer = produce((structure, action, state) => {\n  switch (action.type) {\n    case SET_CONSTANTS:\n    case SET_PREDICATES:\n    case SET_FUNCTIONS:\n      syncLanguageWithStructure(structure, state.language);\n      setVariables(structure, state.language);\n      return;\n\n    case ADD_CONSTANT_NODE:\n      insertNewInputs(structure, state.language);\n      return;\n\n    case REMOVE_CONSTANT_NODE:\n      deleteUnusedInputs(structure, state.language);\n      return;\n\n    case SET_CONSTANT_VALUE_FROM_LINK:\n      setConstantValue(structure, action.constantNodeName, action.domainNodeName);\n      return;\n\n    case RENAME_CONSTANT_NODE:\n      let newStateConstantObject = Object.keys(structure.constants).map(key => {\n        let newKey = key === action.oldName ? action.newName : key;\n        return {[newKey]: structure.constants[key]}\n      });\n\n      structure.constants = Object.assign({}, ...newStateConstantObject);\n      syncLanguageWithStructure(structure, state.language);\n      return;\n\n    case ADD_UNARY_PREDICATE:\n      addPredicateLanguageElement(structure, state.language, action.predicateName, 1, [action.nodeName]);\n      return;\n\n    case ADD_BINARY_PREDICATE:\n      addPredicateLanguageElement(structure, state.language, action.predicateName, 2, [action.sourceNodeName, action.targetNodeName], action.direction);\n      return;\n\n    case ADD_TERNARY_PREDICATE:\n      addPredicateLanguageElement(structure, state.language, action.predicateName,3,action.nodeName);\n      return;\n\n    case ADD_QUATERNARY_PREDICATE:\n      addPredicateLanguageElement(structure, state.language, action.predicateName, 4,action.nodeName);\n      return;\n\n    case ADD_BINARY_FUNCTION:\n      addFunctionLanguageElement(structure, state.language, action.functionName,2,action.nodeName);\n      return;\n\n    case ADD_TERNARY_FUNCTION:\n      addFunctionLanguageElement(structure, state.language, action.functionName,3,action.nodeName);\n      return;\n\n    case REMOVE_UNARY_PREDICATE:\n      removePredicateLanguageElement(structure, action.predicateName, 1, [action.nodeName]);\n      return;\n\n    case REMOVE_BINARY_PREDICATE:\n      removePredicateLanguageElementInGivenDirection(structure, action.predicateName, action.direction, action.sourceNodeName, action.targetNodeName);\n      return;\n\n    case REMOVE_TERNARY_PREDICATE:\n      removePredicateLanguageElement(structure, action.predicateName,3,action.nodeName);\n      return;\n\n    case REMOVE_QUATERNARY_PREDICATE:\n      removePredicateLanguageElement(structure, action.predicateName,4,action.nodeName);\n      return;\n\n    case REMOVE_BINARY_FUNCTION:\n      removeFunctionLanguageElement(structure, action.functionName,2,action.nodeName);\n      return;\n\n    case REMOVE_TERNARY_FUNCTION:\n      removeFunctionLanguageElement(structure, action.functionName,3,action.nodeName);\n      return;\n\n    case CHANGE_DIRECTION_OF_BINARY_RELATION:\n      let arity = action.langType === PRED ? 2 : 1;\n      let nodeNames;\n      if (action.direction === FROM) {\n        nodeNames = [action.targetNodeName, action.sourceNodeName];\n      } else if (action.direction === TO) {\n        nodeNames = [action.sourceNodeName, action.targetNodeName];\n      }\n      if(action.langType === PRED) {\n        removePredicateLanguageElement(structure, action.languageElementName, arity, nodeNames);\n        addPredicateLanguageElement(structure, state.language, action.languageElementName, arity,\n            [action.sourceNodeName, action.targetNodeName], action.direction);\n      } else {\n        removeFunctionLanguageElement(structure, action.languageElementName, arity, nodeNames);\n        addFunctionLanguageElement(structure, state.language, action.languageElementName, arity,\n            [action.sourceNodeName, action.targetNodeName], action.direction);\n      }\n      return;\n\n    case ADD_UNARY_FUNCTION:\n      addFunctionLanguageElement(structure, state.language, action.functionName, 1, [action.sourceNodeName, action.targetNodeName], action.direction);\n      return;\n\n    case REMOVE_UNARY_FUNCTION:\n      removeFunctionLanguageElementInGivenDirection(structure, action.functionName, action.direction, action.sourceNodeName, action.targetNodeName);\n      return;\n\n    case SET_CONSTANT_VALUE:\n      setConstantValue(structure, action.constantName, action.value);\n      return;\n\n    case SET_PREDICATE_VALUE_TEXT:\n      parseStructure(structure.predicates[action.predicateName], action.value, state, PREDICATE);\n      checkPredicateValue(structure, action.predicateName);\n      return;\n\n    case SET_PREDICATE_VALUE_TABLE:\n      if (action.checked) {\n        if(structure.predicates[action.predicateName].parsed.some(tuple => JSON.stringify(tuple) === JSON.stringify(action.value))){\n          return;\n        }\n        structure.predicates[action.predicateName].parsed.push(action.value);\n      } else {\n        let index = 0;\n        structure.predicates[action.predicateName].parsed.forEach(tuple =>{\n          if(JSON.stringify(tuple) === JSON.stringify(action.value)){\n            structure.predicates[action.predicateName].parsed.splice(index, 1);\n            return;\n          }\n          index++;\n        })\n      }\n      structure.predicates[action.predicateName].value = parsedToValue(structure.predicates[action.predicateName].parsed);\n      checkPredicateValue(structure, action.predicateName);\n      return;\n\n    case SET_FUNCTION_VALUE_TEXT:\n      parseStructure(structure.functions[action.functionName], action.value, state, FUNCTION);\n      checkFunctionValue(structure, action.functionName);\n      return;\n\n    case SET_FUNCTION_VALUE_TABLE:\n      let params = action.value.slice(0, action.value.length - 1);\n      let value = action.value[action.value.length - 1];\n      let index = 0;\n      structure.functions[action.functionName].parsed.forEach(tuple => {\n        if(JSON.stringify(tuple.slice(0, tuple.length - 1)) === JSON.stringify(params)){\n          structure.functions[action.functionName].parsed.splice(index, 1);\n          return;\n        }\n        index++;\n      });\n      if(value !== \"\") {\n        structure.functions[action.functionName].parsed.push(action.value);\n      }\n      structure.functions[action.functionName].value = parsedToValue(structure.functions[action.functionName].parsed);\n      checkFunctionValue(structure, action.functionName);\n      return;\n\n    case SET_VARIABLES_VALUE:\n      parseStructure(structure.variables, action.value, state, VARIABLE);\n      setVariables(structure, state.language);\n      return;\n\n    case RENAME_DOMAIN_NODE:\n      syncLanguageWithStructure(structure, state.language);\n      structure.domain.parsed = structure.domain.parsed.map(value => value === action.oldName ? action.newName : value);\n      structure.domain.value = structure.domain.parsed.join(\", \");\n      setDomain(structure);\n      if(structure.domain.parsed.length !== 0){\n        structure.domain.errorMessage = '';\n      }\n\n      Object.keys(structure.constants).forEach(c => {\n        if (structure.constants[c].value === action.oldName) {\n          structure.constants[c].value = action.newName;\n        }\n      });\n      setConstantsValues(structure);\n      changePredicatesValues(structure, state.language, action.oldName, action.newName);\n      return;\n\n    case ADD_DOMAIN_NODE:\n      structure.domain.parsed.push(action.nodeName);\n      structure.domain.value = structure.domain.parsed.join(\", \");\n      setDomain(structure);\n      if(structure.domain.parsed.length !== 0){\n        structure.domain.errorMessage = '';\n      }\n      return;\n\n    case REMOVE_DOMAIN_NODE:\n      structure.domain.parsed = structure.domain.parsed.filter(value => value !== action.nodeName);\n      structure.domain.value = structure.domain.parsed.join(\", \");\n      setDomain(structure);\n      if(structure.domain.parsed.length !== 0){\n        structure.domain.errorMessage = '';\n      }\n\n      //toto mozem pretoze tu nie je input okno takze toto sa \"neda\" pokazit takym sposobom\n      state.language.constants.parsed.forEach(c => {\n        if (structure.constants[c].value === action.oldName) {\n          structure.constants[c].value = \"\";\n        }\n      });\n      setConstantsValues(structure);\n      return;\n\n    case SET_DOMAIN:\n      parseStructure(structure.domain, action.value, state, DOMAIN);\n      setDomain(structure);\n      setConstantsValues(structure);\n      setPredicatesValues(structure);\n      setFunctionsValues(structure);\n      setVariables(structure, state.language);\n      return;\n\n    case TOGGLE_EDIT_TABLE:\n      if(action.itemType === PREDICATE){\n        structure.predicates[action.name].tableEnabled = !structure.predicates[action.name].tableEnabled;\n        if(structure.predicates[action.name].tableEnabled){\n          structure.predicates[action.name].databaseEnabled = false;\n        }\n      } else if(action.itemType === FUNCTION){\n        structure.functions[action.name].tableEnabled = !structure.functions[action.name].tableEnabled;\n        if(structure.functions[action.name].tableEnabled){\n          structure.functions[action.name].databaseEnabled = false;\n        }\n      }\n      return;\n\n    case TOGGLE_EDIT_DATABASE:\n      if(action.itemType === PREDICATE){\n        structure.predicates[action.name].databaseEnabled = !structure.predicates[action.name].databaseEnabled;\n        if(structure.predicates[action.name].databaseEnabled){\n          structure.predicates[action.name].tableEnabled = false;\n        }\n      } else if(action.itemType === FUNCTION){\n        structure.functions[action.name].databaseEnabled = !structure.functions[action.name].databaseEnabled;\n        if(structure.functions[action.name].databaseEnabled){\n          structure.functions[action.name].tableEnabled = false;\n        }\n      }\n      return;\n\n    case LOCK_DOMAIN:\n      structure.domain.locked = !structure.domain.locked;\n      return;\n\n    case LOCK_CONSTANT_VALUE:\n      structure.constants[action.constantName].locked = !structure.constants[action.constantName].locked;\n      return;\n\n    case LOCK_PREDICATE_VALUE:\n      structure.predicates[action.predicateName].locked = !structure.predicates[action.predicateName].locked;\n      return;\n\n    case LOCK_FUNCTION_VALUE:\n      structure.functions[action.functionName].locked = !structure.functions[action.functionName].locked;\n      return;\n    case LOCK_VARIABLES:\n      structure.variables.locked = !structure.variables.locked;\n      return;\n\n    case IMPORT_APP:\n      setDomain(structure);\n      setConstantsValues(structure);\n      setPredicatesValues(structure);\n      setFunctionsValues(structure);\n      setVariables(structure, state.language);\n      return;\n\n    default:\n      return;\n  }\n})\n\nfunction removePredicateLanguageElementInGivenDirection(state, elementName, direction, sourceNodeName, targetNodeName) {\n  let nodeNames = [sourceNodeName, targetNodeName]; //FROM direction\n\n  if (direction === TO) {\n    nodeNames = [targetNodeName,sourceNodeName];\n  } else {\n    removePredicateLanguageElement(state, elementName, 2, [targetNodeName, sourceNodeName]); //deleting BOTH direction, starting with TO direction\n  }\n  removePredicateLanguageElement(state, elementName, 2, nodeNames);\n}\n\nfunction removeFunctionLanguageElementInGivenDirection(state, elementName, direction, sourceNodeName, targetNodeName) {\n  let nodeNames = [sourceNodeName, targetNodeName]; //FROM direction\n\n  if (direction === TO) {\n    nodeNames = [targetNodeName,sourceNodeName];\n  } else {\n    removeFunctionLanguageElement(state, elementName, 1, [targetNodeName, sourceNodeName]); //deleting BOTH direction, starting with TO direction\n  }\n  removeFunctionLanguageElement(state, elementName, 1, nodeNames);\n}\n\nfunction changePredicatesValues(state, language, oldNodeName, newNodeName) {\n  language.predicates.parsed.forEach(predicate => {\n      let predicateName = predicate.name + \"/\" + predicate.arity;\n      state.predicates[predicateName].parsed = state.predicates[predicateName].parsed\n          .map(tuple => tuple.map(value => value === oldNodeName ? newNodeName : value));\n      state.predicates[predicateName].value = parsedToValue(state.predicates[predicateName].parsed);\n  });\n}\n\nfunction buildTupleArray(nodeNames,direction){\n  if(direction === BOTH){\n    if(nodeNames[0] === nodeNames[1]){\n      return [[nodeNames[0],nodeNames[1]]];\n    }\n    else{\n      return [[nodeNames[0],nodeNames[1]], [nodeNames[1],nodeNames[0]]];\n    }\n  }\n  else if(direction === FROM){\n    return [[nodeNames[0],nodeNames[1]]];\n  }\n  else{\n    return [[nodeNames[1],nodeNames[0]]];\n  }\n}\n\nfunction addPredicateLanguageElement(state, language, elementName, elementArity, nodeNames, direction=\"\"){\n  let predicateName = elementName + \"/\" + elementArity;\n  insertNewInputs(state, language);\n  if(nodeNames !== null) {\n    if (direction !== \"\") {\n      let arrayNodeNames = buildTupleArray(nodeNames, direction);\n      arrayNodeNames.forEach(tuple => {\n        if(!state.predicates[predicateName].parsed.some(entry => arraysEqual(entry, tuple))) {\n          state.predicates[predicateName].parsed.push(tuple);\n        }\n      });\n    } else {\n      state.predicates[predicateName].parsed.push(nodeNames);\n    }\n  }\n  state.predicates[predicateName].value = parsedToValue(state.predicates[predicateName].parsed);\n  checkPredicateValue(state, predicateName)\n}\n\nfunction addFunctionLanguageElement(state, language, elementName, elementArity, nodeNames, direction=\"\"){\n  let functionName = elementName + \"/\" + elementArity;\n  insertNewInputs(state, language);\n  if(nodeNames !== null) {\n    if (direction !== \"\") {\n      let arrayNodeNames = buildTupleArray(nodeNames, direction);\n      arrayNodeNames.forEach(tuple => {\n        if(!state.functions[functionName].parsed.some(entry => arraysEqual(entry, tuple))) {\n          state.functions[functionName].parsed.push(tuple);\n        }\n      });\n    } else {\n      state.functions[functionName].parsed.push(nodeNames);\n    }\n  }\n  state.functions[functionName].value = parsedToValue(state.functions[functionName].parsed);\n  checkFunctionValue(state, functionName)\n}\n\nfunction removePredicateLanguageElement(state, elementName,elementArity,nodeNames){\n  let predicateName = elementName+\"/\"+elementArity;\n  const sNodeNames = JSON.stringify(nodeNames);\n  state.predicates[predicateName].parsed = state.predicates[predicateName].parsed.filter(tuple => JSON.stringify(tuple) !== sNodeNames)\n  state.predicates[predicateName].value = parsedToValue(state.predicates[predicateName].parsed);\n  checkPredicateValue(state, predicateName)\n}\n\nfunction removeFunctionLanguageElement(state, elementName,elementArity,nodeNames){\n  let functionName = elementName+\"/\"+elementArity;\n  const sNodeNames = JSON.stringify(nodeNames);\n  state.functions[functionName].parsed = state.functions[functionName].parsed.filter(tuple => JSON.stringify(tuple) !== sNodeNames)\n  state.functions[functionName].value = parsedToValue(state.functions[functionName].parsed);\n  checkFunctionValue(state, functionName)\n}\n\nfunction setDomain(state) {\n  if (!state.domain.parsed) {\n    return;\n  }\n  if(state.domain.parsed.length === 0 && state.domain.errorMessage === ''){\n    state.domain.errorMessage = EMPTY_DOMAIN;\n  }\n}\n\nfunction setConstantsValues(state) {\n  Object.keys(state.constants).forEach(c => {\n    setConstantValue(state, c, state.constants[c].value);\n  })\n}\n\nfunction setPredicatesValues(state) {\n  Object.keys(state.predicates).forEach(predicate => {\n    checkPredicateValue(state, predicate);\n  })\n}\n\nfunction setFunctionsValues(state) {\n  Object.keys(state.functions).forEach(f => {\n    checkFunctionValue(state, f);\n  })\n}\n\nfunction syncLanguageWithStructure(state, language) {\n  deleteUnusedInputs(state, language);\n  insertNewInputs(state, language);\n}\n\nfunction deleteUnusedInputs(state, language) {\n  Object.keys(state.constants).forEach(constantName => {\n    if (!language.constants.parsed.some(c => c === constantName)) {\n      delete state.constants[constantName];\n    }\n  });\n\n  Object.keys(state.predicates).forEach(predicateName => {\n    if (!language.predicates.parsed.some(p => (p.name + \"/\" + p.arity) === predicateName)) {\n      delete state.predicates[predicateName];\n    }\n  });\n  Object.keys(state.functions).forEach(functionName => {\n    if (!language.functions.parsed.some(f => (f.name + \"/\" + f.arity) === functionName)) {\n      delete state.functions[functionName];\n    }\n  });\n}\n\nfunction insertNewInputs(state, language) {\n    language.constants.parsed.forEach(c => {\n      if (!state.constants[c]) {\n        state.constants[c] = constantDefaultInput();\n      }\n    });\n    language.predicates.parsed.forEach(p => {\n      let predicateName = p.name + \"/\" + p.arity;\n      if (!state.predicates[predicateName]) {\n        state.predicates[predicateName] = predicateDefaultInput()\n      }\n    });\n    language.functions.parsed.forEach(f => {\n      let functionName = f.name + \"/\" + f.arity;\n      if (!state.functions[functionName]) {\n        state.functions[functionName] = functionDefaultInput();\n        checkFunctionValue(state, functionName);\n      }\n    });\n}\n\nfunction setVariables(state, language) {\n  if (!state.variables.parsed || state.variables.errorMessage !== '') {\n    return;\n  }\n  let errorMessage = '';\n  state.variables.parsed.forEach(tuple => {\n    let variable = tuple[0];\n    let value = tuple[1];\n    if (language.constants.parsed.some(c => c === variable)\n          || language.functions.parsed.some(f => (f.name + \"/\" + f.arity) === variable)\n          || language.predicates.parsed.some(p => (p.name + \"/\" + p.arity) === variable)) {\n      errorMessage = ITEM_IN_LANGUAGE(variable);\n    }\n    else if (!state.domain.parsed.some(d => d === value)) {\n      errorMessage = ITEM_NOT_IN_DOMAIN(value);\n    }\n  });\n  state.variables.errorMessage = errorMessage;\n}\n\nfunction setConstantValue(state, constantName, value) {\n  try {\n    validateStructureConstants(constantName, value, state.constants, state.domain.parsed);\n    state.constants[constantName].value = value;\n    state.constants[constantName].errorMessage = '';\n  } catch (e) {\n    console.error(e);\n    state.constants[constantName].errorMessage = e;\n    state.constants[constantName].value = '';\n  }\n}\n\nfunction checkPredicateValue(state, predicateName) {\n  if (state.predicates[predicateName].errorMessage !== '') {\n    return;\n  }\n  let arity = predicateName.split(\"/\")[1];\n  state.predicates[predicateName].errorMessage =\n      validateStructurePredicates(state.predicates[predicateName].parsed, state.domain.parsed, arity);\n}\n\nfunction checkFunctionValue(state, functionName) {\n  let arity = functionName.split(\"/\")[1];\n  state.functions[functionName].errorMessage =\n      validateStructureFunctions(state.functions[functionName].parsed, state.domain.parsed, arity);\n}\n\nfunction tupleToString(tuple) {\n  if (tuple.length === 0) {\n    return '';\n  }\n  if (tuple.length === 1) {\n    return tuple[0];\n  }\n  return \"(\" + tuple.join(\", \") + \")\"\n}\n\nfunction  parsedToValue(parsedValues) {\n  if (parsedValues === undefined || parsedValues.length === 0) {\n    return '';\n  }\n  return parsedValues.map(value => tupleToString(value)).join(\", \");\n}\n\nfunction arraysEqual(array1, array2){\n  return (\n    (array1.length == array2.length) &&\n    array1.every( (elem, index) => elem === array2[index] )\n  );\n}\n\nexport default structureReducer;","import { createSelector } from 'reselect'\n\nconst getParsedValuation = state => state.structure.variables.parsed\n\nexport const getValuationObject = createSelector(\n    [getParsedValuation],\n    (valuations) => {\n        return new Map(valuations);\n    }\n)","import {defaultExpressionData, FORMULA, TERM} from \"../../constants\";\nimport {\n  defaultHintikkaGameData, GAME_EQUIVALENCE,\n  GAME_IMPLICATION,\n  GAME_OPERATOR,\n  GAME_QUANTIFIER, gameEntry,\n  NEGATION\n} from \"../../constants/gameConstants\";\nimport Implication from \"../../model/formula/Formula.Implication\";\nimport {\n  ADD_EXPRESSION,\n  RENAME_DOMAIN_NODE,\n  CHECK_SYNTAX,\n  IMPORT_APP,\n  LOCK_EXPRESSION_ANSWER,\n  LOCK_EXPRESSION_VALUE,\n  REMOVE_EXPRESSION,\n  SET_CONSTANT_VALUE,\n  SET_CONSTANTS,\n  SET_EXPRESSION_ANSWER,\n  SET_FUNCTION_VALUE_TABLE,\n  SET_FUNCTION_VALUE_TEXT,\n  SET_FUNCTIONS,\n  SET_PREDICATE_VALUE_TABLE,\n  SET_PREDICATE_VALUE_TEXT,\n  SET_PREDICATES,\n  SET_VARIABLES_VALUE,\n  ADD_DOMAIN_NODE,\n  SET_CONSTANT_VALUE_FROM_LINK,\n  REMOVE_CONSTANT_NODE,\n  ADD_UNARY_PREDICATE,\n  REMOVE_UNARY_PREDICATE,\n  ADD_BINARY_PREDICATE,\n  REMOVE_BINARY_PREDICATE,\n  ADD_CONSTANT_NODE,\n  RENAME_CONSTANT_NODE,\n  REMOVE_DOMAIN_NODE,\n  ADD_TERNARY_PREDICATE,\n  REMOVE_TERNARY_PREDICATE,\n  ADD_QUATERNARY_PREDICATE,\n  REMOVE_QUATERNARY_PREDICATE,\n  ADD_BINARY_FUNCTION,\n  REMOVE_BINARY_FUNCTION,\n  ADD_TERNARY_FUNCTION,\n  REMOVE_TERNARY_FUNCTION,\n  ADD_UNARY_FUNCTION,\n  REMOVE_UNARY_FUNCTION,\n  REMOVE_QUATERNARY_NODE,\n  REMOVE_TERNARY_NODE,\n  IMPORT_DIAGRAM_STATE,\n  CHANGE_DIRECTION_OF_BINARY_RELATION,\n  INITIATE_GAME,\n  SET_GAME_COMMITMENT,\n  CONTINUE_GAME,\n  SET_GAME_DOMAIN_CHOICE, SET_GAME_NEXT_FORMULA, END_GAME, GO_BACK, GET_VARIABLES\n} from \"../actions/action_types\";\nimport {getStructureObject} from \"../selectors/structureObject\";\nimport {parseExpression} from \"./functions/parsers\";\nimport produce from \"immer\";\nimport {getValuationObject} from \"../selectors/valuationObject\";\nimport {last} from \"mathjs/es/utils/array\";\n\nexport function defaultState(){\n  return {\n    formulas: [],\n    terms: []\n  }\n}\n\nconst expressionsReducer = produce((expressions, action, state) => {\n  const variablesObject = getValuationObject(state);\n  switch (action.type) {\n    case SET_CONSTANTS:\n    case SET_PREDICATES:\n    case SET_FUNCTIONS:\n      syncExpressionsValue(expressions, state, variablesObject,true);\n      return;\n    case IMPORT_APP:\n      syncExpressionsValue(expressions, state, variablesObject,true);\n      expressions.formulas.forEach( (formula) => endGame(formula) );\n      return;\n    case SET_CONSTANT_VALUE:\n    case SET_PREDICATE_VALUE_TEXT:\n    case SET_PREDICATE_VALUE_TABLE:\n    case SET_FUNCTION_VALUE_TEXT:\n    case SET_FUNCTION_VALUE_TABLE:\n    case SET_VARIABLES_VALUE:\n      syncExpressionsValue(expressions, state, variablesObject);\n      return;\n\n    case ADD_EXPRESSION:\n      addExpression(expressions, action.expressionType);\n      return;\n\n    case REMOVE_EXPRESSION:\n      removeExpression(expressions, action.expressionType, action.index);\n      return;\n\n    case SET_EXPRESSION_ANSWER:\n      setExpressionAnswer(expressions, action.expressionType, action.index, action.answer);\n      return;\n\n    case LOCK_EXPRESSION_VALUE:\n      lockExpressionValue(expressions, action.expressionType, action.expressionIndex);\n      return;\n\n    case LOCK_EXPRESSION_ANSWER:\n      lockExpressionAnswer(expressions, action.expressionType, action.expressionIndex);\n      return;\n\n    case CHECK_SYNTAX:\n      checkExpressionSyntax(expressions, state, action, variablesObject);\n      return;\n\n    case ADD_DOMAIN_NODE:\n    case RENAME_DOMAIN_NODE:\n    case REMOVE_DOMAIN_NODE:\n    case ADD_CONSTANT_NODE:\n    case RENAME_CONSTANT_NODE:\n    case REMOVE_CONSTANT_NODE:\n    case ADD_UNARY_PREDICATE:\n    case REMOVE_UNARY_PREDICATE:\n    case ADD_UNARY_FUNCTION:\n    case REMOVE_UNARY_FUNCTION:\n    case ADD_BINARY_PREDICATE:\n    case REMOVE_BINARY_PREDICATE:\n    case ADD_TERNARY_PREDICATE:\n    case REMOVE_TERNARY_PREDICATE:\n    case ADD_QUATERNARY_PREDICATE:\n    case REMOVE_QUATERNARY_PREDICATE:\n    case ADD_BINARY_FUNCTION:\n    case REMOVE_BINARY_FUNCTION:\n    case ADD_TERNARY_FUNCTION:\n    case REMOVE_TERNARY_FUNCTION:\n    case REMOVE_TERNARY_NODE:\n    case REMOVE_QUATERNARY_NODE:\n    case SET_CONSTANT_VALUE_FROM_LINK:\n    case IMPORT_DIAGRAM_STATE:\n    case CHANGE_DIRECTION_OF_BINARY_RELATION:\n      syncExpressionsValue(expressions, state, variablesObject,true);\n      return;\n\n    case INITIATE_GAME:\n    case SET_GAME_COMMITMENT:\n    case CONTINUE_GAME:\n    case SET_GAME_DOMAIN_CHOICE:\n    case SET_GAME_NEXT_FORMULA:\n    case END_GAME:\n    case GET_VARIABLES:\n    case GO_BACK:\n      game(expressions.formulas[action.index], action, state, variablesObject);\n      return;\n\n    default:\n      return;\n  }\n})\n\nfunction game(expression, action, state, variablesObject){\n  const lastEntry = expression.gameHistory.length > 0 ?\n     expression.gameHistory[expression.gameHistory.length - 1] :\n    null;\n  switch (action.type) {\n    case INITIATE_GAME:\n      {\n          if(expression.parsed) {\n            expression.gameEnabled = !expression.gameEnabled;\n            expression.gameHistory = new Array();\n            const variables = new Map(variablesObject);\n            expression.variableIndex = setValidVariableIndex(expression.parsed, 1, variables);\n            addToHistory(expression, expression.parsed, null, null, variables, [], []);\n          }\n          return;\n      }\n\n    case SET_GAME_COMMITMENT:\n      {\n          const nextMove = getNextStepForGame(lastEntry.currentFormula, action.commitment, getStructureObject(state), lastEntry.gameVariables, expression);\n          addToHistory(expression, lastEntry.currentFormula, action.commitment, nextMove, lastEntry.gameVariables, action.gameMessages, action.userMessages);\n          return;\n      }\n\n    case CONTINUE_GAME:\n      {\n          const variables = new Map(lastEntry.gameVariables);\n          if (!lastEntry) {\n            return;\n          }\n          if(lastEntry.currentFormula.getType(lastEntry.gameCommitment) === GAME_QUANTIFIER){\n            variables.set(lastEntry.nextMove.variables[0], lastEntry.nextMove.variables[1]);\n          }\n          const nextMove = getNextStepForGame(lastEntry.nextMove.formula, lastEntry.nextMove.commitment, getStructureObject(state), variables, expression);\n          addToHistory(expression, lastEntry.nextMove.formula, lastEntry.nextMove.commitment, nextMove, variables, action.gameMessages, action.userMessages);\n          return;\n      }\n\n    case SET_GAME_DOMAIN_CHOICE:\n      {\n          if (!lastEntry) {\n            return;\n          }\n          const variables = new Map(lastEntry.gameVariables);\n          const varName = 'n' + expression.variableIndex;\n          variables.set(varName, action.value);\n          console.log(lastEntry.currentFormula);\n          console.log(varName);\n          const currentFormula = lastEntry.currentFormula.subFormula.substitute(lastEntry.currentFormula.variableName, varName);\n          console.log(currentFormula);\n          expression.variableIndex = setValidVariableIndex(currentFormula, expression.variableIndex, variables);\n          const nextMove = getNextStepForGame(currentFormula, lastEntry.gameCommitment, getStructureObject(state), variables, expression);\n          addToHistory(expression, currentFormula, lastEntry.gameCommitment, nextMove, variables, action.gameMessages, action.userMessages);\n          return;\n      }\n\n    case SET_GAME_NEXT_FORMULA:\n      {\n          const currentFormula = action.formula.createCopy();\n          const nextMove = getNextStepForGame(currentFormula, action.commitment, getStructureObject(state), lastEntry.gameVariables, expression);\n          addToHistory(expression, currentFormula, action.commitment, nextMove, lastEntry.gameVariables, action.gameMessages, action.userMessages);\n          return;\n      }\n\n    case END_GAME:\n          endGame(expression);\n          return;\n\n    case GET_VARIABLES:\n          expression.showVariables = !expression.showVariables;\n          return;\n\n    case GO_BACK:\n          expression.gameHistory = expression.gameHistory.slice(0, action.historyIndex);\n          return;\n\n    default:\n          return;\n    }\n}\n\nfunction endGame(expression) {\n  expression.gameHistory = new Array();\n  expression.showVariables = false;\n  expression.gameEnabled = false;\n  expression.variableIndex = 1;\n}\n\nfunction addExpression(expressions, expressionType) {\n  if (expressionType === FORMULA) {\n    expressions.formulas.push({...defaultExpressionData(), ...defaultHintikkaGameData()});\n  } else if (expressionType === TERM) {\n    expressions.terms.push(defaultExpressionData());\n  }\n}\n\nfunction removeExpression(expressions, expressionType, expressionIndex) {\n  if (expressionType === FORMULA && expressionIndex < expressions.formulas.length) {\n    expressions.formulas.splice(expressionIndex, 1);\n  } else if (expressionType === TERM && expressionIndex < expressions.terms.length) {\n    expressions.terms.splice(expressionIndex, 1);\n  }\n}\n\nfunction syncExpressionsValue(expressions, state, variables, parse = false) {\n  expressions.formulas.forEach(formula => {\n    if (parse) {\n      parseExpression(formula, formula.value, state, FORMULA);\n      // noinspection JSUndefinedPropertyAssignment\n    }\n    evalExpression(state, formula, variables);\n  });\n  expressions.terms.forEach(term => {\n    if (parse) {\n      parseExpression(term, term.value, state, TERM);\n    }\n    evalExpression(state, term, variables);\n  });\n}\n\nfunction evalExpression(state, expression, variables) {\n  if (!expression.parsed || expression.parsed.length === 0) {\n    return;\n  }\n  expression.errorMessage = '';\n  try {\n    expression.expressionValue = expression.parsed.eval(getStructureObject(state), variables);\n  } catch (e) {\n    expression.errorMessage = e;\n    expression.expressionValue = null;\n  }\n}\n\nfunction checkExpressionSyntax(expressions, state, action, variables) {\n  let expressionText = action.value;\n  let expression = expressions.terms[action.index];\n  if (action.expressionType === FORMULA) {\n    expression = expressions.formulas[action.index];\n  }\n  parseExpression(expression, expressionText, state, action.expressionType);\n  expression.value = action.value; // aby tam neboli zatvorky\n  if (expression.errorMessage.length === 0) {\n    expression.validSyntax = true;\n    evalExpression(state, expression, variables);\n  } else {\n    expression.validSyntax = false;\n  }\n}\n\nfunction setExpressionAnswer(expressions, expressionType, expressionIndex, answer) {\n  if (expressionType === FORMULA && expressionIndex < expressions.formulas.length) {\n    let ans = (answer === 'true');\n    if (answer === '-1')\n      ans = '-1';\n    expressions.formulas[expressionIndex].answerValue = ans;\n  } else if (expressionType === TERM && expressionIndex < expressions.terms.length) {\n    expressions.terms[expressionIndex].answerValue = answer;\n  }\n}\n\nfunction lockExpressionAnswer(expressions, expressionType, expressionIndex) {\n  if (expressionType === FORMULA && expressionIndex < expressions.formulas.length) {\n    expressions.formulas[expressionIndex].answerLocked = !expressions.formulas[expressionIndex].answerLocked;\n  } else if (expressionType === TERM && expressionIndex < expressions.terms.length) {\n    expressions.terms[expressionIndex].answerLocked = !expressions.terms[expressionIndex].answerLocked;\n  }\n}\n\nfunction lockExpressionValue(expressions, expressionType, expressionIndex) {\n  if (expressionType === FORMULA && expressionIndex < expressions.formulas.length) {\n    expressions.formulas[expressionIndex].inputLocked = !expressions.formulas[expressionIndex].inputLocked;\n  } else if (expressionType === TERM && expressionIndex < expressions.terms.length) {\n    expressions.terms[expressionIndex].inputLocked = !expressions.terms[expressionIndex].inputLocked;\n  }\n}\n\nfunction addToHistory(expression, currentFormula, commitment, nextFormula, gameVariables, gameMessages, userMessages){\n  expression.gameHistory.push(gameEntry(\n        commitment,\n        gameVariables,\n        currentFormula.createCopy(),\n        nextFormula,\n        gameMessages,\n        userMessages\n  ));\n}\n\nfunction getNextStepForGame(currentFormula, commitment, structureObject, variableObject, expression){\n    if(currentFormula.getType(commitment) === GAME_OPERATOR){\n        const subFormulas = currentFormula.getSubFormulas();\n        const subFormulasEval = subFormulas.map(formula => formula.eval(structureObject, variableObject));\n        const subFormulasCommitment = currentFormula.getSubFormulasCommitment(commitment);\n        const randomFormula = Math.floor(Math.random() * subFormulas.length);\n        for(let i = 0; i < subFormulas.length; i++){\n          if(subFormulasCommitment[i] !== subFormulasEval[i]){\n            return {formula: subFormulas[i], commitment: subFormulasCommitment[i], variables: variableObject}\n          }\n        }\n        return {formula: subFormulas[randomFormula], commitment: subFormulasCommitment[randomFormula], variables: variableObject}\n    } else if(currentFormula.getType(commitment) === GAME_QUANTIFIER){\n        const domain = Array.from(structureObject.domain);\n        const variables = new Map(variableObject);\n        const varName = 'n' + expression.variableIndex;\n        console.log(currentFormula)\n        const formula = currentFormula.subFormula.substitute(currentFormula.variableName, varName);\n        console.log(formula)\n        expression.variableIndex = setValidVariableIndex(formula, expression.variableIndex, variables);\n\n        for (const value of domain) {\n          variables.set(varName, value);\n          if (formula.eval(structureObject, variables) !== commitment) {\n            return { formula, commitment, variables: [varName, value] };\n          }\n        }\n\n        const randomDomainValue = domain[Math.floor(Math.random() * domain.length)];\n        return { formula, commitment, variables: [varName, randomDomainValue] };\n    }\n    return null;\n}\n\nfunction setValidVariableIndex(formula, variableIndex, variables){\n    const variablesInFormula = formula.getVariables();\n    while(variablesInFormula.includes('n' + variableIndex) || variables.has('n' + variableIndex)){\n        variableIndex++;\n    }\n    return variableIndex;\n}\n\n\nexport default expressionsReducer;","import {TOGGLE_TEACHER_MODE} from \"../actions/action_types\";\nimport produce from \"immer\";\n\nconst teacherModeReducer = produce((state:any, action:any) => {\n    if (action.type === TOGGLE_TEACHER_MODE) {\n        state.teacherMode = !state.teacherMode;\n        return;\n    } else {\n        return;\n    }\n})\n\nexport default teacherModeReducer;","import { UnBinaryNodeWidget } from './UnBinaryNodeWidget';\nimport { UnBinaryNodeModel } from './UnBinaryNodeModel';\nimport * as React from 'react';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\nexport class UnBinaryNodeFactory extends AbstractReactFactory<UnBinaryNodeModel, DiagramEngine> {\n\tconstructor() {\n\t\tsuper('unbinary');\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\tlet reduxProps = event.model.getReduxProps();\n\t\treturn <UnBinaryNodeWidget removeDomainNode={reduxProps[\"removeDomainNode\"]} renameDomainNode={reduxProps[\"renameDomainNode\"]} engine={this.engine} size={50} model={event.model}/>;\n\t}\n\n\tgenerateModel(event:any) {\n\t\treturn new UnBinaryNodeModel();\n\t}\n}\n","import { ConstantNodeWidget } from './ConstantNodeWidget';\nimport { ConstantNodeModel } from './ConstantNodeModel';\nimport * as React from 'react';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\nexport class ConstantNodeFactory extends AbstractReactFactory<ConstantNodeModel, DiagramEngine> {\n\tconstructor() {\n\t\tsuper('constant');\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\tlet reduxProps = event.model.options.reduxProps;\n\t\treturn <ConstantNodeWidget removeConstantNode={reduxProps[\"removeConstantNode\"]} renameConstantNode={reduxProps[\"renameConstantNode\"]} engine={this.engine} size={50} model={event.model}/>;\n\t}\n\n\tgenerateModel(event:any) {\n\t\treturn new ConstantNodeModel();\n\t}\n}\n","import * as React from 'react';\nimport { BinaryLabelModel } from './BinaryLabelModel';\nimport { BinaryLabelWidget } from './BinaryLabelWidget';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\nexport class BinaryLabelFactory extends AbstractReactFactory< BinaryLabelModel, DiagramEngine> {\n\tconstructor() {\n\t\tsuper('binary');\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\treturn <BinaryLabelWidget model={event.model} engine={this.engine}/>;\n\t}\n\n\tgenerateModel(event:any): BinaryLabelModel {\n\t\treturn new BinaryLabelModel();\n\t}\n}\n","import { DiagramEngine, PortModel} from '@projectstorm/react-diagrams';\nimport { AbstractModelFactory } from '@projectstorm/react-canvas-core';\n\nexport class SimplePortFactory extends AbstractModelFactory<PortModel, DiagramEngine> {\n\tcb: (initialConfig?: any) => PortModel;\n\n\tconstructor(type: string, cb: (initialConfig?: any) => PortModel) {\n\t\tsuper(type);\n\t\tthis.cb = cb;\n\t}\n\n\tgenerateModel(event:any): PortModel {\n\t\treturn this.cb(event.initialConfig);\n\t}\n}\n","import * as React from 'react';\nimport { PointModel } from '@projectstorm/react-diagrams-core';\nimport styled from '@emotion/styled';\n\nexport interface BinaryLinkPointWidgetProps {\n\tpoint: PointModel;\n\tcolor?: string;\n\tcolorSelected: string;\n}\n\nexport interface BinaryLinkPointWidgetState {\n\tselected: boolean;\n}\n\n\texport const PointTop = styled.circle`\n\t\tpointer-events: all;\n\t`;\n\nexport class BinaryLinkPointWidget extends React.Component<BinaryLinkPointWidgetProps, BinaryLinkPointWidgetState> {\n\tconstructor(props:any) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselected: false\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { point } = this.props;\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<circle\n\t\t\t\t\tcx={point.getPosition().x}\n\t\t\t\t\tcy={point.getPosition().y}\n\t\t\t\t\tr={5}\n\t\t\t\t\tfill={this.state.selected || this.props.point.isSelected() ? this.props.colorSelected : this.props.color}\n\t\t\t\t/>\n\t\t\t\t<PointTop\n\t\t\t\t\tclassName=\"point\"\n\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t\t}}\n\t\t\t\t\tdata-id={point.getID()}\n\t\t\t\t\tdata-linkid={point.getLink().getID()}\n\t\t\t\t\tcx={point.getPosition().x}\n\t\t\t\t\tcy={point.getPosition().y}\n\t\t\t\t\tr={15}\n\t\t\t\t\topacity={0.0}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport { BinaryLinkFactory } from './BinaryLinkFactory';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\nimport { BinaryLinkModel } from './BinaryLinkModel';\n\nexport interface BinaryLinkSegmentWidgetProps {\n\tpath: string;\n\tlink: BinaryLinkModel;\n\tselected: boolean;\n\tforwardRef: React.RefObject<SVGPathElement>;\n\tfactory: BinaryLinkFactory;\n\tdiagramEngine: DiagramEngine;\n\tonSelection: (selected: boolean) => any;\n\textras: object;\n}\n\nexport class BinaryLinkSegmentWidget extends React.Component<BinaryLinkSegmentWidgetProps> {\n\trender() {\n\t\tconst Bottom = React.cloneElement(\n\t\t\tthis.props.factory.generateLinkSegment(\n\t\t\t\tthis.props.link,\n\t\t\t\tthis.props.selected || this.props.link.isSelected(),\n\t\t\t\tthis.props.path\n\t\t\t),\n\t\t\t{\n\t\t\t\tref: this.props.forwardRef\n\t\t\t}\n\t\t);\n\n\t\tconst Top = React.cloneElement(Bottom, {\n\t\t\tstrokeLinecap: 'round',\n\t\t\tonMouseLeave: () => {\n\t\t\t\tthis.props.onSelection(false);\n\t\t\t},\n\t\t\tonMouseEnter: () => {\n\t\t\t\tthis.props.onSelection(true);\n\t\t\t},\n\t\t\t...this.props.extras,\n\t\t\tref: null,\n\t\t\t'data-linkid': this.props.link.getID(),\n\t\t\tstrokeOpacity: this.props.selected ? 0.1 : 0,\n\t\t\tstrokeWidth: 20,\n\t\t\tfill: 'none',\n\t\t\tonContextMenu: (event:any) => {\n\t\t\t\tif (!this.props.link.isLocked()) {\n\t\t\t\t\tevent.preventBinary();\n\t\t\t\t\tthis.props.link.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{Bottom}\n\t\t\t\t{Top}\n\t\t\t</g>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport { DiagramEngine, LinkWidget, PointModel } from '@projectstorm/react-diagrams-core';\nimport { BinaryLinkModel } from './BinaryLinkModel';\nimport { BinaryLinkPointWidget } from './BinaryLinkPointWidget';\nimport { BinaryLinkSegmentWidget } from './BinaryLinkSegmentWidget';\nimport { MouseEvent } from 'react';\nimport {clearAllWithoutCurrentModel} from \"../../nodes/functions\";\n\nexport interface BinaryLinkProps {\n\tlink: BinaryLinkModel;\n\tdiagramEngine: DiagramEngine;\n\tpointAdded?: (point: PointModel, event: MouseEvent) => any;\n}\n\nexport interface BinaryLinkState {\n\tselected: boolean;\n}\n\nexport class BinaryLinkWidget extends React.Component<BinaryLinkProps, BinaryLinkState> {\n\trefPaths: React.RefObject<SVGPathElement>[];\n\n\tconstructor(props: BinaryLinkProps) {\n\t\tsuper(props);\n\t\tthis.refPaths = [];\n\t\tthis.state = {\n\t\t\tselected: false,\n\t\t};\n\t}\n\n\tcomponentDidUpdate(): void {\n\t\tthis.setRenderedLinkPath();\n\t}\n\n\tcomponentDidMount(): void {\n\t\tthis.setRenderedLinkPath();\n\t\tclearAllWithoutCurrentModel(this.props.link,this.props.diagramEngine);\n\t}\n\n\tsetRenderedLinkPath(){\n\t\tthis.props.link.setRenderedPaths(\n\t\t\tthis.refPaths.map(ref => {\n\t\t\t\treturn ref.current;\n\t\t\t})\n\t\t);\n\t}\n\n\tcomponentWillUnmount(): void {\n\t\tthis.props.link.setRenderedPaths([]);\n\t}\n\n\taddPointToLink(event: MouseEvent, index: number) {\n\t\tif (\n\t\t\tevent.shiftKey &&\n\t\t\t// @ts-ignore\n\t\t\tthis.props.link.getSourcePort().getNode().isEditable() &&\n\t\t\t!this.props.link.isLocked() &&\n\t\t\tthis.props.link.getPoints().length - 1 <= this.props.diagramEngine.getMaxNumberPointsPerLink()\n\t\t) {\n\t\t\tconst point = new PointModel({\n\t\t\t\tlink: this.props.link,\n\t\t\t\tposition: this.props.diagramEngine.getRelativeMousePoint(event)\n\t\t\t});\n\t\t\tthis.props.link.addPoint(point, index);\n\t\t\tevent.persist();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.forceUpdate(() => {\n\t\t\t\tthis.props.diagramEngine.getActionEventBus().fireAction({\n\t\t\t\t\tevent,\n\t\t\t\t\tmodel: point\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tgeneratePoint(point: PointModel): JSX.Element {\n\t\treturn (\n\t\t\t<BinaryLinkPointWidget\n\t\t\t\tkey={point.getID()}\n\t\t\t\tpoint={point as any}\n\t\t\t\tcolorSelected={this.props.link.getOptions().selectedColor}\n\t\t\t\tcolor={this.props.link.getOptions().color}\n\t\t\t/>\n\t\t);\n\t}\n\n\tgenerateLink(path: string, extraProps: any, id: string | number): JSX.Element {\n\t\tconst ref = React.createRef<SVGPathElement>();\n\t\tthis.refPaths.push(ref);\n\t\treturn (\n\t\t\t<BinaryLinkSegmentWidget\n\t\t\t\tkey={`link-${id}`}\n\t\t\t\tpath={path}\n\t\t\t\tselected={this.state.selected}\n\t\t\t\tdiagramEngine={this.props.diagramEngine}\n\t\t\t\tfactory={this.props.diagramEngine.getFactoryForLink(this.props.link)}\n\t\t\t\tlink={this.props.link}\n\t\t\t\tforwardRef={ref}\n\t\t\t\tonSelection={selected => {\n\t\t\t\t\tthis.setState({ selected: selected });\n\t\t\t\t}}\n\t\t\t\textras={extraProps}\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\t//ensure id is present for all points on the path\n\t\tvar points = this.props.link.getPoints();\n\t\tvar paths = [];\n\t\tthis.refPaths = [];\n\n\t\tif (points.length === 2) {\n\t\t\tpaths.push(\n\t\t\t\tthis.generateLink(\n\t\t\t\t\tthis.props.link.getSVGPath(),\n\t\t\t\t\t{\n\t\t\t\t\t\tonMouseDown: (event:any) => {\n\t\t\t\t\t\t\tthis.addPointToLink(event, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'0'\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// draw the link as dangeling\n\t\t\tif (this.props.link.getTargetPort() == null) {\n\t\t\t\tpaths.push(this.generatePoint(points[1]));\n\t\t\t}\n\t\t} else {\n\t\t\t//draw the multiple anchors and complex line instead\n\t\t\tfor (let j = 0; j < points.length - 1; j++) {\n\t\t\t\tpaths.push(\n\t\t\t\t\tthis.generateLink(\n\t\t\t\t\t\tLinkWidget.generateLinePath(points[j], points[j + 1]),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'data-linkid': this.props.link.getID(),\n\t\t\t\t\t\t\t'data-point': j,\n\t\t\t\t\t\t\tonMouseDown: (event: MouseEvent) => {\n\t\t\t\t\t\t\t\tthis.addPointToLink(event, j + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tj\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//render the circles\n\t\t\tfor (let i = 1; i < points.length - 1; i++) {\n\t\t\t\tpaths.push(this.generatePoint(points[i]));\n\t\t\t}\n\n\t\t\tif (this.props.link.getTargetPort() == null) {\n\t\t\t\tpaths.push(this.generatePoint(points[points.length - 1]));\n\t\t\t}\n\t\t}\n\n\t\treturn <g data-binary-link-test={this.props.link.getOptions().testName}>{paths}</g>;\n\t}\n}\n","import * as React from 'react';\nimport { BinaryLinkModel } from './BinaryLinkModel';\nimport { BinaryLinkWidget } from './BinaryLinkWidget';\nimport styled from '@emotion/styled';\nimport { css, keyframes } from '@emotion/core';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\n\texport const Keyframes = keyframes`\n\t\tfrom {\n\t\t\tstroke-dashoffset: 24;\n\t\t}\n\t\tto {\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t`;\n\n\tconst selected = css`\n\t\tstroke-dasharray: 10, 2;\n\t\tanimation: ${Keyframes} 1s linear infinite;\n\t`;\n\n\texport const Path = styled.path<{ selected: boolean }>`\n\t\t${p => p.selected && selected};\n\t\tfill: none;\n\t\tpointer-events: all;\n\t`;\n\nexport class BinaryLinkFactory<Link extends BinaryLinkModel = BinaryLinkModel> extends AbstractReactFactory<\n\tLink,\n\tDiagramEngine\n> {\n\tconstructor(type = 'binary') {\n\t\tsuper(type);\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\treturn <BinaryLinkWidget link={event.model} diagramEngine={this.engine} />;\n\t}\n\n\tgenerateModel(event:any): Link {\n\t\treturn new BinaryLinkModel() as Link;\n\t}\n\n\tgenerateLinkSegment(model: Link, selected: boolean, path: string) {\n\t\treturn (\n\t\t\t<Path\n\t\t\t\tselected={selected}\n\t\t\t\tstroke={selected ? model.getOptions().selectedColor : model.getOptions().color}\n\t\t\t\tstrokeWidth={model.getOptions().width}\n\t\t\t\td={path}\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { QuaternaryNodeWidget } from './QuaternaryNodeWidget';\nimport { QuaternaryNodeModel } from './QuaternaryNodeModel';\nimport * as React from 'react';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\nexport class QuaternaryNodeFactory extends AbstractReactFactory<QuaternaryNodeModel, DiagramEngine> {\n\tconstructor() {\n\t\tsuper('quaternary');\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\treturn <QuaternaryNodeWidget engine={this.engine} size={50} model={event.model} />;\n\t}\n\n\tgenerateModel(event:any) {\n\t\treturn new QuaternaryNodeModel();\n\t}\n}\n","import * as React from 'react';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\nimport {TernaryNodeModel} from \"./TernaryNodeModel\";\nimport { TernaryNodeWidget } from './TernaryNodeWidget';\n\nexport class TernaryNodeFactory extends AbstractReactFactory<TernaryNodeModel, DiagramEngine> {\n\tconstructor() {\n\t\tsuper('ternary');\n\t}\n\n\tgenerateReactWidget(event:any): JSX.Element {\n\t\treturn <TernaryNodeWidget engine={this.engine} size={50} model={event.model} />;\n\t}\n\n\tgenerateModel(event:any) {\n\t\treturn new TernaryNodeModel();\n\t}\n}\n","import createEngine,{DiagramModel, DiagramEngine, DefaultDiagramState } from '@projectstorm/react-diagrams';\nimport {UnBinaryNodeFactory} from \"./nodes/unbinary/UnBinaryNodeFactory\";\nimport {ConstantNodeFactory} from \"./nodes/constant/ConstantNodeFactory\";\nimport {BinaryLabelFactory} from \"./labels/binary/BinaryLabelFactory\";\nimport { SimplePortFactory } from './nodes/SimplePortFactory';\nimport {BinaryLinkFactory} from \"./links/binary/BinaryLinkFactory\";\nimport {QuaternaryNodeFactory} from \"./nodes/quaternary/QuaternaryNodeFactory\";\nimport {TernaryNodeFactory} from \"./nodes/ternary/TernaryNodeFactory\";\nimport {NaryRelationPortModel} from \"./nodes/NaryRelationPortModel\";\n\nexport class DiagramApplication {\n\tprotected activeModel: DiagramModel;\n\tprotected diagramEngine: DiagramEngine;\n\n\tconstructor(diagramModel:DiagramModel) {\n\t\tthis.diagramEngine = createEngine();\n\t\tthis.setState();\n\t\tthis.setModel(diagramModel);\n\n\t\t//Custom ports access\n\t\tthis.diagramEngine.getPortFactories().registerFactory(new SimplePortFactory('nary', config => new NaryRelationPortModel()));\n\t\t//Custom nodes access\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new QuaternaryNodeFactory());\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new UnBinaryNodeFactory());\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new ConstantNodeFactory());\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new TernaryNodeFactory());\n\t\t//Custom link access\n\t\tthis.diagramEngine.getLinkFactories().registerFactory(new BinaryLinkFactory());\n\t\t//Custom labels access\n\t\tthis.diagramEngine.getLabelFactories().registerFactory(new BinaryLabelFactory());\n\t}\n\n\tpublic setState(){\n\t\tconst state = this.diagramEngine.getStateMachine().getCurrentState();\n\t\tif (state instanceof DefaultDiagramState) {\n\t\t\tstate.dragNewLink.config.allowLooseLinks = false;\n\t\t}\n\t}\n\n\tpublic setModel(diagramModel: DiagramModel) {\n\t\tthis.diagramEngine.setModel(diagramModel);\n\t\tthis.activeModel = diagramModel;\n\t\t//set number of links to zero, so if we will select a link it will not create a point\n\t\t//this.getDiagramEngine().setMaxNumberPointsPerLink(0);\n\t}\n\n\tpublic getActiveModel(): DiagramModel {\n\t\treturn this.activeModel;\n\t}\n\n\tpublic getDiagramEngine(): DiagramEngine {\n\t\treturn this.diagramEngine;\n\t}\n}\n","import {\n  ADD_CONSTANT_NODE,\n  ADD_DOMAIN_NODE,\n  RENAME_DOMAIN_NODE,\n  REMOVE_CONSTANT_NODE,\n  REMOVE_DOMAIN_NODE,\n  SET_DIAGRAM,\n  SYNC_DIAGRAM,\n  SYNC_MATH_STATE,\n  TOGGLE_EDITABLE_NODES,\n  RENAME_CONSTANT_NODE,\n  ADD_QUATERNARY_NODE,\n  ADD_TERNARY_NODE, IMPORT_APP, IMPORT_DIAGRAM_STATE, REMOVE_QUATERNARY_NODE, REMOVE_TERNARY_NODE, CLEAR_GRAPH_SELECTION\n} from \"../actions/action_types\";\nimport {UnBinaryNodeModel} from \"../../graph_view/nodes/unbinary/UnBinaryNodeModel\";\nimport {\n  BASIC_CURVYNESS,\n  BOTH,\n  FROM,\n  FUNCTION,\n  PREDICATE, QUATERNARY,\n  TERNARY,\n  TO\n} from \"../../graph_view/nodes/ConstantNames\";\nimport {ConstantNodeModel} from \"../../graph_view/nodes/constant/ConstantNodeModel\";\nimport {DiagramModel} from \"@projectstorm/react-diagrams\";\nimport {BinaryLinkModel} from \"../../graph_view/links/binary/BinaryLinkModel\";\nimport {DiagramApplication} from \"../../graph_view/DiagramAplication\";\nimport _ from \"lodash\";\nimport {TernaryNodeModel} from \"../../graph_view/nodes/ternary/TernaryNodeModel\";\nimport {QuaternaryNodeModel} from \"../../graph_view/nodes/quaternary/QuaternaryNodeModel\";\nimport {getStructureObject} from \"../selectors/structureObject\";\n\nexport function defaultState(){\n  let diagramModel = new DiagramModel();\n  return{\n    diagramModel: diagramModel,\n    diagramEngine: new DiagramApplication(diagramModel).diagramEngine,\n    domainNodes: new Map(),\n    constantNodes: new Map(),\n    ternaryNodes: new Map(),\n    quaternaryNodes: new Map(),\n    editableNodes: false\n  }\n}\n\nfunction diagramReducer(state, action, wholeState) {\n  switch (action.type) {\n    case SET_DIAGRAM:\n      state.diagramModel = action.diagramModel;\n      return state;\n    case SYNC_DIAGRAM:\n      let value = {...action.value,focusOnBodyFunc:action.focusOnBodyFunc};\n      syncDomain(value);\n      syncLabels(state);\n      syncPredicates(value, wholeState);\n      syncFunctions(value, wholeState);\n      syncConstants(value);\n      return state;\n    case ADD_DOMAIN_NODE:\n      state.domainNodes.set(action.nodeName, action.nodeObject);\n      return state;\n    case RENAME_DOMAIN_NODE:\n      state.domainNodes.set(action.newName, state.domainNodes.get(action.oldName));\n      state.domainNodes.delete(action.oldName);\n      return state;\n    case REMOVE_DOMAIN_NODE:\n      state.domainNodes.delete(action.nodeName);\n      return state;\n    case ADD_CONSTANT_NODE:\n      state.constantNodes.set(action.nodeName, action.nodeObject);\n      return state;\n    case RENAME_CONSTANT_NODE:\n      state.constantNodes.set(action.newName, state.constantNodes.get(action.oldName));\n      state.constantNodes.delete(action.oldName);\n      return state;\n    case REMOVE_CONSTANT_NODE:\n      state.constantNodes.delete(action.nodeName);\n      return state;\n    case ADD_TERNARY_NODE:\n      state.ternaryNodes.set(action.nodeName,action.nodeObject);\n      return state;\n    case REMOVE_TERNARY_NODE:\n      state.ternaryNodes.delete(action.nodeName);\n      return state;\n    case ADD_QUATERNARY_NODE:\n      state.quaternaryNodes.set(action.nodeName,action.nodeObject);\n      return state;\n    case REMOVE_QUATERNARY_NODE:\n      state.quaternaryNodes.delete(action.nodeName);\n      return state;\n    case SYNC_MATH_STATE:\n      deleteAllLabels(state);\n      return state;\n    case TOGGLE_EDITABLE_NODES:\n      changeEditableState(state,action.value);\n      return {...state, editableNodes: action.value};\n    case IMPORT_APP:\n      let diagramModel = new DiagramModel();\n      state.diagramEngine.setModel(diagramModel);\n      clearDiagramState(state);\n      return {...state,diagramModel:diagramModel,diagramCordState:JSON.parse(action.content).diagramCordState,imported:true};\n    case IMPORT_DIAGRAM_STATE:\n      let values = {...action.state,focusOnBodyFunc:action.focusOnBodyFunc};\n      syncDomain(values);\n      syncLabels(values.diagramState);\n      syncPredicates(values, wholeState);\n      syncFunctions(values, wholeState);\n      syncConstants(values);\n      syncNodesCords(values.diagramState);\n      changeEditableState(state,state.editableNodes);\n      setCallReduxFunc(state.diagramModel,true);\n      return {...state,imported:false};\n    case CLEAR_GRAPH_SELECTION:\n      state.diagramModel.clearSelection();\n      return state;\n    default:\n      return state;\n  }\n}\n\nfunction changeEditableState(state,boolValue){\n  let nodeArray = state.diagramModel.getNodes();\n  for (let a = 0; a < nodeArray.length; a++) {\n    nodeArray[a].changeEditableState(boolValue);\n  }\n\n  let linkArray = state.diagramModel.getLinks();\n  for (let i = 0; i < linkArray.length; i++) {\n    let labelArray = linkArray[i].getLabels();\n    for (let y = 0; y < labelArray.length; y++) {\n      labelArray[y].changeEditableState(boolValue);\n    }\n  }\n  state.diagramEngine.repaintCanvas();\n}\n\nfunction syncNodesCords(state){\n  let nodeState = new Map([[\"domainNodes\", state.domainNodes],[\"constantNodes\", state.constantNodes],[\"ternaryNodes\", state.ternaryNodes],[\"quaternaryNodes\",state.quaternaryNodes]]);\n  let diagramCordState = state.diagramCordState;\n\n  if(!diagramCordState){\n    return;\n  }\n\n  let naryNodeMap = new Map();\n\n  for (let nodeTypeMap of nodeState.values()) {\n    if(nodeTypeMap === \"ternaryNodes\" || nodeTypeMap === \"quaternaryNodes\"){\n      for(let node of nodeTypeMap.values()){\n        let nodeValue = node.getNodeNameCombination();\n        if (nodeValue) {\n          naryNodeMap.set(nodeValue.join(\",\"), node);\n        }\n      }\n    }\n  }\n\n  for(let mapName of nodeState.keys()){\n    for(let [nodeName,nodeObject] of nodeState.get(mapName).entries()){\n      if(diagramCordState.hasOwnProperty(mapName)){\n        let nodeNameInObject = (mapName === \"domainNodes\" || mapName === \"constantNodes\")?nodeName:nodeObject.getNodeNameCombination();\n        if(diagramCordState[mapName].hasOwnProperty(nodeNameInObject)){\n          let cord = diagramCordState[mapName][nodeNameInObject];\n          nodeObject.setPosition(cord.x,cord.y);\n        }\n      }\n    }\n  }\n  state.diagramEngine.repaintCanvas();\n}\n\nfunction syncLabels(state){\n  let linkArray = state.diagramModel.getLinks();\n  for (let i = 0; i<linkArray.length;i++) {\n    if(linkArray[i].label && linkArray[i].getLabels().length === 0){\n      linkArray[i].addLabel(linkArray[i].label);\n    }\n  }\n}\n\nfunction deleteAllLabels(action) {\n  let linkArray = action.diagramModel.getLinks();\n  for(let i = 0; i<linkArray.length;i++){\n    if (linkArray[i] instanceof BinaryLinkModel) {\n      linkArray[i].clearLabels();\n    }\n  }\n}\n\nfunction createNode(nodeObject,nodeName,nodeSet,diagramModel,diagramCanvas){\n  let canvasWidth = diagramCanvas.clientWidth;\n  let canvasHeight = diagramCanvas.clientHeight;\n\n  nodeObject.setPosition(Math.random() * (canvasWidth - canvasWidth * 0.2) + canvasWidth * 0.05, Math.random() * (canvasHeight - canvasHeight * 0.2) + canvasHeight * 0.05);\n\n  addNodeState(nodeName, nodeObject, nodeSet);\n  diagramModel.addNode(nodeObject);\n}\n\nfunction createLink(sourcePort,targetPort,diagramModel){\n  let link = new BinaryLinkModel({},false);\n  link.setSourcePort(sourcePort);\n  link.setTargetPort(targetPort);\n  diagramModel.addAll(link);\n  return link;\n}\n\nfunction createLabel(linkWhereLabelShouldBeAdded){\n  let label = new BinaryLinkModel({},false);\n  if(linkWhereLabelShouldBeAdded.getTargetPort().getNode() === linkWhereLabelShouldBeAdded.getSourcePort().getNode()){\n    label.setCurvyness(BASIC_CURVYNESS);\n  }\n  linkWhereLabelShouldBeAdded.addLabel(label);\n}\n\nfunction syncConstants(values){\n  if(values.structure.constants!== null){\n    let constantObjects = new Map(Object.entries(values.structure.constants));\n    let constantState = values.diagramState.constantNodes;\n    let domainState = values.diagramState.domainNodes;\n    let diagramModel = values.diagramState.diagramModel;\n    let diagramCanvas = values.diagramState.diagramEngine.getCanvas();\n\n    for(let [nodeName,nodeObject] of constantState.entries()) {\n      if (!constantObjects.has(nodeName)) {\n        removeNodeState(nodeName, constantState);\n        removeWholeNode(nodeObject, diagramModel);\n      }\n    }\n\n    for(let [nodeName,nodeProperties] of constantObjects.entries()) {\n      if(!constantState.has(nodeName)) {\n        let node = new ConstantNodeModel(nodeName, 'rgb(92,192,125)', {\n          \"addConstantNode\": values.addConstantNode,\n          \"renameConstantNode\": values.renameConstantNode,\n          \"removeConstantNode\": values.removeConstantNode,\n          \"setConstantValueFromLink\": values.setConstantValueFromLink,\n          \"focusOnBodyElement\": values.focusOnBodyFunc,\n          \"store\": values.store,\n        });\n        createNode(node,nodeName,constantState,diagramModel,diagramCanvas);\n        if(nodeProperties.value.length!==0){\n          createLink(node.getMainPort(),domainState.get(nodeProperties.value).getMainPort(),diagramModel);\n        }\n      }\n      else{\n        let nodeObject = constantState.get(nodeName);\n\n        //When entity is removed it would cause a dispatch of another Redux Function and we would get error, by setting callReduxFunc on false we will avoid this problem\n        interruptCallingReduxFunc(nodeObject.getMainPort());\n\n        nodeObject.removeAllLinks();\n        if(nodeProperties.value.length!==0){\n          createLink(nodeObject.getMainPort(),domainState.get(nodeProperties.value).getMainPort(),diagramModel);\n        }\n      }\n    }\n  }\n}\n\nfunction setCallReduxFunc(diagramModel,bool){\n  for(let link of diagramModel.getLinks()){\n    link.setCallReduxFunc(bool);\n  }\n\n}\n\nfunction interruptCallingReduxFunc(port){\n  for (let link of _.values(port.getLinks())) {\n    if(link instanceof BinaryLinkModel){\n      link.setCallReduxFunc(false);\n    }\n  }\n}\n\nfunction addNodeState(nodeName,nodeObject,nodeSet){\n  nodeSet.set(nodeName,nodeObject);\n}\n\nfunction removeNodeState(nodeName,nodeSet){\n  nodeSet.delete(nodeName);\n}\n\nfunction clearDiagramState(diagramState){\n  diagramState.domainNodes.clear();\n  diagramState.constantNodes.clear();\n  diagramState.ternaryNodes.clear();\n  diagramState.quaternaryNodes.clear();\n}\n\nfunction clearCertainNodeState(nodeState){\n  nodeState.clear();\n}\n\nfunction syncLanguageElementType(values,type,state) {\n  let structureObject = getStructureObject(state)\n  let elementInterpretationMap = type === PREDICATE ? structureObject.iPredicate : structureObject.iFunction;\n  let portMap = new Map([[\"1\", new Map()], [\"2\", new Map()], [\"3\", new Map()], [\"4\", new Map()]]);\n  if (elementInterpretationMap && elementInterpretationMap.size > 0) {\n    for (let [key, value] of elementInterpretationMap.entries()) {\n      let keyWithoutArity = key.split('/')[0];\n      let arityWithoutKey = key.split('/')[1];\n      let portMapArity = portMap.get(arityWithoutKey);\n\n      if (type === PREDICATE) {\n        addToPredicatePortMap(portMapArity, value, keyWithoutArity);\n      } else {\n        addToFunctionPortMap(portMapArity, value, keyWithoutArity);\n      }\n    }\n  }\n  return portMap;\n}\n\nfunction addToPredicatePortMap(portMapArity,value,keyWithoutArity) {\n  for (let currentNodeValue of value) {\n    currentNodeValue = currentNodeValue.join(\",\");\n    if (portMapArity.has(currentNodeValue)) {\n      portMapArity.get(currentNodeValue).add(keyWithoutArity);\n    } else {\n      portMapArity.set(currentNodeValue, new Set());\n      portMapArity.get(currentNodeValue).add(keyWithoutArity);\n    }\n  }\n}\n\nfunction addToFunctionPortMap(portMapArity,value,keyWithoutArity) {\n  for (let currentNodeValue in value) {\n    if (value.hasOwnProperty(currentNodeValue)) {\n      let currNodeValueParsed = JSON.parse(currentNodeValue).join(\",\") + (\",\" + value[currentNodeValue]);\n      if (portMapArity.has(currNodeValueParsed)) {\n        portMapArity.get(currNodeValueParsed).add(keyWithoutArity);\n      } else {\n        portMapArity.set(currNodeValueParsed, new Set());\n        portMapArity.get(currNodeValueParsed).add(keyWithoutArity);\n      }\n    }\n  }\n}\n\nfunction syncPredicates(values, state) {\n  let portMap = syncLanguageElementType(values,PREDICATE, state);\n  syncUnaryPredicates(portMap.get(\"1\"),values.diagramState.domainNodes);\n  syncBinaryLinkElement(portMap.get(\"2\"),values.diagramState,PREDICATE);\n  syncNaryLanguageElements(portMap.get(\"3\"),values,TERNARY,PREDICATE);\n  syncNaryLanguageElements(portMap.get(\"4\"),values,QUATERNARY,PREDICATE);\n }\n\n function syncNaryLanguageElements(portMap,values,type,typeElement) {\n   let nodes = new Map();\n   let diagramState = values.diagramState;\n   let nodesOfType = type === TERNARY ? diagramState.ternaryNodes : diagramState.quaternaryNodes;\n\n   for (let node of nodesOfType.values()) {\n     let nodeValue = node.getNodeNameCombination();\n     if (nodeValue) {\n       typeElement === PREDICATE?node.clearPredicates():node.clearFunctions();\n       nodes.set(nodeValue.join(\",\"), node);\n     }\n   }\n\n   let reduxProps = {\n     \"addTernaryNode\":values.addTernaryNode,\n     \"removeTernaryNode\":values.removeTernaryNode,\n     \"addQuaternaryNode\":values.addQuaternaryNode,\n     \"removeQuaternaryNode\":values.removeQuaternaryNode,\n     \"addBinaryFunction\":values.addBinaryFunction,\n     \"removeBinaryFunction\":values.removeBinaryFunction,\n     \"addTernaryPredicate\":values.addTernaryPredicate,\n     \"removeTernaryPredicate\":values.removeTernaryPredicate,\n     \"addTernaryFunction\": values.addTernaryFunction,\n     \"removeTernaryFunction\":values.removeTernaryFunction,\n     \"addQuaternaryPredicate\":values.addQuaternaryPredicate,\n     \"removeQuaternaryPredicate\":values.removeQuaternaryPredicate,\n     \"focusOnBodyElement\": values.focusOnBodyFunc,\n     \"editable\": values.diagramState.editableNodes,\n     \"store\": values.store\n   };\n\n   for (let [nodePortMapCombination, nodePortMapCombinationSet] of portMap.entries()) {\n     let nodeName = getNodeName(nodesOfType,type);\n\n     if (!nodes.has(nodePortMapCombination)) {\n       let node = type === TERNARY?new TernaryNodeModel({name:nodeName,reduxProps:reduxProps,numberOfPorts:3}):new QuaternaryNodeModel({name:nodeName,reduxProps:reduxProps,numberOfPorts:4});\n       createNode(node,nodeName,nodesOfType,diagramState.diagramModel,diagramState.diagramEngine.getCanvas());\n       createLinksForNaryNodes(node,nodePortMapCombination.split(\",\"),diagramState.domainNodes,diagramState.diagramModel);\n       nodes.set(nodePortMapCombination,node);\n     }\n\n     let naryNode = nodes.get(nodePortMapCombination);\n     for(let element of nodePortMapCombinationSet){\n       typeElement === PREDICATE?naryNode.addPredicateToSet(element):naryNode.addFunctionToSet(element);\n     }\n   }\n }\n\n function createLinksForNaryNodes(naryNode,nodeNames,domainNodes,diagramModel){\n  for(let i = 0; i<naryNode.getNumberOfPorts();i++){\n    createLink(naryNode.getPortByIndex(i),domainNodes.get(nodeNames[i]).getMainPort(),diagramModel);\n  }\n }\n\n function getNodeName(diagramStateNodesOfType,type){\n  let name = type;\n  let index = 0;\n  while(diagramStateNodesOfType.has(name+index)){\n    index++;\n  }\n  return name+index;\n }\n\nfunction syncFunctions(values, state) {\n  let portMap = syncLanguageElementType(values,FUNCTION, state);\n  syncBinaryLinkElement(portMap.get(\"1\"),values.diagramState,FUNCTION);\n  syncNaryLanguageElements(portMap.get(\"2\"),values,TERNARY,FUNCTION);\n  syncNaryLanguageElements(portMap.get(\"3\"),values,QUATERNARY,FUNCTION);\n}\n\nfunction syncUnaryPredicates(portMap,domainState) {\n  for (let [currentNodeName, currentNodeObject] of domainState.entries()) {\n    let setOfUnaryPredicatesForNode = portMap.get(currentNodeName);\n\n    if (portMap.has(currentNodeName)) {\n      //added new predicates\n      let currentNodePredicates = currentNodeObject.getUnaryPredicates();\n      for (let predicateName of setOfUnaryPredicatesForNode) {\n        if (!currentNodePredicates.has(predicateName)) {\n          currentNodeObject.addUnaryPredicateToSet(predicateName);\n        }\n      }\n\n      //delete old predicates\n      for (let predicate of currentNodePredicates) {\n        if (!setOfUnaryPredicatesForNode.has(predicate)) {\n          currentNodeObject.removeUnaryPredicateFromSet(predicate);\n        }\n      }\n\n    } else {\n      currentNodeObject.clearPredicates();\n    }\n  }\n}\n\nfunction createBinaryLinks(portMap,existingLinksCombination,diagramState){\n  let linksToChange = new Set();\n  for(let combination of portMap.keys()){\n    let firstComb = combination.split(\",\")[0];\n    let secondComb = combination.split(\",\")[1];\n    let reversedComb = combination.split(\",\")[1]+\",\"+combination.split(\",\")[0];\n    if(!existingLinksCombination.has(combination) && !existingLinksCombination.has(reversedComb)){\n      if(!diagramState.domainNodes.has(firstComb) || !diagramState.domainNodes.has(secondComb)){\n        break;\n      }\n      let sourcePort = diagramState.domainNodes.get(firstComb).getMainPort();\n      let targetPort = diagramState.domainNodes.get(secondComb).getMainPort();\n      if(sourcePort === targetPort){\n        linksToChange.add(createLink(sourcePort,sourcePort.getNode().getAppendPort(),diagramState.diagramModel));\n      }\n      else{\n        linksToChange.add(createLink(sourcePort,targetPort,diagramState.diagramModel));\n      }\n      existingLinksCombination.add(combination);\n      existingLinksCombination.add(reversedComb);\n    }\n  }\n  return linksToChange;\n}\n\nfunction addLanguageElementToBinaryLinks(portMap,nodeCombinationKey,reversedNodeCombinationKey,label,type){\n  if(portMap.has(nodeCombinationKey)){\n    for(let languageElement of portMap.get(nodeCombinationKey)){\n      type === PREDICATE?label.addBinaryPredicateToSetWithDirection(languageElement,FROM):label.addUnaryFunctionToSetWithDirection(languageElement,FROM);\n    }\n  }\n  if(portMap.has(reversedNodeCombinationKey)){\n    for(let languageElement of portMap.get(reversedNodeCombinationKey)){\n      let labelLanguageSet = type === PREDICATE?label.getPredicates():label.getFunctions();\n      if(labelLanguageSet.has(languageElement)){\n        type === PREDICATE?label.addBinaryPredicateToSetWithDirection(languageElement,BOTH):label.addUnaryFunctionToSetWithDirection(languageElement,BOTH);\n      }\n      else{\n        type === PREDICATE?label.addBinaryPredicateToSetWithDirection(languageElement,TO):label.addUnaryFunctionToSetWithDirection(languageElement,TO);\n      }\n    }\n  }\n}\n\nfunction syncBinaryLinkElement(portMap,diagramState,type) {\n  let linksToRemove = new Set();\n  let existingLinksCombination = new Set();\n  for(let link of diagramState.diagramModel.getLinks()){\n    let label = link.getLabel();\n    if(label){\n      let labelLanguageSet = type===PREDICATE?label.getPredicates():label.getFunctions();\n\n      type === PREDICATE?label.clearPredicates():label.clearFunctions();\n      let nodeCombinationKey = label.getNodeCombinationKey();\n      let reversedNodeCombinationKey = label.getReversedNodeCombinationKey();\n      existingLinksCombination.add(nodeCombinationKey);\n      existingLinksCombination.add(reversedNodeCombinationKey);\n\n      addLanguageElementToBinaryLinks(portMap,nodeCombinationKey,reversedNodeCombinationKey,label,type);\n\n      if(labelLanguageSet.size === 0){\n        linksToRemove.add(link);\n      }\n    }\n  }\n  let linksToChange = createBinaryLinks(portMap,existingLinksCombination,diagramState);\n  for(let link of linksToChange){\n    let label = link.getLabel();\n    addLanguageElementToBinaryLinks(portMap,label.getNodeCombinationKey(),label.getReversedNodeCombinationKey(),label,type);\n  }\n  //removeLinksToRemove(linksToRemove);\n  return linksToRemove;\n}\n\nfunction removeLinksToRemove(linksToRemove){\n  for(let link of linksToRemove){\n    link.remove();\n  }\n}\n\nfunction syncDomain(values) {\n  let domain = (values.structure.domain.parsed);\n  let domainState = values.diagramState.domainNodes;\n  let diagramModel = values.diagramState.diagramModel;\n  let diagramCanvas = values.diagramState.diagramEngine.getCanvas();\n\n  if (domain == null || domain.length === 0) {\n    for(let node of domainState.values()){\n      removeWholeNode(node, diagramModel);\n    }\n    clearCertainNodeState(domainState);\n    return;\n  }\n\n  let existingDomainNodes = [];\n  for (let [nodeName, nodeObject] of domainState.entries()) {\n    if (domain.includes(nodeName)) {\n      existingDomainNodes.push(nodeName);\n    } else {\n      removeNodeState(nodeName, domainState);\n      removeWholeNode(nodeObject, diagramModel);\n    }\n  }\n\n  for(let nodeName of domain){\n    if (!existingDomainNodes.includes(nodeName)) {\n      let node = new UnBinaryNodeModel(nodeName, 'rgb(92,192,125)', {\n        \"addDomainNode\":values.addDomainNode,\n        \"renameDomainNode\": values.renameDomainNode,\n        \"removeDomainNode\":values.removeDomainNode,\n        \"addUnaryPredicate\":values.addUnaryPredicate,\n        \"removeUnaryPredicate\":values.removeUnaryPredicate,\n        \"addUnaryFunction\": values.addUnaryFunction,\n        \"removeUnaryFunction\": values.removeUnaryFunction,\n        \"addBinaryPredicate\": values.addBinaryPredicate,\n        \"removeBinaryPredicate\": values.removeBinaryPredicate,\n        \"changeDirectionOfBinaryRelation\": values.changeDirectionOfBinaryRelation,\n        \"focusOnBodyElement\": values.focusOnBodyFunc,\n        \"editable\":values.diagramState.editableNodes,\n        \"store\":values.store,\n      });\n      createNode(node,nodeName,domainState,diagramModel,diagramCanvas);\n    }\n  }\n}\n\nfunction removeWholeNode(node,diagramModel){\n  for(let portObject of Object.values(node.getPorts())){\n    interruptCallingReduxFunc(portObject);\n    node.removePort(portObject); //ensures that all links are deleted\n  }\n diagramModel.removeNode(node);\n}\n\nexport default diagramReducer;","import languageReducer from \"./language\";\nimport structureReducer from \"./structure\";\nimport expressionsReducer from \"./expressions\";\nimport teacherModeReducer from \"./teacherMode\";\nimport {IMPORT_APP} from \"../actions/action_types\";\nimport diagramReducer,{ defaultState as diagramDefaultState } from \"./diagram\";\nimport {defaultState as expressionsDefaultState} from \"./expressions\";\nimport {defaultState as structureDefaultState} from \"./structure\";\nimport {defaultState as languageDefaultState} from \"./language\";\n\nconst defaultState = {\n    common: {\n        teacherMode: false\n    },\n    language: languageDefaultState(),\n    structure: structureDefaultState(),\n    expressions: expressionsDefaultState(),\n    diagramState:diagramDefaultState()\n};\n\nfunction checkImportedState(state:any) {\n    if (!state.common || !state.language || !state.structure) {\n        throw 'State is not valid!';\n    }\n    if (!state.language.constants || !state.language.predicates || !state.language.functions) {\n        throw 'State is not valid!';\n    }\n}\n\nfunction root(state = defaultState, action:any) {\n    if (action.type === IMPORT_APP) {\n        try {\n            const importedState = JSON.parse(action.content);\n            checkImportedState(importedState);\n            state = importedState;\n            state.diagramState = action.diagramState?action.diagramState:diagramDefaultState();\n            // console.log('Imported state', state);\n        } catch (e) {\n            console.error(e);\n        }\n\n    }\n\n    let common = teacherModeReducer(state.common, action);\n    let language = languageReducer(state.language, action);\n    let structure = structureReducer(state.structure, action, {language});\n    let expressions = expressionsReducer(state.expressions, action, {language, structure})\n    let diagramState = diagramReducer(state.diagramState, action, state);\n\n    return {\n        common: common,\n        language: language,\n        structure: structure,\n        expressions: expressions,\n        diagramState: diagramState\n    }\n}\n\nexport default root;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport AppContainer from \"./redux/containers/AppContainer\";\nimport {createStore} from \"redux\";\nimport reducer from \"./redux/reducers\";\nimport {enableMapSet} from \"immer\";\n\nenableMapSet();\n\n// @ts-ignore\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nconst Main = () => (\n    <main className=\"container-fluid\">\n        <AppContainer store={store}/>\n    </main>\n);\n\nReactDOM.render(<Main />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}